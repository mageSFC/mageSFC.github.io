<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Vue学习总结 | 马哥私房菜</title><meta name="author" content="mage"><meta name="copyright" content="mage"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; H5 前端课程系列 &#x3D;&#x3D;&amp;#x">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue学习总结">
<meta property="og:url" content="https://magesfc.github.io/mage/f9fb8533b7fcbaa282e1c4322261c95286f87d4b/">
<meta property="og:site_name" content="马哥私房菜">
<meta property="og:description" content="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; H5 前端课程系列 &#x3D;&#x3D;&amp;#x">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://t.mwm.moe/fj/">
<meta property="article:published_time" content="2023-05-16T13:38:50.000Z">
<meta property="article:modified_time" content="2023-06-12T03:35:14.000Z">
<meta property="article:author" content="mage">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://t.mwm.moe/fj/"><link rel="shortcut icon" href="https://www.zeekrlife.com/favicon.png"><link rel="canonical" href="https://magesfc.github.io/mage/f9fb8533b7fcbaa282e1c4322261c95286f87d4b/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: mage","link":"链接: ","source":"来源: 马哥私房菜","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue学习总结',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-12 11:35:14'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.card-announcement .social-button{margin:.6rem 0 0 0;text-align:center}.card-announcement .social-button a{display:block;background-color:var(--btn-bg);color:var(--btn-color);text-align:center;line-height:2.4;margin:4px 0}.card-announcement .social-button a:hover{background-color:var(--btn-hover-color)}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">213</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">230</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 精选文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/21cfbf15/"><span> 🚀 快速开始</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/dc584b87/"><span> 📑 主题页面</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4aa8abbe/"><span> 🛠 主题配置-1</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/"><span> 🛠 主题配置-2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/98d20436/"><span> ❓ 主题问答</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/"><span> ⚡️ 进阶教程</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/198a4240/"><span> ✨ 更新日志</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://butterfly.js.org/link/"><i class="fa-fw fas fa-thumbs-up"></i><span> 其他示例</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://t.mwm.moe/fj/')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">马哥私房菜</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 精选文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/21cfbf15/"><span> 🚀 快速开始</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/dc584b87/"><span> 📑 主题页面</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4aa8abbe/"><span> 🛠 主题配置-1</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/"><span> 🛠 主题配置-2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/98d20436/"><span> ❓ 主题问答</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/"><span> ⚡️ 进阶教程</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/198a4240/"><span> ✨ 更新日志</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://butterfly.js.org/link/"><i class="fa-fw fas fa-thumbs-up"></i><span> 其他示例</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue学习总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-05-16T13:38:50.000Z" title="发表于 2023-05-16 21:38:50">2023-05-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-12T03:35:14.000Z" title="更新于 2023-06-12 11:35:14">2023-06-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/vue/">vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vue学习总结"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<p>H5 前端课程系列</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<p>Vue 全家桶</p>
<h1 id="第-1-章：Vue-核心"><a href="#第-1-章：Vue-核心" class="headerlink" title="第 1 章：Vue 核心"></a>第 1 章：Vue 核心</h1><h2 id="1-1-Vue-的基本认识"><a href="#1-1-Vue-的基本认识" class="headerlink" title="1.1. Vue 的基本认识"></a>1.1. Vue 的基本认识</h2><h3 id="1-1-1-官网"><a href="#1-1-1-官网" class="headerlink" title="1.1.1. 官网"></a>1.1.1. 官网</h3><ol>
<li>英文官网: <a target="_blank" rel="noopener" href="https://vuejs.org/">https://vuejs.org/</a></li>
<li>中文官网: <a target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></li>
</ol>
<h3 id="1-1-2-介绍描述"><a href="#1-1-2-介绍描述" class="headerlink" title="1.1.2. 介绍描述"></a>1.1.2. 介绍描述</h3><ol>
<li>渐进式 JavaScript 框架</li>
<li>作者: 尤雨溪(一位华裔前 Google 工程师)</li>
<li>作用: 动态构建用户界面</li>
</ol>
<h3 id="1-1-3-Vue-的特点"><a href="#1-1-3-Vue-的特点" class="headerlink" title="1.1.3. Vue 的特点"></a>1.1.3. Vue 的特点</h3><ol>
<li>遵循 MVVM 模式</li>
<li>编码简洁, 体积小, 运行效率高, 适合移动&#x2F;PC 端开发</li>
<li>它本身只关注 UI, 可以轻松引入 vue 插件或其它第三库开发项目</li>
</ol>
<h3 id="1-1-4-与其它前端-JS-框架的关联"><a href="#1-1-4-与其它前端-JS-框架的关联" class="headerlink" title="1.1.4. 与其它前端 JS 框架的关联"></a>1.1.4. 与其它前端 JS 框架的关联</h3><ol>
<li>借鉴 angular 的模板和数据绑定技术</li>
<li>借鉴 react 的组件化和虚拟 DOM 技术</li>
</ol>
<h3 id="1-1-5-Vue-扩展插件"><a href="#1-1-5-Vue-扩展插件" class="headerlink" title="1.1.5. Vue 扩展插件"></a>1.1.5. Vue 扩展插件</h3><ol>
<li>vue-cli: vue 脚手架</li>
<li>vue-resource(axios): ajax 请求</li>
<li>vue-router: 路由</li>
<li>vuex: 状态管理</li>
<li>vue-lazyload: 图片懒加载</li>
<li>vue-scroller: 页面滑动相关</li>
<li>mint-ui: 基于 vue 的 UI 组件库(移动端)</li>
<li>element-ui: 基于 vue 的 UI 组件库(PC 端)</li>
</ol>
<h2 id="1-2-Vue-的基本使用"><a href="#1-2-Vue-的基本使用" class="headerlink" title="1.2. Vue 的基本使用"></a>1.2. Vue 的基本使用</h2><h3 id="1-2-1-效果-01-HelloWorld-x2F-test-html"><a href="#1-2-1-效果-01-HelloWorld-x2F-test-html" class="headerlink" title="1.2.1. 效果 (01_HelloWorld&#x2F;test.html)"></a>1.2.1. 效果 (01_HelloWorld&#x2F;test.html)</h3><p>01_helloworld.gif</p>
<h3 id="1-2-2-编码"><a href="#1-2-2-编码" class="headerlink" title="1.2.2. 编码"></a>1.2.2. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;username&quot;&gt;</span><br><span class="line">    &lt;p&gt;Hello, &#123;&#123;username&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            username: &#x27;atguigu&#x27;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-2-3-使用-vue-开发者工具调试"><a href="#1-2-3-使用-vue-开发者工具调试" class="headerlink" title="1.2.3. 使用 vue 开发者工具调试"></a>1.2.3. 使用 vue 开发者工具调试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vue.js</span><br><span class="line">devtools_3.1.2_0.crx</span><br></pre></td></tr></table></figure>

<h3 id="1-2-4-理解-Vue-的-MVVM"><a href="#1-2-4-理解-Vue-的-MVVM" class="headerlink" title="1.2.4. 理解 Vue 的 MVVM"></a>1.2.4. 理解 Vue 的 MVVM</h3><h2 id="1-3-模板语法"><a href="#1-3-模板语法" class="headerlink" title="1.3. 模板语法"></a>1.3. 模板语法</h2><h3 id="1-3-1-效果-02-模板语法-x2F-test-html"><a href="#1-3-1-效果-02-模板语法-x2F-test-html" class="headerlink" title="1.3.1. 效果 (02_模板语法&#x2F;test.html)"></a>1.3.1. 效果 (02_模板语法&#x2F;test.html)</h3><p>02._模板语法.gif</p>
<ol>
<li>插值语法是往标签体内写入内容的。</li>
<li>指令语法是往标签属性里面写入内容的。</li>
</ol>
<h3 id="1-3-2-模板的理解"><a href="#1-3-2-模板的理解" class="headerlink" title="1.3.2. 模板的理解"></a>1.3.2. 模板的理解</h3><ol>
<li>动态的 html 页面</li>
<li>包含了一些 JS 语法代码</li>
</ol>
<p>a. 双大括号表达式</p>
<p>b. 指令(以 v-开头的自定义标签属性)</p>
<h3 id="1-3-3-双大括号表达式"><a href="#1-3-3-双大括号表达式" class="headerlink" title="1.3.3. 双大括号表达式"></a>1.3.3. 双大括号表达式</h3><ol>
<li>语法: </li>
<li>功能: 向页面输出数据</li>
<li>可以调用对象的方法</li>
</ol>
<h3 id="1-3-4-指令一-强制数据绑定"><a href="#1-3-4-指令一-强制数据绑定" class="headerlink" title="1.3.4. 指令一: 强制数据绑定"></a>1.3.4. 指令一: 强制数据绑定</h3><ol>
<li>功能: 指定变化的属性值</li>
<li>完整写法: v-bind:xxx&#x3D;’yyy’ &#x2F;&#x2F;yyy 会作为表达式解析执行</li>
<li>简洁写法: :xxx&#x3D;’yyy’</li>
</ol>
<h3 id="1-3-5-指令二-绑定事件监听"><a href="#1-3-5-指令二-绑定事件监听" class="headerlink" title="1.3.5. 指令二: 绑定事件监听"></a>1.3.5. 指令二: 绑定事件监听</h3><ol>
<li>功能: 绑定指定事件名的回调函数</li>
<li>完整写法:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v-on:keyup=&#x27;xxx&#x27; v-on:keyup=&#x27;xxx(参数)&#x27; v-on:keyup.enter=&#x27;xxx&#x27; 3) 简洁写法:</span><br><span class="line">@keyup=&#x27;xxx&#x27; @keyup.enter=&#x27;xxx&#x27; 4</span><br></pre></td></tr></table></figure>

<h3 id="1-3-6-编码"><a href="#1-3-6-编码" class="headerlink" title="1.3.6. 编码"></a>1.3.6. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;1. 双大括号表达式&lt;/h2&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;msg.toUpperCase()&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;h2&gt;2. 指令一: 强制数据绑定&lt;/h2&gt;</span><br><span class="line">    &lt;a href=&quot;url&quot;&gt;访问指定站点&lt;/a&gt;&lt;br&gt;&lt;!--不能使用--&gt;</span><br><span class="line">    &lt;a v-bind:href=&quot;url&quot;&gt;访问指定站点 2&lt;/a&gt;&lt;br&gt;</span><br><span class="line">    &lt;a :href=&quot;url&quot;&gt;访问指定站点 3&lt;/a&gt;&lt;br&gt;</span><br><span class="line">    &lt;h2&gt;3. 指令二: 绑定事件监听&lt;/h2&gt;</span><br><span class="line">    &lt;button v-on:click=&quot;handleClick&quot;&gt;点我&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;handleClick&quot;&gt;点我 2&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;// data 的所有属性都会成功 vm 对象的属性, 而模板页面中可以直接访问</span><br><span class="line">            msg: &#x27;NBA I Love This Game!&#x27;,</span><br><span class="line">            url: &#x27;http://www.baidu.com&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            handleClick () &#123;</span><br><span class="line">                alert(&#x27;处理点击&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>单向数据绑定 v-bind， 数据只能从 data 流向页面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">双向数据绑定 v-model 只能用在表单元素上（输入类元素上，和用户产生交互的，元素有 value 属性的标签）</span><br><span class="line">双向绑定一般都应用在表单元素上</span><br><span class="line">v-model:value 可以简写 为 v-model,因为 v-model 默认收集的就是 value 的值。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    单向数据绑定 &lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;/&gt;&lt;br/&gt;</span><br><span class="line">    双向数据绑定 &lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;/&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr/&gt; &lt;!-- 下面是 简写的形式 --&gt;</span><br><span class="line">    单向数据绑定 &lt;input type=&quot;text&quot; :value=&quot;name&quot;/&gt;&lt;br/&gt;</span><br><span class="line">    双向数据绑定 &lt;input type=&quot;text&quot; v-model=&quot;name&quot;/&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;mage&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            url:&#x27;http://www.atguigu.com&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>el 的 2 种写法<br>vue 实例和容器绑定的 2 中写法，一种直接通过 el 指定，另外一种 通过 $mount 方法绑定。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const vm = new Vue(&#123;</span><br><span class="line">    // el: &#x27;#root&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        name: &#x27;mage&#x27;,</span><br><span class="line">        age: 18,</span><br><span class="line">        url:&#x27;http://www.atguigu.com&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.$mount(&#x27;#root&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>data 的 2 种写法,写一个函数，此函数里面的 this 就是 vue 实例对象。函数返回一个对象。不能写成箭头函数。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const vm2 = new Vue(&#123;</span><br><span class="line">    // el: &#x27;#root&#x27;,</span><br><span class="line">    data: function ()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            name: &#x27;mage222&#x27;,</span><br><span class="line">            age: 181,</span><br><span class="line">            url:&#x27;http://www.atguigu.com&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>vm 实例身上有的东西，都可以在模板插值里面使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;name&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;1+1&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;$options&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;$emit&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;_c&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;mage&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            url:&#x27;http://www.atguigu.com&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>Object.defineProperty 讲解， vue 中的数据代理 就是用的这个。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let person = &#123;</span><br><span class="line">    name:&quot;mage&quot;,</span><br><span class="line">    sex:&#x27;nan&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(person, &#x27;age&#x27;, &#123;</span><br><span class="line">    value: 18,</span><br><span class="line">    enumerable:true, // 控制属性是否可以枚举，就是是否可以遍历。默认false。</span><br><span class="line">    writable:true, //  控制属性是否可以被修改。默认false。</span><br><span class="line">    configurable:true // 控制属性是否可以被删除。</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(person)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>getter 和 setter 函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">let person = &#123;</span><br><span class="line">    name:&quot;mage&quot;,</span><br><span class="line">    sex:&#x27;nan&#x27;</span><br><span class="line">&#125;</span><br><span class="line">let number = 180</span><br><span class="line"></span><br><span class="line">Object.defineProperty(person, &#x27;age&#x27;, &#123;</span><br><span class="line">    // value: 18,</span><br><span class="line">    // enumerable:true,</span><br><span class="line">    // writable:true,</span><br><span class="line">    // configurable:true,</span><br><span class="line"></span><br><span class="line">    get() &#123;</span><br><span class="line">        return number</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    set(v) &#123;</span><br><span class="line">        console.log(&quot;modify age: &quot;, v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(person)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-4-计算属性和监视"><a href="#1-4-计算属性和监视" class="headerlink" title="1.4. 计算属性和监视"></a>1.4. 计算属性和监视</h2><h3 id="1-4-1-效果-03-计算属性和监视-x2F-test-html"><a href="#1-4-1-效果-03-计算属性和监视-x2F-test-html" class="headerlink" title="1.4.1. 效果 (03_计算属性和监视&#x2F;test.html)"></a>1.4.1. 效果 (03_计算属性和监视&#x2F;test.html)</h3><p>03.._计算属性和监视.gif</p>
<h3 id="1-4-2-计算属性"><a href="#1-4-2-计算属性" class="headerlink" title="1.4.2. 计算属性"></a>1.4.2. 计算属性</h3><ol>
<li>在 computed 属性对象中定义计算属性的方法</li>
<li>在页面中使用来显示计算的结果</li>
</ol>
<p>计算属性， get 和 set 函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;/&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;/&gt;&lt;br/&gt;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;firstName&#125;&#125; -- &#123;&#123;lastName.slice(0, 3)&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;fullName&#125;&#125; &lt;/h1&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            firstName: &#x27;mage&#x27;,</span><br><span class="line">            lastName: &#x27;123123&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">            fullName:&#123;</span><br><span class="line">                get()&#123;</span><br><span class="line">                    return this.lastName + &quot;,,,,&quot; + this.firstName</span><br><span class="line">                &#125;,</span><br><span class="line">                set(v)&#123;</span><br><span class="line">                    this.lastName = v.slice(0,3)</span><br><span class="line">                    this.firstName = v.slice(3,6)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>计算属性的简写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;/&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;/&gt;&lt;br/&gt;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;firstName&#125;&#125; -- &#123;&#123;lastName.slice(0, 3)&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;fullName&#125;&#125; &lt;/h1&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            firstName: &#x27;mage&#x27;,</span><br><span class="line">            lastName: &#x27;123123&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">        computed: &#123; // 写成一个函数，这个函数就只能当做get函数使用了。</span><br><span class="line">            fullName: function () &#123;</span><br><span class="line">                return this.lastName + &quot;,,,,&quot; + this.firstName</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        computed: &#123; // 下面是其还能继续简写的方式。</span><br><span class="line">            fullName() &#123;</span><br><span class="line">                return this.lastName + &quot;,,,,&quot; + this.firstName</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-3-监视属性"><a href="#1-4-3-监视属性" class="headerlink" title="1.4.3. 监视属性"></a>1.4.3. 监视属性</h3><ol>
<li>通过通过 vm 对象的$watch()或 watch 配置来监视指定的属性</li>
<li>当属性变化时, 回调函数自动调用, 在函数内部进行计算</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    &lt;h1&gt;今天天气很：&#123;&#123;info&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button @click=&quot;change&quot;&gt;switch&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            isHot: true,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            change() &#123;</span><br><span class="line">                this.isHot = !this.isHot</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">            info() &#123;</span><br><span class="line">                return this.isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch: &#123; //当属性变化时, 回调函数自动调用, 在函数内部进行计算</span><br><span class="line">            isHot: &#123; // 其实这里的 isHot 是简写方式，对象的key 应该是一个字符串的，要用引号 的</span><br><span class="line">                handler(newv, oldv) &#123;</span><br><span class="line">                    console.log(&quot;ishot  modify&quot;, newv, oldv)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // 可以简写为下面的形式</span><br><span class="line">            isHot(newv, oldv) &#123;</span><br><span class="line">                console.log(&quot;ishot  modify&quot;, newv, oldv)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>上面检测的都是普通类型的属性，<br>如果检测一个复杂的呢？例如一个对象属性呢？检测多级结构中某个属性的变化的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.productionTip = false</span><br><span class="line">const vm = new Vue(&#123;</span><br><span class="line">    el: &#x27;#root&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        isHot: true,</span><br><span class="line">        numbers: &#123;</span><br><span class="line">            a: 0,</span><br><span class="line">            b: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        isHot: &#123;</span><br><span class="line">            handler(newv, oldv) &#123;</span><br><span class="line">                console.log(&quot;ishot  modify&quot;, newv, oldv)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;numbers.a&quot;: &#123; // 如果检测一个复杂的呢？例如一个对象属性呢？</span><br><span class="line">            handler(newv, oldv) &#123;</span><br><span class="line">                console.log(&quot;numbers.a  modify&quot;, newv, oldv)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 下面这样写 本意是想监控numbers 里面所有数据的，但是不会生效的。</span><br><span class="line">        // 如果整体重新替换掉 numbers 那么下面的这个监控会生效的。例如</span><br><span class="line">        // numbers = &#123;c:11, d:222&#125;</span><br><span class="line">        // numbers: &#123;</span><br><span class="line">        //     handler(newv, oldv) &#123;</span><br><span class="line">        //         console.log(&quot;numbers  modify&quot;, newv, oldv)</span><br><span class="line">        //     &#125;</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line">        // 要想彻底解决上面的问题，可以加一个 deep=true 属性</span><br><span class="line">        numbers: &#123;</span><br><span class="line">            deep: true,</span><br><span class="line">            handler(newv, oldv) &#123;</span><br><span class="line">                console.log(&quot;numbers  modify&quot;, newv, oldv)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>vue 中的 watch 默认不监测对象内部值的改变（一层 ）<br>配置 deep:true 可以监测对象内部值改变（多层）</p>
<p>vue 自身可以监测对象内部的值的改变，但 vue 提供的 watch 默认不可以<br>使用 watch 时根据数据的具体结构，决定是否采用深度监测。</p>
<h3 id="1-4-4-计算属性高级"><a href="#1-4-4-计算属性高级" class="headerlink" title="1.4.4. 计算属性高级"></a>1.4.4. 计算属性高级</h3><ol>
<li>通过 getter&#x2F;setter 实现对属性数据的显示和监视</li>
<li>计算属性存在缓存, 多次读取只执行一次 getter 计算</li>
</ol>
<h3 id="1-4-5-编码"><a href="#1-4-5-编码" class="headerlink" title="1.4.5. 编码"></a>1.4.5. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">姓: &lt;input type=&quot;text&quot; placeholder=&quot;First Name&quot; v-model=&quot;firstName&quot;&gt;&lt;br&gt;</span><br><span class="line">名: &lt;input type=&quot;text&quot; placeholder=&quot;Last Name&quot; v-model=&quot;lastName&quot;&gt;&lt;br&gt;</span><br><span class="line">姓名 1(单向): &lt;input type=&quot;text&quot; placeholder=&quot;Full Name&quot; v-model=&quot;fullName1&quot;&gt;&lt;br&gt;</span><br><span class="line">姓名 2(单向): &lt;input type=&quot;text&quot; placeholder=&quot;Full Name&quot; v-model=&quot;fullName2&quot;&gt;&lt;br&gt;</span><br><span class="line">姓名 3(双向): &lt;input type=&quot;text&quot; placeholder=&quot;Full Name2&quot; v-model=&quot;fullName3&quot;&gt;&lt;br&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#demo&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            firstName: &#x27;Kobe&#x27;,</span><br><span class="line">            lastName: &#x27;bryant&#x27;,</span><br><span class="line">            fullName2: &#x27;Kobe bryant&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">            fullName: function () &#123;</span><br><span class="line">                return this.firstName + &quot; &quot; + this.lastName</span><br><span class="line">            &#125;,</span><br><span class="line">            fullName3: &#123;</span><br><span class="line">                get: function () &#123;</span><br><span class="line">                    return this.firstName + &quot; &quot; + this.lastName</span><br><span class="line">                &#125;,</span><br><span class="line">            set: function (value) &#123;</span><br><span class="line">                    var names = value.split(&#x27; &#x27;)</span><br><span class="line">                    this.firstName = names[0]</span><br><span class="line">                    this.lastName = names[1]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch: &#123;</span><br><span class="line">            lastName: function (newVal, oldVal) &#123;</span><br><span class="line">                this.fullName2 = this.firstName + &#x27; &#x27; + newVal</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    vm.$watch(&#x27;firstName&#x27;, function (val) &#123;</span><br><span class="line">        this.fullName2 = val + &#x27; &#x27; + this.lastName</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">methods，computed，watch 里面管理的函数都是交给 vue 管理的，里面的 this 都是指向 vue 的，不能使用箭头函数。</span><br><span class="line"></span><br><span class="line">计算属性不能开启异步任务，监听属性可以开启异步任务。</span><br><span class="line"></span><br><span class="line">computed 和 watch 之间的区别</span><br><span class="line">computed 能完成的功能，watch 都可以完成</span><br><span class="line">watch 能完成的功能，computed 不一定能完成，例如 watch 可以进行异步操作。</span><br><span class="line">两个重要的小原则：</span><br><span class="line">所有被 vue 管理的函数，最好写成普通函数，这样 this 的指向才是 vm 或者组件实例对象。</span><br><span class="line">所有不被 vue 所管理的函数（定时器的回调函数，ajax 的回调函数,promis 的回调函数等）最好写成箭头函数，这样 this 的指向才是 vm 或者组件实例对象。</span><br></pre></td></tr></table></figure>

<h2 id="1-5-class-与-style-绑定"><a href="#1-5-class-与-style-绑定" class="headerlink" title="1.5. class 与 style 绑定"></a>1.5. class 与 style 绑定</h2><h3 id="1-5-1-效果-04-class-与-style-绑定-x2F-test-html"><a href="#1-5-1-效果-04-class-与-style-绑定-x2F-test-html" class="headerlink" title="1.5.1. 效果 (04_class 与 style 绑定&#x2F;test.html)"></a>1.5.1. 效果 (04_class 与 style 绑定&#x2F;test.html)</h3><p>04_class 与 style 绑定.gif</p>
<h3 id="1-5-2-理解"><a href="#1-5-2-理解" class="headerlink" title="1.5.2. 理解"></a>1.5.2. 理解</h3><ol>
<li>在应用界面中, 某个(些)元素的样式是变化的</li>
<li>class&#x2F;style 绑定就是专门用来实现动态样式效果的技术</li>
</ol>
<h3 id="1-5-3-class-绑定"><a href="#1-5-3-class-绑定" class="headerlink" title="1.5.3. class 绑定"></a>1.5.3. class 绑定</h3><ol>
<li>:class&#x3D;’xxx’ 绑定的样式会和元素静态的样式合并到一起</li>
<li>表达式是字符串: ‘classA’</li>
<li>表达式是对象: {classA:isA, classB: isB}</li>
<li>表达式是数组: [‘classA’, ‘classB’]</li>
</ol>
<p>绑定 class 样式，字符串写法，适用于 样式的类名不确定，需要动态指定。mood 是 data 里面的一个属性，字符串类型的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;demo1&quot; :class=&quot;mood&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;mood&#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>绑定 class 样式，数组写法，适用于 样式的类名不确定，个数也不确定。classArr 是 data 里面的一个数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;demo1&quot; :class=&quot;classArr&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;mood&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">classArr = [&quot;atguigu1&quot;, &quot;atguigu2&quot;, &quot;atguigu3&quot;] // 这里使用3个样式</span><br><span class="line"></span><br><span class="line"> classArr = [&quot;atguigu1&quot;， &quot;atguigu3&quot;] // 这里使用2个样式</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>绑定 class 样式，对象写法，适用于 样式的类名确定，个数也确定，但要不要用不确定。classObj 是 data 里面的一个对象。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;demo1&quot; :class=&quot;classObj&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;mood&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">classObj:&#123;</span><br><span class="line">    atguigu1:false, // 设置false就是不启用这个样式</span><br><span class="line">    atguigu2:true</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-5-4-style-绑定"><a href="#1-5-4-style-绑定" class="headerlink" title="1.5.4. style 绑定"></a>1.5.4. style 绑定</h3><ol>
<li>:style&#x3D;”{ color: activeColor, fontSize: fontSize + ‘px’ }”</li>
<li>其中 activeColor&#x2F;fontSize 是 data 属性</li>
<li>style 可以写成数组写法，数组里面的每个元素是个样式对象。</li>
</ol>
<p>style 绑定的样式 要写成一个对象的形式。</p>
<h3 id="1-5-5-编码"><a href="#1-5-5-编码" class="headerlink" title="1.5.5. 编码"></a>1.5.5. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .classA &#123;</span><br><span class="line">        color: red;</span><br><span class="line">    &#125;</span><br><span class="line">    .classB &#123;</span><br><span class="line">        background: blue;</span><br><span class="line">    &#125;</span><br><span class="line">    .classC &#123;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">&lt;h2&gt;1. class 绑定: :class=&#x27;xxx&#x27;&lt;/h2&gt;</span><br><span class="line">&lt;p class=&quot;classB&quot; :class=&quot;a&quot;&gt;表达式是字符串: &#x27;classA&#x27;&lt;/p&gt;</span><br><span class="line">&lt;p :class=&quot;&#123;classA: isA, classB: isB&#125;&quot;&gt;表达式是对象: &#123;classA:isA, classB: isB&#125;&lt;/p&gt;</span><br><span class="line">&lt;p :class=&quot;[&#x27;classA&#x27;, &#x27;classC&#x27;]&quot;&gt; 表达式是数组: [&#x27;classA&#x27;, &#x27;classB&#x27;]&lt;/p&gt;</span><br><span class="line">&lt;h2&gt;2. style 绑定&lt;/h2&gt;</span><br><span class="line">&lt;p :style=&quot;&#123;color, fontSize&#125;&quot;&gt;style=&quot;&#123; color: activeColor, fontSize: fontSize +</span><br><span class="line">&#x27;px&#x27; &#125;&quot;&lt;/p&gt;</span><br><span class="line">&lt;button @click=&quot;update&quot;&gt;更新&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el : &#x27;#demo&#x27;,</span><br><span class="line">        data : &#123;</span><br><span class="line">            a: &#x27;classA&#x27;,</span><br><span class="line">            isA: true,</span><br><span class="line">            isB: false,</span><br><span class="line">            color: &#x27;red&#x27;,</span><br><span class="line">            fontSize: &#x27;20px&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods : &#123;</span><br><span class="line">            update () &#123;</span><br><span class="line">                this.a = &#x27;classC&#x27;</span><br><span class="line">                this.isA = false</span><br><span class="line">                this.isB = true</span><br><span class="line">                this.color = &#x27;blue&#x27;</span><br><span class="line">                this.fontSize = &#x27;30px&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="1-6-条件渲染"><a href="#1-6-条件渲染" class="headerlink" title="1.6. 条件渲染"></a>1.6. 条件渲染</h2><h3 id="1-6-1-效果-05-条件渲染-x2F-test-html"><a href="#1-6-1-效果-05-条件渲染-x2F-test-html" class="headerlink" title="1.6.1. 效果 (05_条件渲染&#x2F;test.html)"></a>1.6.1. 效果 (05_条件渲染&#x2F;test.html)</h3><p>05._条件渲染.gif</p>
<h3 id="1-6-2-条件渲染指令"><a href="#1-6-2-条件渲染指令" class="headerlink" title="1.6.2. 条件渲染指令"></a>1.6.2. 条件渲染指令</h3><ol>
<li>v-if 与 v-else v-else-if</li>
<li>v-show</li>
</ol>
<p>v-show，如果是 flase 的话就好给这个标签的 style 加上个 display:none 属性。， 如果是 v-if 那么整个标签都会消失的。好像留个个 html 的注释的标签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;isHot&quot;&gt;今天天气很：&#123;&#123;isHot&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            isHot: true,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>template 的使用，只能和 v-if 下使用，v-show 无效。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-if=&quot;n===3&quot;&gt;</span><br><span class="line">&lt;h1&gt;今天天气很：&#123;&#123;isHot&#125;&#125; 1&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;今天天气很：&#123;&#123;isHot&#125;&#125; 2&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;今天天气很：&#123;&#123;isHot&#125;&#125; else&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-6-3-比较-v-if-与-v-show"><a href="#1-6-3-比较-v-if-与-v-show" class="headerlink" title="1.6.3. 比较 v-if 与 v-show"></a>1.6.3. 比较 v-if 与 v-show</h3><ol start="3">
<li>如果需要频繁切换 v-show 较好</li>
<li>当条件不成立时, v-if 的所有子节点不会解析(项目中使用)</li>
</ol>
<h3 id="1-6-4-编码"><a href="#1-6-4-编码" class="headerlink" title="1.6.4. 编码"></a>1.6.4. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">&lt;h2 v-if=&quot;ok&quot;&gt;表白成功&lt;/h2&gt;</span><br><span class="line">&lt;h2 v-else&gt;表白失败&lt;/h2&gt;</span><br><span class="line">&lt;h2 v-show=&quot;ok&quot;&gt;求婚成功&lt;/h2&gt;</span><br><span class="line">&lt;h2 v-show=&quot;!ok&quot;&gt;求婚失败&lt;/h2&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;button @click=&quot;ok=!ok&quot;&gt;切换&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">el: &#x27;#demo&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">ok: false</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">v-if</span><br><span class="line">写法：</span><br><span class="line">v-if=&quot;表达式&quot;</span><br><span class="line">v-else-if=&quot;表达式&quot;</span><br><span class="line">v-else</span><br><span class="line">适用于： 切换频率低的场景。</span><br><span class="line">特点，不展示的 DOM 元素直接被移除</span><br><span class="line">注意：v-if 可以和 v-else-if 和 v-else 一起使用，但要求结构不能被打断。</span><br><span class="line"></span><br><span class="line">v-show</span><br><span class="line">写法：</span><br><span class="line">v-show=&quot;表达式&quot;</span><br><span class="line">适用于：切换频率较高的 场景</span><br><span class="line">特点： 不展示的 DOM 元素未被移除，紧紧是用样式隐藏掉了。</span><br><span class="line"></span><br><span class="line">备注，使用 v-if 时,元素可能无法获取到，而使用 v-show 一定可以获取到。</span><br></pre></td></tr></table></figure>

<h2 id="1-7-列表渲染"><a href="#1-7-列表渲染" class="headerlink" title="1.7. 列表渲染"></a>1.7. 列表渲染</h2><h3 id="1-7-1-效果-06-列表渲染-x2F-test-html"><a href="#1-7-1-效果-06-列表渲染-x2F-test-html" class="headerlink" title="1.7.1. 效果 (06_列表渲染&#x2F;test.html)"></a>1.7.1. 效果 (06_列表渲染&#x2F;test.html)</h3><p>06<em>列表渲染.gif 06</em>列表的过滤和排序.gif</p>
<ol>
<li><p>列表显示指令</p>
<p>数组: v-for &#x2F; index</p>
<p>对象: v-for &#x2F; key</p>
</li>
<li><p>列表的更新显示</p>
<p>删除 item</p>
<p>替换 item</p>
</li>
<li><p>列表的高级处理</p>
<p>列表过滤</p>
<p>列表排序</p>
</li>
</ol>
<h3 id="1-7-2-编码-1"><a href="#1-7-2-编码-1" class="headerlink" title="1.7.2. 编码 1"></a>1.7.2. 编码 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;h2&gt;测试: v-for 遍历数组&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li v-for=&quot;(p, index) in persons&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">        &#123;&#123;index&#125;&#125;--&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;</span><br><span class="line">        --</span><br><span class="line">        &lt;button @click=&quot;deleteItem(index)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">        --</span><br><span class="line">        &lt;button @click=&quot;updateItem(index, &#123;name:&#x27;Jok&#x27;,age:15&#125;)&quot;&gt;更新&lt;/button&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;h2&gt;测试: v-for 遍历对象&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li v-for=&quot;(value, key) in persons[0]&quot;&gt;</span><br><span class="line">            &#123;&#123; key &#125;&#125; : &#123;&#123; value &#125;&#125;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#demo&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            persons: [</span><br><span class="line">                &#123;id: 1, name: &#x27;Tom&#x27;, age: 13&#125;,</span><br><span class="line">                &#123;id: 2, name: &#x27;Jack&#x27;, age: 12&#125;,</span><br><span class="line">                &#123;id: 3, name: &#x27;Bob&#x27;, age: 14&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            deleteItem(index) &#123;</span><br><span class="line">                this.persons.splice(index, 1)</span><br><span class="line">            &#125;,</span><br><span class="line">            updateItem(index, p) &#123;</span><br><span class="line">                // this.persons[index] = p // 页面不会更新</span><br><span class="line">                this.persons.splice(index, 1, p)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-7-3-编码-2"><a href="#1-7-3-编码-2" class="headerlink" title="1.7.3. 编码 2"></a>1.7.3. 编码 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;searchName&quot; placeholder=&quot;搜索指定用户名&quot;</span><br><span class="line">v-model=&quot;searchName&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li v-for=&quot;(p, index) in filterPerson&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">&#123;&#123;index&#125;&#125;--&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;button @click=&quot;setOrderType(1)&quot;&gt;年龄升序&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;setOrderType(2)&quot;&gt;年龄降序&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;setOrderType(0)&quot;&gt;原本顺序&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#demo&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            orderType: 0, //0 代表不排序, 1 为升序, 2 为降序</span><br><span class="line">            searchName: &#x27;&#x27;,</span><br><span class="line">            persons: [</span><br><span class="line">            &#123;id: 1, name: &#x27;Tom&#x27;, age: 13&#125;,</span><br><span class="line">            &#123;id: 2, name: &#x27;Jack&#x27;, age: 12&#125;,</span><br><span class="line">            &#123;id: 3, name: &#x27;Bob&#x27;, age: 17&#125;,</span><br><span class="line">            &#123;id: 4, name: &#x27;Cat&#x27;, age: 14&#125;,</span><br><span class="line">            &#123;id: 4, name: &#x27;Mike&#x27;, age: 14&#125;,</span><br><span class="line">            &#123;id: 4, name: &#x27;Monica&#x27;, age: 16&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            setOrderType (orderType) &#123;</span><br><span class="line">                this.orderType = orderType</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">            filterPerson() &#123;</span><br><span class="line">                let &#123;orderType, searchName, persons&#125; = this</span><br><span class="line">                // 过滤</span><br><span class="line">                persons = persons.filter(p =&gt; p.name.indexOf(searchName)!=-1)</span><br><span class="line"></span><br><span class="line">                // 排序</span><br><span class="line">                if(orderType!==0) &#123;</span><br><span class="line">                persons = persons.sort(function (p1, p2) &#123;</span><br><span class="line">                if(orderType===1) &#123;</span><br><span class="line">                return p1.age-p2.age</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                return p2.age-p1.age</span><br><span class="line">                &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">                return persons</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">v-for 指令</span><br><span class="line">用于展示列表数据</span><br><span class="line">语法 v-for=&quot;(item,index) in xxx&quot; :key=&quot;yyy&quot;</span><br><span class="line">可以遍历： 数组，对象，字符串，指定次数。</span><br><span class="line"></span><br><span class="line">动态的给 data 里面添加个 数据： vm.$set(target, key, val) 或者 Vue.set( target, propertyName/index, value )</span><br><span class="line"></span><br><span class="line">向响应式对象中添加一个 property，并确保这个新 property 同样是响应式的，且触发视图更新。它必须用于向响应式对象上添加新 property，因为 Vue 无法探测普通的新增 property (比如 this.myObject.newProperty = &#x27;hi&#x27;)</span><br><span class="line"></span><br><span class="line">注意对象不能是 Vue 实例，或者 Vue 实例的根数据对象。</span><br></pre></td></tr></table></figure>

<h2 id="1-8-事件处理"><a href="#1-8-事件处理" class="headerlink" title="1.8. 事件处理"></a>1.8. 事件处理</h2><h3 id="1-8-1-效果-07-事件处理-x2F-test-html"><a href="#1-8-1-效果-07-事件处理-x2F-test-html" class="headerlink" title="1.8.1. 效果 (07_事件处理&#x2F;test.html)"></a>1.8.1. 效果 (07_事件处理&#x2F;test.html)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;name&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button v-on:click=&quot;showInfo&quot;&gt;click me to show info&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;mage&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            url: &#x27;http://www.atguigu.com&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showInfo(event) &#123; // 被vue管理的函数不要写成箭头函数。</span><br><span class="line">                // 方法内 `this` 指向 vm</span><br><span class="line">                console.log(&#x27;Hello &#x27; + this.name + &#x27;!&#x27;)</span><br><span class="line">                // `event` 是原生 DOM 事件</span><br><span class="line">                console.log(event.target.innerHTML)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-8-2-绑定监听"><a href="#1-8-2-绑定监听" class="headerlink" title="1.8.2. 绑定监听:"></a>1.8.2. 绑定监听:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. v-on:xxx=&quot;fun&quot;</span><br><span class="line">2. @xxx=&quot;fun&quot;</span><br><span class="line">3. @xxx=&quot;fun(参数)&quot;</span><br><span class="line">4. 默认事件形参: event</span><br><span class="line">5. 隐含属性对象: $event</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1) 使用 v-on:click 或者 @click 绑定事件，其中 click 是事件名。</span><br><span class="line">2) 事件的回调需要配置在 methods 对象中，最终会在 vm 上。</span><br><span class="line">3) methods 中配置的函数，不要用箭头函数，否则 this 指向就不是 vm 了。</span><br><span class="line">4) methods 中配置的函数，都是被 vue 所管理的函数，this 的指向是 vm，或者组件实例对象。</span><br><span class="line">5) @click=&quot;demo&quot; 和 @click=&quot;demo($event)&quot; 效果一致，但后者可以传参。</span><br></pre></td></tr></table></figure>

<h3 id="1-8-3-事件修饰符"><a href="#1-8-3-事件修饰符" class="headerlink" title="1.8.3. 事件修饰符"></a>1.8.3. 事件修饰符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. .prevent : 阻止事件的默认行为 event.preventDefault()</span><br><span class="line">2. .stop : 停止事件冒泡 event.stopPropagation()</span><br><span class="line">3. .once 事件只触发一次，就是按钮你点击一次，再次点击就没事件触发了。就无效了。</span><br><span class="line">4. .capture 使用事件的捕获 模式， 内外元素嵌套的时候，顺序是 事件 捕获阶段是 外到内。事件冒泡阶段是 内到外。这个模式就会让顺序变成 捕获阶段。默认是冒泡阶段的。</span><br><span class="line">5. .self 只有 event.target 是当前操作的元素时才触发事件，self 修饰也能阻止冒泡，就是外层元素加上.self，事件冒泡上来的元素是内侧那个。</span><br><span class="line">6. .passive 事件的默认行为立即执行，无需等待事件回调执行完毕。如果回调函数执行的很慢，加上这个 就不会等待回调执行完毕。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;name&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;a v-on:click=&quot;showInfo&quot; :href=&quot;url&quot;&gt;click me to atguigu&lt;/a&gt;&lt;br/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;mage&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            url: &#x27;http://www.atguigu.com&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showInfo(event) &#123;</span><br><span class="line">                event.preventDefault() 阻止事件的默认行为,a标签就不会跳转了， 这里不调用，直接标签那里 写成 v-on:click.prevent 或者简写 @click.prevent</span><br><span class="line">                // 方法内 `this` 指向 vm</span><br><span class="line">                console.log(&#x27;Hello &#x27; + this.name + &#x27;!&#x27;)</span><br><span class="line">                // `event` 是原生 DOM 事件</span><br><span class="line">                console.log(event.target.innerHTML)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;h1&gt;hello &#123;&#123;name&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;demo1&quot; @click=&quot;showInfo2&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;showInfo1&quot;&gt;click me to show info&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;mage&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            url: &#x27;http://www.atguigu.com&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showInfo1(event) &#123;</span><br><span class="line">                event.stopPropagation() 停止事件冒泡 event.stopPropagation(), 这里不调用，直接标签那里 写成 v-on:click.stop 或者简写 @click.stop,</span><br><span class="line">                                         另外一种阻止冒泡的方法是  外层的元素  加上 @click.self</span><br><span class="line">                console.log(&#x27;Hello111 &#x27; + this.name + &#x27;!&#x27;, event.target.innerHTML, event.target)</span><br><span class="line">            &#125;,</span><br><span class="line">            showInfo2(event) &#123;</span><br><span class="line">                console.log(&#x27;Hello222 &#x27; + this.name + &#x27;!&#x27;, event.target.innerHTML, event.target)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-8-4-按键修饰符"><a href="#1-8-4-按键修饰符" class="headerlink" title="1.8.4. 按键修饰符"></a>1.8.4. 按键修饰符</h3><ol>
<li>.keycode : 操作的是某个 keycode 值的键</li>
<li>.keyName : 操作的某个按键名的键(少部分)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vue 中 常用的按键别名</span><br><span class="line">回车 enter</span><br><span class="line">删除 delete （捕获删除 和 退格 键）</span><br><span class="line">退出 esc</span><br><span class="line">空格 space</span><br><span class="line">制表符 tab (特殊，必须配合 keydown 才好使)</span><br><span class="line">上 up</span><br><span class="line">下 down</span><br><span class="line">左 left</span><br><span class="line">右 right</span><br></pre></td></tr></table></figure></li>
</ol>
<p>vue 中未提供别名的按键，可以使用按键原始的 key 值去绑定，但注意要转换为 短横线命名。</p>
<p>系统修饰键 ，ctrl， alt， shift，meta。<br>配合 keyup 使用，按下修饰键同时再按下其他键，随后释放其他键，事件才被触发。<br>配合 keydown 使用，正常触发事件</p>
<p>也可以使用 keycode 去指定具体的按键</p>
<p>Vue.config.keyCodes.自定义键名 &#x3D; 键码 可以去定制按键别名</p>
<p>修饰符可以 点号 连续写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-on:click.prevent.stop  阻止默认行为，然后阻止冒泡。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@keyup.ctrl.y 表示 按着 ctrl 键，然后再按 y 键。</span><br></pre></td></tr></table></figure>

<h3 id="1-8-5-编码"><a href="#1-8-5-编码" class="headerlink" title="1.8.5. 编码"></a>1.8.5. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;example&quot;&gt;</span><br><span class="line">&lt;h2&gt;1. 绑定监听&lt;/h2&gt;</span><br><span class="line">&lt;button v-on:click=&quot;test1&quot;&gt;Greet&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;test1&quot;&gt;Greet2&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;test2($event, &#x27;hello&#x27;)&quot;&gt;Greet3&lt;/button&gt;</span><br><span class="line">&lt;h2&gt;2. 事件修饰符&lt;/h2&gt;</span><br><span class="line">&lt;!-- 阻止事件默认行为 --&gt;</span><br><span class="line">&lt;a href=&quot;http://www.baidu.com&quot; @click.prevent=&quot;test3&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line">&lt;br/&gt;</span><br><span class="line">&lt;br/&gt;</span><br><span class="line">&lt;!-- 停止事件冒泡 --&gt;</span><br><span class="line">&lt;div style=&quot;width: 200px;height: 200px;background: red&quot; @click=&quot;test4&quot;&gt;</span><br><span class="line">&lt;div style=&quot;width: 100px;height: 100px;background: green&quot;</span><br><span class="line">@click.stop=&quot;test5&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;h2&gt;3. 按键修饰符&lt;/h2&gt;</span><br><span class="line">&lt;input @keyup.8=&quot;test6&quot;&gt;</span><br><span class="line">&lt;input @keyup.enter=&quot;test6&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#example&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">        name: &#x27;Vue.js&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            test1 (event) &#123;</span><br><span class="line">                // 方法内 `this` 指向 vm</span><br><span class="line">                // alert(&#x27;Hello &#x27; + this.name + &#x27;!&#x27;)</span><br><span class="line">                // `event` 是原生 DOM 事件</span><br><span class="line">                alert(event.target.innerHTML)</span><br><span class="line">            &#125;,</span><br><span class="line">            test2 (event, msg) &#123;</span><br><span class="line">                alert(event.target.innerHTML + &#x27;---&#x27; + msg)</span><br><span class="line">            &#125;,</span><br><span class="line">            test3() &#123;</span><br><span class="line">                alert(&#x27;阻止事件的默认行为&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            test4() &#123;</span><br><span class="line">                alert(&#x27;out&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            test5() &#123;</span><br><span class="line">                alert(&#x27;inner&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            test6(event) &#123;</span><br><span class="line">                alert(event.keyCode + &#x27;---&#x27; + event.target.value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="1-9-表单输入绑定"><a href="#1-9-表单输入绑定" class="headerlink" title="1.9. 表单输入绑定"></a>1.9. 表单输入绑定</h2><h3 id="1-9-1-效果-08-表单输入绑定-x2F-test-html"><a href="#1-9-1-效果-08-表单输入绑定-x2F-test-html" class="headerlink" title="1.9.1. 效果 (08_表单输入绑定&#x2F;test.html)"></a>1.9.1. 效果 (08_表单输入绑定&#x2F;test.html)</h3><p>08._表单输入绑定.gif</p>
<h3 id="1-9-2-使用-v-model-对表单数据自动收集"><a href="#1-9-2-使用-v-model-对表单数据自动收集" class="headerlink" title="1.9.2. 使用 v-model 对表单数据自动收集"></a>1.9.2. 使用 v-model 对表单数据自动收集</h3><ol>
<li>text&#x2F;textarea</li>
<li>checkbox</li>
<li>radio</li>
<li>select</li>
</ol>
<h3 id="1-9-3-编码"><a href="#1-9-3-编码" class="headerlink" title="1.9.3. 编码"></a>1.9.3. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">&lt;form @submit.prevent=&quot;handleSubmit&quot;&gt;</span><br><span class="line">&lt;span&gt;用户名: &lt;/span&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;user.username&quot;&gt;&lt;br&gt;</span><br><span class="line">&lt;span&gt;密码: &lt;/span&gt;</span><br><span class="line">&lt;input type=&quot;password&quot; v-model=&quot;user.pwd&quot;&gt;&lt;br&gt;</span><br><span class="line">&lt;span&gt;性别: &lt;/span&gt;</span><br><span class="line">&lt;input type=&quot;radio&quot; id=&quot;female&quot; value=&quot;female&quot; v-model=&quot;user.sex&quot;&gt;</span><br><span class="line">&lt;label for=&quot;female&quot;&gt;女&lt;/label&gt;</span><br><span class="line">&lt;input type=&quot;radio&quot; id=&quot;male&quot; value=&quot;male&quot; v-model=&quot;user.sex&quot;&gt;</span><br><span class="line">&lt;label for=&quot;male&quot;&gt;男&lt;/label&gt;&lt;br&gt;</span><br><span class="line">&lt;span&gt;爱好: &lt;/span&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; id=&quot;basket&quot; value=&quot;basketball&quot;</span><br><span class="line">v-model=&quot;user.likes&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;label for=&quot;basket&quot;&gt;篮球&lt;/label&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; id=&quot;foot&quot; value=&quot;football&quot;</span><br><span class="line">v-model=&quot;user.likes&quot;&gt;</span><br><span class="line">&lt;label for=&quot;foot&quot;&gt;足球&lt;/label&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; id=&quot;pingpang&quot; value=&quot;pingpang&quot;</span><br><span class="line">v-model=&quot;user.likes&quot;&gt;</span><br><span class="line">&lt;label for=&quot;pingpang&quot;&gt;乒乓&lt;/label&gt;&lt;br&gt;</span><br><span class="line">&lt;span&gt;城市: &lt;/span&gt;</span><br><span class="line">&lt;select v-model=&quot;user.cityId&quot;&gt;</span><br><span class="line">&lt;option value=&quot;&quot;&gt;未选择&lt;/option&gt;</span><br><span class="line">&lt;option v-for=&quot;city in allCitys&quot; :value=&quot;city.id&quot;&gt;</span><br><span class="line">&#123;&#123; city.name &#125;&#125;</span><br><span class="line">&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;&lt;br&gt;</span><br><span class="line">&lt;span&gt;介绍: &lt;/span&gt;</span><br><span class="line">&lt;textarea v-model=&quot;user.desc&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">el: &#x27;#demo&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">user: &#123;</span><br><span class="line">username: &#x27;&#x27;,</span><br><span class="line">pwd: &#x27;&#x27;,</span><br><span class="line">sex: &#x27;female&#x27;,</span><br><span class="line">likes: [],</span><br><span class="line">cityId: &#x27;&#x27;,</span><br><span class="line">desc: &#x27;&#x27;,</span><br><span class="line">&#125;,</span><br><span class="line">allCitys: [&#123;id: 1, name: &#x27;BJ&#x27;&#125;, &#123;id: 2, name: &#x27;SZ&#x27;&#125;,&#123;id: 4, name:</span><br><span class="line">&#x27;SH&#x27;&#125;],</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">handleSubmit (event) &#123;</span><br><span class="line">alert(JSON.stringify(this.user))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">收集表单数据</span><br><span class="line">若 &lt;input type=&quot;text&quot;/&gt; 则 v-model 收集的是 value 的值，用户输入的就是 value 的值。</span><br><span class="line">若 &lt;input type=&quot;radio&quot;/&gt; 则 v-model 收集的是 value 的值，且要给标签配置 value 值。</span><br><span class="line">若 &lt;input type=&quot;checkbox&quot;/&gt; 1. 没有配置 input 的 value 属性，那么收集的 就是 checked（勾选 or 未勾选，是布尔值） 2. 配置 input 的 value 属性</span><br><span class="line">1.v-model 的初始值是非数组，那么收集的就是 checked（勾选 or 未勾选，是布尔值） 2. v-model 的初始值是数组，那么收集的就是 value 组成的数组</span><br><span class="line">备注：v-model 的三个修饰符</span><br><span class="line">1.lazy 失去焦点的时候再收集数据，懒收集的意思。 2. number：输入字符串转为数字 3. trim： 删除前后空格</span><br></pre></td></tr></table></figure>

<h2 id="1-10-Vue-实例生命周期"><a href="#1-10-Vue-实例生命周期" class="headerlink" title="1.10. Vue 实例生命周期"></a>1.10. Vue 实例生命周期</h2><h3 id="1-10-1-效果-09Vue-实例生命周期-x2F-test-html"><a href="#1-10-1-效果-09Vue-实例生命周期-x2F-test-html" class="headerlink" title="1.10.1. 效果 (09Vue 实例生命周期&#x2F;test.html)"></a>1.10.1. 效果 (09<em>Vue 实例</em>生命周期&#x2F;test.html)</h3><p>09<em>Vue 实例</em>生命周期.gif</p>
<h3 id="1-10-2-生命周期流程图"><a href="#1-10-2-生命周期流程图" class="headerlink" title="1.10.2. 生命周期流程图"></a>1.10.2. 生命周期流程图</h3><h3 id="1-10-3-vue-生命周期分析"><a href="#1-10-3-vue-生命周期分析" class="headerlink" title="1.10.3. vue 生命周期分析"></a>1.10.3. vue 生命周期分析</h3><ol>
<li>初始化显示<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- beforeCreate() _ created() _ beforeMount() \* mounted()</span><br></pre></td></tr></table></figure></li>
<li>更新状态:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.xxx = value _ beforeUpdate() _ updated()</span><br></pre></td></tr></table></figure></li>
<li>销毁 vue 实例:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.$destory() _ beforeDestory() _ destoryed()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-10-4-常用的生命周期方法"><a href="#1-10-4-常用的生命周期方法" class="headerlink" title="1.10.4. 常用的生命周期方法"></a>1.10.4. 常用的生命周期方法</h3><ol>
<li>created()&#x2F;mounted(): 发送 ajax 请求, 启动定时器等异步任务</li>
<li>beforeDestory(): 做收尾工作, 如: 清除定时器</li>
</ol>
<h3 id="1-10-5-编码"><a href="#1-10-5-编码" class="headerlink" title="1.10.5. 编码"></a>1.10.5. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">&lt;button @click=&quot;destoryVue&quot;&gt;destory vue&lt;/button&gt;</span><br><span class="line">&lt;p v-show=&quot;isShowing&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var vue = new Vue(&#123;</span><br><span class="line">el: &#x27;div&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">msg: &#x27;尚硅谷 IT 教育&#x27;,</span><br><span class="line">isShowing: true,</span><br><span class="line">persons: []</span><br><span class="line">&#125;,</span><br><span class="line">beforeCreate () &#123;</span><br><span class="line">console.log(&#x27;beforeCreate() msg=&#x27; + this.msg)</span><br><span class="line">&#125;,</span><br><span class="line">created () &#123;</span><br><span class="line">console.log(&#x27;created() msg=&#x27;+this.msg)</span><br><span class="line">this.intervalId = setInterval(() =&gt; &#123;</span><br><span class="line">console.log(&#x27;-----&#x27;)</span><br><span class="line">this.isShowing = !this.isShowing</span><br><span class="line">&#125;, 1000)</span><br><span class="line">&#125;,</span><br><span class="line">beforeMount () &#123;</span><br><span class="line">console.log(&#x27;beforeMount() msg=&#x27;+this.msg)</span><br><span class="line">&#125;,</span><br><span class="line">mounted () &#123;</span><br><span class="line">console.log(&#x27;mounted() msg=&#x27;+this.msg)</span><br><span class="line">&#125;,</span><br><span class="line">beforeUpdate() &#123;</span><br><span class="line">console.log(&#x27;beforeUpdate isShowing=&#x27;+this.isShowing)</span><br><span class="line">&#125;,</span><br><span class="line">updated () &#123;</span><br><span class="line">console.log(&#x27;updated isShowing=&#x27;+this.isShowing)</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy () &#123;</span><br><span class="line">console.log(&#x27;beforeDestroy() msg=&#x27;+this.msg)</span><br><span class="line">clearInterval(this.intervalId)</span><br><span class="line">&#125;,</span><br><span class="line">destroyed () &#123;</span><br><span class="line">console.log(&#x27;destroyed() msg=&#x27;+this.msg)</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">destoryVue () &#123;</span><br><span class="line">vue.$destroy()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p>实现一个 一上来就显示一段 文本，然后慢慢变透明</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">    &lt;h1 :style=&quot;&#123;opacity: n&#125;&quot;&gt;xxxxxxxxxxxxxxxxxn==&#123;&#123;n&#125;&#125;&lt;/h1&gt;&lt;br/&gt;</span><br><span class="line">    &lt;template  v-once&gt;&#123;&#123;change()&#125;&#125;&lt;/template&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            n: 1,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            change() &#123;  methods 里面的方法 要么 事件 回调使用， 要么插值语法 主动调用，不能实现 以上来就开启一个定时器。</span><br><span class="line">                console.log(&quot;setInterval&quot;)</span><br><span class="line">                setInterval(() =&gt; &#123;</span><br><span class="line">                    this.n -= 0.01</span><br><span class="line">                    if (this.n &lt;= 0) &#123;</span><br><span class="line">                        this.n = 1</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 10)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>






<h2 id="1-11-过渡-amp-动画"><a href="#1-11-过渡-amp-动画" class="headerlink" title="1.11. 过渡&amp;动画"></a>1.11. 过渡&amp;动画</h2><h3 id="1-11-1-效果-10-过渡-amp-动画-x2F-test-html"><a href="#1-11-1-效果-10-过渡-amp-动画-x2F-test-html" class="headerlink" title="1.11.1. 效果 (10_过渡&amp;动画&#x2F;test.html)"></a>1.11.1. 效果 (10_过渡&amp;动画&#x2F;test.html)</h3><p>10<em>过渡&amp;动画 1.gif<br>10</em>过渡&amp;动画 2.gif</p>
<h3 id="1-11-2-vue-动画的理解"><a href="#1-11-2-vue-动画的理解" class="headerlink" title="1.11.2. vue 动画的理解"></a>1.11.2. vue 动画的理解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 操作 css 的 trasition 或 animation</span><br><span class="line">2. vue 会给目标元素添加/移除特定的 class</span><br><span class="line">3. 过渡的相关类名</span><br><span class="line">   xxx-enter-active: 指定显示的 transition</span><br><span class="line">   xxx-leave-active: 指定隐藏的 transition</span><br><span class="line">   xxx-enter/xxx-leave-to: 指定隐藏时的样式</span><br></pre></td></tr></table></figure>

<h3 id="1-11-3-基本过渡动画的编码"><a href="#1-11-3-基本过渡动画的编码" class="headerlink" title="1.11.3. 基本过渡动画的编码"></a>1.11.3. 基本过渡动画的编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 在目标元素外包裹&lt;transition name=&quot;xxx&quot;&gt;</span><br><span class="line">2. 定义 class 样式</span><br><span class="line">   指定过渡样式: transition</span><br><span class="line">   指定隐藏时的样式: opacity/其它</span><br></pre></td></tr></table></figure>

<h3 id="1-11-4-编码-1"><a href="#1-11-4-编码-1" class="headerlink" title="1.11.4. 编码 1"></a>1.11.4. 编码 1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.fade-enter-active, .fade-leave-active &#123;</span><br><span class="line">transition: opacity .5s</span><br><span class="line">&#125;</span><br><span class="line">.fade-enter, .fade-leave-to &#123;</span><br><span class="line">opacity: 0</span><br><span class="line">&#125;</span><br><span class="line">/* 可以设置不同的进入和离开动画 */</span><br><span class="line">.slide-fade-enter-active &#123;</span><br><span class="line">transition: all .3s ease;</span><br><span class="line">&#125;</span><br><span class="line">.slide-fade-leave-active &#123;</span><br><span class="line">transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);</span><br><span class="line">&#125;</span><br><span class="line">.slide-fade-enter, .slide-fade-leave-to &#123;</span><br><span class="line">transform: translateX(10px);</span><br><span class="line">opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;demo1&quot;&gt;</span><br><span class="line">&lt;button @click=&quot;show = !show&quot;&gt;</span><br><span class="line">Toggle1</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;transition name=&quot;fade&quot;&gt;</span><br><span class="line">&lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;</span><br><span class="line">&lt;/transition&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;demo2&quot;&gt;</span><br><span class="line">&lt;button @click=&quot;show = !show&quot;&gt;</span><br><span class="line">Toggle2</span><br><span class="line">&lt;/button&gt;</span><br><span class="line">&lt;transition name=&quot;slide-fade&quot;&gt;</span><br><span class="line">&lt;p v-if=&quot;show&quot;&gt;hello&lt;/p&gt;</span><br><span class="line">&lt;/transition&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#demo1&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">show: true</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#demo2&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">show: true</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-11-5-编码-2"><a href="#1-11-5-编码-2" class="headerlink" title="1.11.5. 编码 2"></a>1.11.5. 编码 2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.bounce-enter-active &#123;</span><br><span class="line">animation: bounce-in .5s;</span><br><span class="line">&#125;</span><br><span class="line">.bounce-leave-active &#123;</span><br><span class="line">animation: bounce-in .5s reverse;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes bounce-in &#123;</span><br><span class="line">0% &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">transform: scale(0);</span><br><span class="line">&#125;</span><br><span class="line">50% &#123;</span><br><span class="line">transform: scale(1.5);</span><br><span class="line">&#125;</span><br><span class="line">100% &#123;</span><br><span class="line">transform: scale(1);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;test2&quot;&gt;</span><br><span class="line">&lt;button @click=&quot;show = !show&quot;&gt;Toggle show&lt;/button&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;transition name=&quot;bounce&quot;&gt;</span><br><span class="line">&lt;p v-if=&quot;show&quot; style=&quot;display: inline-block&quot;&gt;Look at me!&lt;/p&gt;</span><br><span class="line">&lt;/transition&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#test2&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">show: true</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="1-12-过滤器"><a href="#1-12-过滤器" class="headerlink" title="1.12. 过滤器"></a>1.12. 过滤器</h2><h3 id="1-12-1-效果-11-过滤器-x2F-test-html"><a href="#1-12-1-效果-11-过滤器-x2F-test-html" class="headerlink" title="1.12.1. 效果 (11_过滤器&#x2F;test.html)"></a>1.12.1. 效果 (11_过滤器&#x2F;test.html)</h3><h3 id="1-12-2-理解过滤器"><a href="#1-12-2-理解过滤器" class="headerlink" title="1.12.2. 理解过滤器"></a>1.12.2. 理解过滤器</h3><ol>
<li>功能: 对要显示的数据进行特定格式化后再显示</li>
<li>注意: 并没有改变原本的数据, 可是产生新的对应的数据</li>
</ol>
<h3 id="1-12-3-定义和使用过滤器"><a href="#1-12-3-定义和使用过滤器" class="headerlink" title="1.12.3. 定义和使用过滤器"></a>1.12.3. 定义和使用过滤器</h3><ol>
<li>定义过滤器</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Vue.filter(filterName, function(value[,arg1,arg2,...])&#123;</span><br><span class="line">// 进行一定的数据处理</span><br><span class="line">return newValue</span><br><span class="line">&#125;)</span><br><span class="line">2) 使用过滤器</span><br><span class="line">&lt;div&gt;&#123;&#123;myData | filterName&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&#123;&#123;myData | filterName(arg)&#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-12-4-编码"><a href="#1-12-4-编码" class="headerlink" title="1.12.4. 编码"></a>1.12.4. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;test&quot;&gt;</span><br><span class="line">    &lt;p&gt;当前时间为: &#123;&#123;currentTime&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;当前时间 1 为: &#123;&#123;currentTime | dateStr&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;当前时间 2 为: &#123;&#123;currentTime | dateStr(&#x27;YYYY-MM-DD&#x27;)&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;当前时间 3 为: &#123;&#123;currentTime | dateStr(&#x27;HH:mm:ss&#x27;)&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;</span><br><span class="line">src=&quot;https://cdn.bootcss.com/moment.js/2.19.0/moment.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 注册过滤器</span><br><span class="line">    Vue.filter(&#x27;dateStr&#x27;, function (value, format) &#123;</span><br><span class="line">    return moment(value).format(format || &#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">    el: &#x27;#test&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">    currentTime: new Date()</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">过滤器</span><br><span class="line">定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑处理）。</span><br><span class="line">语法： 1.注册过滤器 `Vue.filter(name, callback)` 或者 `new Vue(&#123;filters:&#123;&#125;&#125;)` 2. 使用过滤器 &#123;&#123; xxx | 过滤器名 &#125;&#125; 或者 v-bind:属性 = &quot;xxx | 过滤器&quot;</span><br><span class="line">备注： 1. 过滤器也可以接受额外参数，多个过滤器也可以串联 2. 并没有改变原本的数据，是产生新的对应的数据</span><br></pre></td></tr></table></figure>

<h2 id="1-13-内置指令与自定义指令"><a href="#1-13-内置指令与自定义指令" class="headerlink" title="1.13. 内置指令与自定义指令"></a>1.13. 内置指令与自定义指令</h2><h3 id="1-13-1-效果-12-指令-x2F-test-html"><a href="#1-13-1-效果-12-指令-x2F-test-html" class="headerlink" title="1.13.1. 效果 (12_指令&#x2F;test.html)"></a>1.13.1. 效果 (12_指令&#x2F;test.html)</h3><p>12<em>指令</em>内置指令.gif</p>
<h3 id="1-13-2-常用内置指令"><a href="#1-13-2-常用内置指令" class="headerlink" title="1.13.2. 常用内置指令"></a>1.13.2. 常用内置指令</h3><ol>
<li>v:text : 更新元素的 textContent</li>
<li>v-html : 更新元素的 innerHTML</li>
<li>v-if : 如果为 true, 当前标签才会输出到页面</li>
<li>v-else: 如果为 false, 当前标签才会输出到页面</li>
<li>v-show : 通过控制 display 样式来控制显示&#x2F;隐藏</li>
<li>v-for : 遍历数组&#x2F;对象</li>
<li>v-on : 绑定事件监听, 一般简写为@</li>
<li>v-bind : 强制绑定解析表达式, 可以省略 v-bind</li>
<li>v-model : 双向数据绑定</li>
<li>ref : 指定唯一标识, vue 对象通过$els 属性访问这个元素对象</li>
<li>v-cloak : 防止闪现, 与 css 配合: [v-cloak] { display: none }</li>
<li>v-once: 所在节点在初次动态渲染后，就视为静态内容了，以后数据的改变不会引起v-once所在结构更新，可以用于优化性能。</li>
<li>v-pre: 跳过所在节点的编译过程，可以利用它跳过没有使用指令语法，没有使用插值语法的节点，会加快编译渲染。</li>
</ol>
<h3 id="1-13-3-自定义指令"><a href="#1-13-3-自定义指令" class="headerlink" title="1.13.3. 自定义指令"></a>1.13.3. 自定义指令</h3><ol>
<li>注册全局指令<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   Vue.directive(&#x27;my-directive&#x27;, function(el, binding)&#123;</span><br><span class="line">   el.innerHTML = binding.value.toupperCase()</span><br><span class="line">   &#125;)</span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">2. 注册局部指令</span><br></pre></td></tr></table></figure>
directives : {<br> ‘my-directive’ : {<br>     bind (el, binding) {<br>         el.innerHTML &#x3D; binding.value.toupperCase()<br>     }<br> }<br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. 使用指令</span><br></pre></td></tr></table></figure>
v-my-directive&#x3D;’xxx’ <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 1.13.4. 编码 1(内置指令)</span><br><span class="line">```   </span><br><span class="line">   &lt;style&gt;</span><br><span class="line">   [v-cloak] &#123;</span><br><span class="line">   display: none</span><br><span class="line">   &#125;</span><br><span class="line">   &lt;/style&gt;</span><br><span class="line">   &lt;div id=&quot;example&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;p v-text=&quot;url&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p v-html=&quot;url&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;img :id=&quot;myid&quot; :src=&quot;imageSrc&quot;&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">&lt;span ref=&quot;message&quot;&gt;atguigu.com&lt;/span&gt;</span><br><span class="line">&lt;button @click=&quot;showMsg&quot;&gt;显示左侧文本&lt;/button&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;p v-cloak&gt;&#123;&#123;url&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">alert(&#x27;模拟加载慢&#x27;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#example&#x27;,</span><br><span class="line">data: &#123;</span><br><span class="line">url: &#x27;&lt;a href=&quot;http://www.atguigu.com&quot;&gt;尚硅谷&lt;/a&gt;&#x27;,</span><br><span class="line">myid: &#x27;abc123&#x27;,</span><br><span class="line">imageSrc: &#x27;http://cn.vuejs.org/images/logo.png&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">showMsg: function () &#123;</span><br><span class="line">alert(this.$refs.message.textContent)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-13-5-编码-2-自定义指令"><a href="#1-13-5-编码-2-自定义指令" class="headerlink" title="1.13.5. 编码 2(自定义指令)"></a>1.13.5. 编码 2(自定义指令)</h3><p>需求: 自定义 2 个指令</p>
<ol>
<li>功能类型于 v-text, 但转换为全大写</li>
<li>功能类型于 v-text, 但转换为全小写</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo1&quot;&gt;</span><br><span class="line">&lt;p v-upper-text=&quot;msg&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p v-lower-text=&quot;msg&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;demo2&quot;&gt;</span><br><span class="line">&lt;p v-upper-text=&quot;msg2&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;p v-lower-text=&quot;msg2&quot;&gt;&lt;/p&gt; &lt;!--局部指令, 此处不能使用--&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">//注册全局指令</span><br><span class="line">Vue.directive(&#x27;upper-text&#x27;, function (el, binding) &#123;</span><br><span class="line">el.innerHTML = binding.value.toUpperCase()</span><br><span class="line">&#125;)</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">    el: &#x27;#demo1&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">    msg: &#x27;NBA love this game!&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">        directives: &#123; // 注册局部指令</span><br><span class="line">            &#x27;lower-text&#x27;: &#123;</span><br><span class="line">            bind (el, binding) &#123;</span><br><span class="line">            el.innerHTML = binding.value.toLowerCase()</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#demo2&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg2: &#x27;I Like You&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>自定义指令 函数式写法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">        directives: &#123;</span><br><span class="line">            big函数何时会被调用， 指令与元素成功 绑定时，一上来。 指令所用的数据发生更新时。</span><br><span class="line">            big(el, binding, args) &#123;</span><br><span class="line">                console.log(el)</span><br><span class="line">                console.log(binding)</span><br><span class="line">                console.log(args)</span><br><span class="line">                el.innerText = binding.value +100</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">el 参数是 标签本身</span><br><span class="line">binding 参数比较重要：</span><br><span class="line">    expression 是 标签上写的表达式</span><br><span class="line">    name 是 big 指令名</span><br><span class="line">    rawName 是 v-big </span><br><span class="line">    value 是 值</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>自定义指令 对象方式写法， 函数式写法 其实 就是对 bind() 和 update() 的调用，因为这2个函数里面执行的内容通常是一样的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">directives: &#123;</span><br><span class="line">    fbind: &#123; 3个钩子方法， 后面vue的生命周期学习会具体讲解。</span><br><span class="line">        bind() &#123; 首先调用这个， 指令与元素绑定时，一上来 时</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        inserted() &#123; 然后调用这个，指令所在的元素被插入到页面时。</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        update() &#123; 每次更新的时候调用这个，指令所在的模板被重新解析时。</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>所有指令中的 this 都是 window</p>
<h2 id="1-14-自定义插件"><a href="#1-14-自定义插件" class="headerlink" title="1.14. 自定义插件"></a>1.14. 自定义插件</h2><h3 id="1-14-1-效果-13-插件-x2F-test-html"><a href="#1-14-1-效果-13-插件-x2F-test-html" class="headerlink" title="1.14.1. 效果 (13_插件&#x2F;test.html)"></a>1.14.1. 效果 (13_插件&#x2F;test.html)</h3><p>13_插件.gif</p>
<h3 id="1-14-2-说明"><a href="#1-14-2-说明" class="headerlink" title="1.14.2. 说明"></a>1.14.2. 说明</h3><ol>
<li>Vue 插件是一个包含 install 方法的对象</li>
<li>通过 install 方法给 Vue 或 Vue 实例添加方法, 定义全局指令等</li>
</ol>
<h3 id="1-14-3-编码"><a href="#1-14-3-编码" class="headerlink" title="1.14.3. 编码"></a>1.14.3. 编码</h3><ol>
<li><p>插件 JS</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">  (function () &#123;</span><br><span class="line">  const MyPlugin = &#123;&#125;</span><br><span class="line">  MyPlugin.install = function (Vue, options) &#123;</span><br><span class="line">  </span><br><span class="line">    // 1. 添加全局方法或属性</span><br><span class="line">    Vue.myGlobalMethod = function () &#123;</span><br><span class="line">        alert(&#x27;Vue 函数对象方法执行&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 2. 添加全局资源</span><br><span class="line">    Vue.directive(&#x27;my-directive&#x27;, function (el, binding) &#123;</span><br><span class="line">        el.innerHTML = &quot;MyPlugin my-directive &quot; + binding.value</span><br><span class="line">    &#125;)</span><br><span class="line">    // 3. 添加实例方法</span><br><span class="line">    Vue.prototype.$myMethod = function () &#123;</span><br><span class="line">        alert(&#x27;vue 实例对象方法执行&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    window.MyPlugin = MyPlugin</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
</li>
<li><p>页面使用插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;demo&quot;&gt;</span><br><span class="line">&lt;!--使用自定义指令--&gt;</span><br><span class="line">&lt;p v-my-directive=&quot;msg&quot;&gt;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;vue-myPlugin.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">//使用自定义插件</span><br><span class="line">Vue.use(MyPlugin)</span><br><span class="line">var vm = new Vue(&#123;</span><br><span class="line">    el: &#x27;#demo&#x27;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: &#x27;atguigu&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//调用自定义的静态方法</span><br><span class="line">Vue.myGlobalMethod()</span><br><span class="line">//调用自定义的对象方法</span><br><span class="line">vm.$myMethod()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="第-2-章：vue-组件化编码"><a href="#第-2-章：vue-组件化编码" class="headerlink" title="第 2 章：vue 组件化编码"></a>第 2 章：vue 组件化编码</h1><h2 id="2-1-使用-vue-cli-创建模板项目"><a href="#2-1-使用-vue-cli-创建模板项目" class="headerlink" title="2.1. 使用 vue-cli 创建模板项目"></a>2.1. 使用 vue-cli 创建模板项目</h2><h3 id="2-1-1-说明"><a href="#2-1-1-说明" class="headerlink" title="2.1.1. 说明"></a>2.1.1. 说明</h3><ol>
<li>vue-cli 是 vue 官方提供的脚手架工具</li>
<li>github: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-cli">https://github.com/vuejs/vue-cli</a></li>
<li>作用: 从 <a target="_blank" rel="noopener" href="https://github.com/vuejs-templates">https://github.com/vuejs-templates</a> 下载模板项目<br>33</li>
</ol>
<h3 id="2-1-2-创建-vue-项目"><a href="#2-1-2-创建-vue-项目" class="headerlink" title="2.1.2. 创建 vue 项目"></a>2.1.2. 创建 vue 项目</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vue-cli</span><br><span class="line">vue init webpack vue_demo</span><br><span class="line">cd vue_demo</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>访问: <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a></p>
<h3 id="2-1-3-模板项目的结构"><a href="#2-1-3-模板项目的结构" class="headerlink" title="2.1.3. 模板项目的结构"></a>2.1.3. 模板项目的结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">|-- build : webpack 相关的配置文件夹(基本不需要修改)</span><br><span class="line">|-- dev-server.js : 通过 express 启动后台服务器</span><br><span class="line">|-- config: webpack 相关的配置文件夹(基本不需要修改)</span><br><span class="line">|-- index.js: 指定的后台服务的端口号和静态资源文件夹</span><br><span class="line">|-- node_modules</span><br><span class="line">|-- src : 源码文件夹</span><br><span class="line">|-- components: vue 组件及其相关资源文件夹</span><br><span class="line">|-- App.vue: 应用根主组件</span><br><span class="line">|-- main.js: 应用入口 js</span><br><span class="line">|-- static: 静态资源文件夹</span><br><span class="line">|-- .babelrc: babel 的配置文件</span><br><span class="line">|-- .eslintignore: eslint 检查忽略的配置</span><br><span class="line">|-- .eslintrc.js: eslint 检查的配置</span><br><span class="line">|-- .gitignore: git 版本管制忽略的配置</span><br><span class="line">|-- index.html: 主页面文件</span><br><span class="line">|-- package.json: 应用包配置文件</span><br><span class="line">|-- README.md: 应用描述说明的 readme 文件</span><br></pre></td></tr></table></figure>

<h3 id="2-1-4-效果"><a href="#2-1-4-效果" class="headerlink" title="2.1.4. 效果"></a>2.1.4. 效果</h3><h2 id="2-2-项目的打包与发布"><a href="#2-2-项目的打包与发布" class="headerlink" title="2.2. 项目的打包与发布"></a>2.2. 项目的打包与发布</h2><h3 id="2-2-1-打包"><a href="#2-2-1-打包" class="headerlink" title="2.2.1. 打包:"></a>2.2.1. 打包:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<h3 id="2-2-2-发布-1-使用静态服务器工具包"><a href="#2-2-2-发布-1-使用静态服务器工具包" class="headerlink" title="2.2.2. 发布 1: 使用静态服务器工具包"></a>2.2.2. 发布 1: 使用静态服务器工具包</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g serve</span><br><span class="line">serve dist</span><br></pre></td></tr></table></figure>
<p>访问: <a target="_blank" rel="noopener" href="http://localhost:5000/">http://localhost:5000</a></p>
<h3 id="2-2-3-发布-2-使用动态-web-服务器-tomcat"><a href="#2-2-3-发布-2-使用动态-web-服务器-tomcat" class="headerlink" title="2.2.3. 发布 2: 使用动态 web 服务器(tomcat)"></a>2.2.3. 发布 2: 使用动态 web 服务器(tomcat)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">修改配置: webpack.prod.conf.js</span><br><span class="line">output: &#123;</span><br><span class="line">publicPath: &#x27;/xxx/&#x27; //打包文件夹的名称</span><br><span class="line">&#125;</span><br><span class="line">重新打包:</span><br><span class="line">npm run build</span><br><span class="line">修改 dist 文件夹为项目名称: xxx</span><br><span class="line">将 xxx 拷贝到运行的 tomcat 的 webapps 目录下</span><br><span class="line">访问: http://localhost:8080/xxx</span><br></pre></td></tr></table></figure>

<h2 id="2-3-eslint"><a href="#2-3-eslint" class="headerlink" title="2.3. eslint"></a>2.3. eslint</h2><h3 id="2-3-1-说明"><a href="#2-3-1-说明" class="headerlink" title="2.3.1. 说明"></a>2.3.1. 说明</h3><ol>
<li>ESLint 是一个代码规范检查工具</li>
<li>它定义了很多特定的规则, 一旦你的代码违背了某一规则, eslint 会作出非常有用的提示</li>
<li>官网: <a target="_blank" rel="noopener" href="http://eslint.org/">http://eslint.org/</a></li>
<li>基本已替代以前的 JSLint</li>
</ol>
<h3 id="2-3-2-ESLint-提供以下支持"><a href="#2-3-2-ESLint-提供以下支持" class="headerlink" title="2.3.2. ESLint 提供以下支持"></a>2.3.2. ESLint 提供以下支持</h3><ol>
<li>ES</li>
<li>JSX</li>
<li>style 检查</li>
<li>自定义错误和提示</li>
</ol>
<h3 id="2-3-3-ESLint-提供以下几种校验"><a href="#2-3-3-ESLint-提供以下几种校验" class="headerlink" title="2.3.3. ESLint 提供以下几种校验"></a>2.3.3. ESLint 提供以下几种校验</h3><ol>
<li>语法错误校验</li>
<li>不重要或丢失的标点符号，如分号</li>
<li>没法运行到的代码块（使用过 WebStorm 的童鞋应该了解）</li>
<li>未被使用的参数提醒</li>
<li>确保样式的统一规则，如 sass 或者 less</li>
<li>检查变量的命名</li>
</ol>
<h3 id="2-3-4-规则的错误等级有三种"><a href="#2-3-4-规则的错误等级有三种" class="headerlink" title="2.3.4. 规则的错误等级有三种"></a>2.3.4. 规则的错误等级有三种</h3><ol>
<li>0：关闭规则。</li>
<li>1：打开规则，并且作为一个警告（信息打印黄色字体）</li>
<li>2：打开规则，并且作为一个错误（信息打印红色字体）</li>
</ol>
<h3 id="2-3-5-相关配置文件"><a href="#2-3-5-相关配置文件" class="headerlink" title="2.3.5. 相关配置文件"></a>2.3.5. 相关配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. .eslintrc.js : 全局规则配置文件</span><br><span class="line">   &#x27;rules&#x27;: &#123;</span><br><span class="line">   &#x27;no-new&#x27;: 1</span><br><span class="line">   &#125;</span><br><span class="line">2. 在 js/vue 文件中修改局部规则</span><br><span class="line">   /_ eslint-disable no-new _/</span><br><span class="line">   new Vue(&#123;</span><br><span class="line">   el: &#x27;body&#x27;, components: &#123; App &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">3. .eslintignore: 指令检查忽略的文件</span><br><span class="line">   _.js _.vue</span><br></pre></td></tr></table></figure>

<h2 id="2-4-组件定义与使用"><a href="#2-4-组件定义与使用" class="headerlink" title="2.4. 组件定义与使用"></a>2.4. 组件定义与使用</h2><h3 id="2-4-1-vue-文件的组成-3-个部分"><a href="#2-4-1-vue-文件的组成-3-个部分" class="headerlink" title="2.4.1. vue 文件的组成(3 个部分)"></a>2.4.1. vue 文件的组成(3 个部分)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. 模板页面</span><br><span class="line">   &lt;template&gt;</span><br><span class="line">   页面模板</span><br><span class="line">   &lt;/template&gt;</span><br><span class="line">2. JS 模块对象</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;return &#123;&#125;&#125;, methods: &#123;&#125;, computed: &#123;&#125;, components: &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">3. 样式</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">样式定义</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-2-基本使用"><a href="#2-4-2-基本使用" class="headerlink" title="2.4.2. 基本使用"></a>2.4.2. 基本使用</h3><ol>
<li>引入组件</li>
<li>映射成标签</li>
<li>使用组件标签<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;HelloWorld&gt;&lt;/HelloWorld&gt;</span><br><span class="line">&lt;hello-world&gt;&lt;/hello-world&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld&#x27; export default &#123;</span><br><span class="line">components: &#123;</span><br><span class="line">HelloWorld</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-4-3-关于标签名与标签属性名书写问题"><a href="#2-4-3-关于标签名与标签属性名书写问题" class="headerlink" title="2.4.3. 关于标签名与标签属性名书写问题"></a>2.4.3. 关于标签名与标签属性名书写问题</h3><ol>
<li>写法一: 一模一样</li>
<li>写法二: 大写变小写, 并用-连接</li>
</ol>
<h2 id="2-5-组件间通信"><a href="#2-5-组件间通信" class="headerlink" title="2.5. 组件间通信"></a>2.5. 组件间通信</h2><h3 id="2-5-1-组件间通信基本原则"><a href="#2-5-1-组件间通信基本原则" class="headerlink" title="2.5.1. 组件间通信基本原则"></a>2.5.1. 组件间通信基本原则</h3><ol>
<li>不要在子组件中直接修改父组件的状态数据</li>
<li>数据在哪, 更新数据的行为(函数)就应该定义在哪</li>
</ol>
<h3 id="2-5-2-vue-组件间通信方式"><a href="#2-5-2-vue-组件间通信方式" class="headerlink" title="2.5.2. vue 组件间通信方式"></a>2.5.2. vue 组件间通信方式</h3><ol>
<li>props</li>
<li>vue 的自定义事件</li>
<li>消息订阅与发布(如: pubsub 库)</li>
<li>slot</li>
<li>vuex(后面单独讲)</li>
</ol>
<h2 id="2-6-组件间通信-1-props"><a href="#2-6-组件间通信-1-props" class="headerlink" title="2.6. 组件间通信 1: props"></a>2.6. 组件间通信 1: props</h2><h3 id="2-6-1-使用组件标签时"><a href="#2-6-1-使用组件标签时" class="headerlink" title="2.6.1. 使用组件标签时"></a>2.6.1. 使用组件标签时</h3><p><my-component name='tom' :age='3' :set-name='setName'></my-component></p>
<h3 id="2-6-2-定义-MyComponent-时"><a href="#2-6-2-定义-MyComponent-时" class="headerlink" title="2.6.2. 定义 MyComponent 时"></a>2.6.2. 定义 MyComponent 时</h3><ol>
<li>在组件内声明所有的 props</li>
<li>方式一: 只指定名称<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;name&#x27;, &#x27;age&#x27;, &#x27;setName&#x27;]</span><br></pre></td></tr></table></figure></li>
<li>方式二: 指定名称和类型<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">name: String, age: Number, setNmae: Function</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>方式三: 指定名称&#x2F;类型&#x2F;必要性&#x2F;默认值<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">name: &#123;type: String, required: true, default:xxx&#125;, &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-6-3-注意"><a href="#2-6-3-注意" class="headerlink" title="2.6.3. 注意"></a>2.6.3. 注意</h3><ol>
<li>此方式用于父组件向子组件传递数据</li>
<li>所有标签属性都会成为组件对象的属性, 模板页面可以直接引用</li>
<li>问题:<br>a. 如果需要向非子后代传递数据必须多层逐层传递<br>b. 兄弟组件间也不能直接 props 通信, 必须借助父组件才可以</li>
</ol>
<h2 id="2-7-组件间通信-2-vue-自定义事件"><a href="#2-7-组件间通信-2-vue-自定义事件" class="headerlink" title="2.7. 组件间通信 2: vue 自定义事件"></a>2.7. 组件间通信 2: vue 自定义事件</h2><h3 id="2-7-1-绑定事件监听"><a href="#2-7-1-绑定事件监听" class="headerlink" title="2.7.1. 绑定事件监听"></a>2.7.1. 绑定事件监听</h3><p>&#x2F;&#x2F; 方式一: 通过 v-on 绑定</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@delete_todo=&quot;deleteTodo&quot;</span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F; 方式二: 通过$on()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.$refs.xxx.$on(&#x27;delete_todo&#x27;, function (todo) &#123;</span><br><span class="line">this.deleteTodo(todo)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-7-2-触发事件"><a href="#2-7-2-触发事件" class="headerlink" title="2.7.2. 触发事件"></a>2.7.2. 触发事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 触发事件(只能在父组件中接收)</span><br><span class="line">this.$emit(eventName, data)</span><br></pre></td></tr></table></figure>
<h3 id="2-7-3-注意"><a href="#2-7-3-注意" class="headerlink" title="2.7.3. 注意:"></a>2.7.3. 注意:</h3><ol>
<li>此方式只用于子组件向父组件发送消息(数据)</li>
<li>问题: 隔代组件或兄弟组件间通信此种方式不合适</li>
</ol>
<h2 id="2-8-组件间通信-3-消息订阅与发布-PubSubJS-库"><a href="#2-8-组件间通信-3-消息订阅与发布-PubSubJS-库" class="headerlink" title="2.8. 组件间通信 3: 消息订阅与发布(PubSubJS 库)"></a>2.8. 组件间通信 3: 消息订阅与发布(PubSubJS 库)</h2><h3 id="2-8-1-订阅消息"><a href="#2-8-1-订阅消息" class="headerlink" title="2.8.1. 订阅消息"></a>2.8.1. 订阅消息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubSub.subscribe(&#x27;msg&#x27;, function(msg, data)&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-8-2-发布消息"><a href="#2-8-2-发布消息" class="headerlink" title="2.8.2. 发布消息"></a>2.8.2. 发布消息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubSub.publish(&#x27;msg&#x27;, data)</span><br></pre></td></tr></table></figure>
<h3 id="2-8-3-注意"><a href="#2-8-3-注意" class="headerlink" title="2.8.3. 注意"></a>2.8.3. 注意</h3><ol>
<li>优点: 此方式可实现任意关系组件间通信(数据)</li>
</ol>
<h3 id="2-8-4-事件的-2-个重要操作-总结"><a href="#2-8-4-事件的-2-个重要操作-总结" class="headerlink" title="2.8.4. 事件的 2 个重要操作(总结)"></a>2.8.4. 事件的 2 个重要操作(总结)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 绑定事件监听 (订阅消息)</span><br><span class="line">   目标: 标签元素 &lt;button&gt;</span><br><span class="line">   事件名(类型): click/focus</span><br><span class="line">   回调函数: function(event)&#123;&#125;</span><br><span class="line">2. 触发事件 (发布消息)</span><br><span class="line">   DOM 事件: 用户在浏览器上对应的界面上做对应的操作</span><br><span class="line">   自定义: 编码手动触发</span><br></pre></td></tr></table></figure>

<h2 id="2-9-组件间通信-4-slot"><a href="#2-9-组件间通信-4-slot" class="headerlink" title="2.9. 组件间通信 4: slot"></a>2.9. 组件间通信 4: slot</h2><h3 id="2-9-1-理解"><a href="#2-9-1-理解" class="headerlink" title="2.9.1. 理解"></a>2.9.1. 理解</h3><p>此方式用于父组件向子组件传递<code>标签数据</code> 2.9.2. 子组件: Child.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;slot name=&quot;xxx&quot;&gt;不确定的标签结构 1&lt;/slot&gt;</span><br><span class="line">&lt;div&gt;组件确定的标签结构&lt;/div&gt;</span><br><span class="line">&lt;slot name=&quot;yyy&quot;&gt;不确定的标签结构 2&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-9-3-父组件-Parent-vue"><a href="#2-9-3-父组件-Parent-vue" class="headerlink" title="2.9.3. 父组件: Parent.vue"></a>2.9.3. 父组件: Parent.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;child&gt;</span><br><span class="line">&lt;div slot=&quot;xxx&quot;&gt;xxx 对应的标签结构&lt;/div&gt;</span><br><span class="line">&lt;div slot=&quot;yyy&quot;&gt;yyyy 对应的标签结构&lt;/div&gt;</span><br><span class="line">&lt;/child&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-10-demo1-comment-manage"><a href="#2-10-demo1-comment-manage" class="headerlink" title="2.10. demo1: comment manage"></a>2.10. demo1: comment manage</h2><p>demo1_comment manage.gif</p>
<h2 id="2-11-demo2-todo-list"><a href="#2-11-demo2-todo-list" class="headerlink" title="2.11. demo2: todo list"></a>2.11. demo2: todo list</h2><p>demo2_todolist.gif</p>
<h1 id="第-3-章：vue-ajax"><a href="#第-3-章：vue-ajax" class="headerlink" title="第 3 章：vue-ajax"></a>第 3 章：vue-ajax</h1><h2 id="3-1-vue-项目中常用的-2-个-ajax-库"><a href="#3-1-vue-项目中常用的-2-个-ajax-库" class="headerlink" title="3.1. vue 项目中常用的 2 个 ajax 库"></a>3.1. vue 项目中常用的 2 个 ajax 库</h2><h3 id="3-1-1-vue-resource"><a href="#3-1-1-vue-resource" class="headerlink" title="3.1.1. vue-resource"></a>3.1.1. vue-resource</h3><p>vue 插件, 非官方库, vue1.x 使用广泛</p>
<h3 id="3-1-2-axios"><a href="#3-1-2-axios" class="headerlink" title="3.1.2. axios"></a>3.1.2. axios</h3><p>通用的 ajax 请求库, 官方推荐, vue2.x 使用广泛</p>
<h2 id="3-2-vue-resource-的使用"><a href="#3-2-vue-resource-的使用" class="headerlink" title="3.2. vue-resource 的使用"></a>3.2. vue-resource 的使用</h2><h3 id="3-2-1-在线文档"><a href="#3-2-1-在线文档" class="headerlink" title="3.2.1. 在线文档"></a>3.2.1. 在线文档</h3><p><a target="_blank" rel="noopener" href="https://github.com/pagekit/vue-resource/blob/develop/docs/http.md">https://github.com/pagekit/vue-resource/blob/develop/docs/http.md</a></p>
<h3 id="3-2-2-下载"><a href="#3-2-2-下载" class="headerlink" title="3.2.2. 下载"></a>3.2.2. 下载</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-resource --save</span><br></pre></td></tr></table></figure>
<h3 id="3-2-3-编码"><a href="#3-2-3-编码" class="headerlink" title="3.2.3. 编码"></a>3.2.3. 编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 引入模块</span><br><span class="line">import VueResource from &#x27;vue-resource&#x27; // 使用插件</span><br><span class="line">Vue.use(VueResource)</span><br><span class="line">// 通过 vue/组件对象发送 ajax 请求</span><br><span class="line">this.$http.get(&#x27;/someUrl&#x27;).then((response) =&gt; &#123;</span><br><span class="line">// success callback</span><br><span class="line">console.log(response.data) //返回结果数据</span><br><span class="line">&#125;, (response) =&gt; &#123;</span><br><span class="line">// error callback</span><br><span class="line">console.log(response.statusText) //错误信息</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-3-axios-的使用"><a href="#3-3-axios-的使用" class="headerlink" title="3.3. axios 的使用"></a>3.3. axios 的使用</h2><h3 id="3-3-1-效果"><a href="#3-3-1-效果" class="headerlink" title="3.3.1. 效果"></a>3.3.1. 效果</h3><p>ajax_test.gif</p>
<h2 id="3-2-在线文档"><a href="#3-2-在线文档" class="headerlink" title="3.2. 在线文档"></a>3.2. 在线文档</h2><p><a target="_blank" rel="noopener" href="https://github.com/pagekit/vue-resource/blob/develop/docs/http.md">https://github.com/pagekit/vue-resource/blob/develop/docs/http.md</a></p>
<h3 id="3-3-下载"><a href="#3-3-下载" class="headerlink" title="3.3. 下载:"></a>3.3. 下载:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br></pre></td></tr></table></figure>
<h2 id="3-4-编码"><a href="#3-4-编码" class="headerlink" title="3.4. 编码"></a>3.4. 编码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 引入模块</span><br><span class="line">import axios from &#x27;axios&#x27; // 发送 ajax 请求</span><br><span class="line">axios.get(url)</span><br><span class="line">.then(response =&gt; &#123;</span><br><span class="line">console.log(response.data) // 得到返回结果数据</span><br><span class="line">&#125;)</span><br><span class="line">.catch(error =&gt; &#123;</span><br><span class="line">console.log(error.message)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-4-测试接口"><a href="#3-4-测试接口" class="headerlink" title="3.4. 测试接口"></a>3.4. 测试接口</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">接口 1: https://api.github.com/search/repositories?q=v&amp;sort=stars</span><br><span class="line">接口 2: https://api.github.com/search/users?q=aa</span><br></pre></td></tr></table></figure>

<h2 id="3-5-demo3-github-users"><a href="#3-5-demo3-github-users" class="headerlink" title="3.5. demo3: github users"></a>3.5. demo3: github users</h2><p>demo3_usersearch.gif</p>
<h1 id="第-4-章：vue-UI-组件库"><a href="#第-4-章：vue-UI-组件库" class="headerlink" title="第 4 章：vue UI 组件库"></a>第 4 章：vue UI 组件库</h1><h2 id="4-1-常用"><a href="#4-1-常用" class="headerlink" title="4.1. 常用"></a>4.1. 常用</h2><ol>
<li><p>Mint UI:</p>
<p>a. 主页: <a target="_blank" rel="noopener" href="http://mint-ui.github.io/#!/zh-cn">http://mint-ui.github.io/#!/zh-cn</a></p>
<p>b. 说明: 饿了么开源的基于 vue 的移动端 UI 组件库</p>
</li>
<li><p>Elment</p>
<p>a. 主页: <a target="_blank" rel="noopener" href="http://element-cn.eleme.io/#/zh-CN">http://element-cn.eleme.io/#/zh-CN</a></p>
<p>b. 说明: 饿了么开源的基于 vue 的 PC 端 UI 组件库</p>
</li>
</ol>
<h2 id="4-2-使用-Mint-UI"><a href="#4-2-使用-Mint-UI" class="headerlink" title="4.2. 使用 Mint UI"></a>4.2. 使用 Mint UI</h2><h3 id="4-2-1-下载"><a href="#4-2-1-下载" class="headerlink" title="4.2.1. 下载:"></a>4.2.1. 下载:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save mint-ui</span><br></pre></td></tr></table></figure>
<h3 id="4-2-2-实现按需打包"><a href="#4-2-2-实现按需打包" class="headerlink" title="4.2.2. 实现按需打包"></a>4.2.2. 实现按需打包</h3><ol>
<li><p>下载</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-plugin-component</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 babel 配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;plugins&quot;: [&quot;transform-runtime&quot;,[&quot;component&quot;, [</span><br><span class="line">&#123;</span><br><span class="line">&quot;libraryName&quot;: &quot;mint-ui&quot;,</span><br><span class="line">&quot;style&quot;: true</span><br><span class="line">&#125;</span><br><span class="line">]]]</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-2-3-mint-ui-组件分类"><a href="#4-2-3-mint-ui-组件分类" class="headerlink" title="4.2.3. mint-ui 组件分类"></a>4.2.3. mint-ui 组件分类</h3><ol>
<li>标签组件</li>
<li>非标签组件</li>
</ol>
<h3 id="4-2-4-使用-mint-ui-的组件"><a href="#4-2-4-使用-mint-ui-的组件" class="headerlink" title="4.2.4. 使用 mint-ui 的组件"></a>4.2.4. 使用 mint-ui 的组件</h3><ol>
<li>index.html<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1,</span><br><span class="line">minimum-scale=1, user-scalable=no&quot; /&gt;</span><br><span class="line">&lt;script</span><br><span class="line">src=&quot;https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js&quot;&gt;&lt;/scrip</span><br><span class="line">t&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">if (&#x27;addEventListener&#x27; in document) &#123;</span><br><span class="line">document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span><br><span class="line">FastClick.attach(document.body);</span><br><span class="line">&#125;, false);</span><br><span class="line">&#125;</span><br><span class="line">if(!window.Promise) &#123;</span><br><span class="line">document.writeln(&#x27;&lt;script</span><br><span class="line">src=&quot;https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js&quot;</span><br><span class="line">&#x27;+&#x27;&gt;&#x27;+&#x27;&lt;&#x27;+&#x27;/&#x27;+&#x27;script&gt;&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>main.js<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123;Button&#125; from &#x27;mint-ui&#x27;</span><br><span class="line">Vue.component(Button.name, Button)</span><br></pre></td></tr></table></figure></li>
<li>App.vue<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;mt-button @click=&quot;handleClick&quot; type=&quot;primary&quot; style=&quot;width: 100%&quot;&gt;Test&lt;/mt-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;Toast&#125; from &#x27;mint-ui&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">methods: &#123;</span><br><span class="line">handleClick () &#123;</span><br><span class="line">Toast(&#x27;点击了测试&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="第-5-章：vue-router"><a href="#第-5-章：vue-router" class="headerlink" title="第 5 章：vue-router"></a>第 5 章：vue-router</h1><h2 id="5-1-理解"><a href="#5-1-理解" class="headerlink" title="5.1. 理解"></a>5.1. 理解</h2><h3 id="5-1-1-说明"><a href="#5-1-1-说明" class="headerlink" title="5.1.1. 说明"></a>5.1.1. 说明</h3><ol>
<li>官方提供的用来实现 SPA 的 vue 插件</li>
<li>github: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-router">https://github.com/vuejs/vue-router</a></li>
<li>中文文档: <a target="_blank" rel="noopener" href="http://router.vuejs.org/zh-cn/">http://router.vuejs.org/zh-cn/</a></li>
<li>下载: npm install vue-router –save</li>
</ol>
<h3 id="5-1-2-相关-API-说明"><a href="#5-1-2-相关-API-说明" class="headerlink" title="5.1.2. 相关 API 说明"></a>5.1.2. 相关 API 说明</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1. VueRouter(): 用于创建路由器的构建函数</span><br><span class="line">   new VueRouter(&#123;</span><br><span class="line">   // 多个配置项</span><br><span class="line">   &#125;)</span><br><span class="line">2. 路由配置</span><br><span class="line">   routes: [</span><br><span class="line">   &#123; // 一般路由</span><br><span class="line">   path: &#x27;/about&#x27;, component: About</span><br><span class="line">   &#125;,&#123; // 自动跳转路由</span><br><span class="line">   path: &#x27;/&#x27;, redirect: &#x27;/about&#x27; &#125;</span><br><span class="line">   ]</span><br><span class="line">3. 注册路由器</span><br><span class="line">   import router from &#x27;./router&#x27; new Vue(&#123;</span><br><span class="line">   router</span><br><span class="line">   &#125;)</span><br><span class="line">4. 使用路由组件标签</span><br><span class="line"></span><br><span class="line">1) &lt;router-link&gt;: 用来生成路由链接</span><br><span class="line">   &lt;router-link to=&quot;/xxx&quot;&gt;Go to XXX&lt;/router-link&gt;</span><br><span class="line">2) &lt;router-view&gt;: 用来显示当前路由组件界面</span><br><span class="line">   &lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-2-基本路由"><a href="#5-2-基本路由" class="headerlink" title="5.2. 基本路由"></a>5.2. 基本路由</h2><h3 id="5-2-1-效果"><a href="#5-2-1-效果" class="headerlink" title="5.2.1. 效果"></a>5.2.1. 效果</h3><p>基本路由.gif</p>
<h3 id="5-2-2-路由组件"><a href="#5-2-2-路由组件" class="headerlink" title="5.2.2. 路由组件"></a>5.2.2. 路由组件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Home.vue</span><br><span class="line">About.vue</span><br></pre></td></tr></table></figure>
<h3 id="5-2-3-应用组件-App-vue"><a href="#5-2-3-应用组件-App-vue" class="headerlink" title="5.2.3. 应用组件: App.vue"></a>5.2.3. 应用组件: App.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">&lt;!--路由链接--&gt;</span><br><span class="line">&lt;router-link to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;!--用于渲染当前路由组件--&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-4-路由器模块-src-x2F-router-x2F-index-js"><a href="#5-2-4-路由器模块-src-x2F-router-x2F-index-js" class="headerlink" title="5.2.4. 路由器模块: src&#x2F;router&#x2F;index.js"></a>5.2.4. 路由器模块: src&#x2F;router&#x2F;index.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">export default new VueRouter(&#123;</span><br><span class="line">routes: [</span><br><span class="line">&#123;</span><br><span class="line">path: &#x27;/&#x27;, redirect: &#x27;/about&#x27; &#125;,&#123;</span><br><span class="line">path: &#x27;/about&#x27;, component: About</span><br><span class="line">&#125;,&#123;</span><br><span class="line">path: &#x27;/home&#x27;, component: Home</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="5-2-5-注册路由器-main-js"><a href="#5-2-5-注册路由器-main-js" class="headerlink" title="5.2.5. 注册路由器: main.js"></a>5.2.5. 注册路由器: main.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27; import router from &#x27;./router&#x27; // 创建 vue 配置路由器</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#app&#x27;, router, render: h =&gt; h(app)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="5-2-6-优化路由器配置"><a href="#5-2-6-优化路由器配置" class="headerlink" title="5.2.6. 优化路由器配置"></a>5.2.6. 优化路由器配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linkActiveClass: &#x27;active&#x27;, // 指定选中的路由链接的 class</span><br></pre></td></tr></table></figure>

<h3 id="5-2-7-总结-编写使用路由的-3-步"><a href="#5-2-7-总结-编写使用路由的-3-步" class="headerlink" title="5.2.7. 总结: 编写使用路由的 3 步"></a>5.2.7. 总结: 编写使用路由的 3 步</h3><ol>
<li>定义路由组件</li>
<li>注册路由</li>
<li>使用路由<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link&gt;</span><br><span class="line">&lt;router-view&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="5-3-嵌套路由"><a href="#5-3-嵌套路由" class="headerlink" title="5.3. 嵌套路由"></a>5.3. 嵌套路由</h2><h3 id="5-3-1-效果"><a href="#5-3-1-效果" class="headerlink" title="5.3.1. 效果"></a>5.3.1. 效果</h3><p>嵌套路由.gif</p>
<h3 id="5-3-2-子路由组件"><a href="#5-3-2-子路由组件" class="headerlink" title="5.3.2. 子路由组件"></a>5.3.2. 子路由组件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">News.vue</span><br><span class="line">Message.vue</span><br></pre></td></tr></table></figure>
<h3 id="5-3-3-配置嵌套路由-router-js"><a href="#5-3-3-配置嵌套路由-router-js" class="headerlink" title="5.3.3. 配置嵌套路由: router.js"></a>5.3.3. 配置嵌套路由: router.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">path: &#x27;/home&#x27;, component: home, children: [</span><br><span class="line">&#123;</span><br><span class="line">path: &#x27;news&#x27;, component: News</span><br><span class="line">&#125;,&#123;</span><br><span class="line">path: &#x27;message&#x27;, component: Message</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="5-3-4-路由链接-Home-vue"><a href="#5-3-4-路由链接-Home-vue" class="headerlink" title="5.3.4. 路由链接: Home.vue"></a>5.3.4. 路由链接: Home.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/route-view&gt;</span><br></pre></td></tr></table></figure>
<h2 id="5-4-向路由组件传递数据"><a href="#5-4-向路由组件传递数据" class="headerlink" title="5.4. 向路由组件传递数据"></a>5.4. 向路由组件传递数据</h2><h3 id="5-4-1-效果"><a href="#5-4-1-效果" class="headerlink" title="5.4.1. 效果"></a>5.4.1. 效果</h3><p>向路由组件传递数据.gif</p>
<h3 id="5-4-2-方式-1-路由路径携带参数-param-x2F-query"><a href="#5-4-2-方式-1-路由路径携带参数-param-x2F-query" class="headerlink" title="5.4.2. 方式 1: 路由路径携带参数(param&#x2F;query)"></a>5.4.2. 方式 1: 路由路径携带参数(param&#x2F;query)</h3><ol>
<li><p>配置路由</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">children: [</span><br><span class="line">&#123;</span><br><span class="line">path: &#x27;mdetail/:id&#x27;, component: MessageDetail</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><p>路由路径</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#x27;/home/message/mdetail/&#x27;+m.id&quot;&gt;&#123;&#123;m.title&#125;&#125;&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>路由组件中读取请求参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="5-4-3-方式-2-属性携带数据"><a href="#5-4-3-方式-2-属性携带数据" class="headerlink" title="5.4.3. 方式 2: 属性携带数据"></a>5.4.3. 方式 2: <router-view>属性携带数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view :msg=&quot;msg&quot;&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-5-缓存路由组件对象"><a href="#5-5-缓存路由组件对象" class="headerlink" title="5.5. 缓存路由组件对象"></a>5.5. 缓存路由组件对象</h2><h3 id="5-5-1-理解"><a href="#5-5-1-理解" class="headerlink" title="5.5.1. 理解"></a>5.5.1. 理解</h3><ol>
<li>默认情况下, 被切换的路由组件对象会死亡释放, 再次回来时是重新创建的</li>
<li>如果可以缓存路由组件对象, 可以提高用户体验</li>
</ol>
<h3 id="5-5-2-编码实现"><a href="#5-5-2-编码实现" class="headerlink" title="5.5.2. 编码实现"></a>5.5.2. 编码实现</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-6-编程式路由导航"><a href="#5-6-编程式路由导航" class="headerlink" title="5.6. 编程式路由导航"></a>5.6. 编程式路由导航</h2><h3 id="5-6-1-效果"><a href="#5-6-1-效果" class="headerlink" title="5.6.1. 效果"></a>5.6.1. 效果</h3><p>编程导航.gif</p>
<h3 id="5-6-2-相关-API"><a href="#5-6-2-相关-API" class="headerlink" title="5.6.2. 相关 API"></a>5.6.2. 相关 API</h3><ol>
<li>this.$router.push(path): 相当于点击路由链接(可以返回到当前路由界面)</li>
<li>this.$router.replace(path): 用新路由替换当前路由(不可以返回到当前路由界面)</li>
<li>this.$router.back(): 请求(返回)上一个记录路由</li>
<li>this.$router.go(-1): 请求(返回)上一个记录路由</li>
<li>this.$router.go(1): 请求下一个记录路由</li>
</ol>
<h1 id="第-6-章：vuex"><a href="#第-6-章：vuex" class="headerlink" title="第 6 章：vuex"></a>第 6 章：vuex</h1><h2 id="6-1-vuex-理解"><a href="#6-1-vuex-理解" class="headerlink" title="6.1. vuex 理解"></a>6.1. vuex 理解</h2><h3 id="6-1-1-vuex-是什么"><a href="#6-1-1-vuex-是什么" class="headerlink" title="6.1.1. vuex 是什么"></a>6.1.1. vuex 是什么</h3><ol>
<li>github 站点: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a></li>
<li>在线文档: <a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh-cn/">https://vuex.vuejs.org/zh-cn/</a></li>
<li>简单来说: 对 vue 应用中多个组件的共享状态进行集中式的管理(读&#x2F;写)</li>
</ol>
<h3 id="6-1-2-状态自管理应用"><a href="#6-1-2-状态自管理应用" class="headerlink" title="6.1.2. 状态自管理应用"></a>6.1.2. 状态自管理应用</h3><ol>
<li>state: 驱动应用的数据源</li>
<li>view: 以声明方式将 state 映射到视图</li>
<li>actions: 响应在 view 上的用户输入导致的状态变化(包含 n 个更新状态的方法)</li>
</ol>
<h3 id="6-1-3-多组件共享状态的问题"><a href="#6-1-3-多组件共享状态的问题" class="headerlink" title="6.1.3. 多组件共享状态的问题"></a>6.1.3. 多组件共享状态的问题</h3><ol>
<li>多个视图依赖于同一状态</li>
<li>来自不同视图的行为需要变更同一状态</li>
<li>以前的解决办法<br>a. 将数据以及操作数据的行为都定义在父组件<br>b. 将数据以及操作数据的行为传递给需要的各个子组件(有可能需要多级传递)</li>
<li>vuex 就是用来解决这个问题的</li>
</ol>
<h2 id="6-2-vuex-核心概念和-API"><a href="#6-2-vuex-核心概念和-API" class="headerlink" title="6.2. vuex 核心概念和 API"></a>6.2. vuex 核心概念和 API</h2><h3 id="6-2-1-state"><a href="#6-2-1-state" class="headerlink" title="6.2.1. state"></a>6.2.1. state</h3><ol>
<li>vuex 管理的状态对象</li>
<li>它应该是唯一的<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const state = &#123;</span><br><span class="line">xxx: initValue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-2-2-mutations"><a href="#6-2-2-mutations" class="headerlink" title="6.2.2. mutations"></a>6.2.2. mutations</h3><ol>
<li>包含多个直接更新 state 的方法(回调函数)的对象</li>
<li>谁来触发: action 中的 commit(‘mutation 名称’)</li>
<li>只能包含同步的代码, 不能写异步代码<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const mutations = &#123;</span><br><span class="line">yyy (state, &#123;data1&#125;) &#123;</span><br><span class="line">// 更新 state 的某个属性</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-2-3-actions"><a href="#6-2-3-actions" class="headerlink" title="6.2.3. actions"></a>6.2.3. actions</h3><ol>
<li>包含多个事件回调函数的对象</li>
<li>通过执行: commit()来触发 mutation 的调用, 间接更新 state</li>
<li>谁来触发: 组件中: $store.dispatch(‘action 名称’, data1) &#x2F;&#x2F; ‘zzz’ 4) 可以包含异步代码(定时器, ajax)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const actions = &#123;</span><br><span class="line">zzz (&#123;commit, state&#125;, data1) &#123;</span><br><span class="line">commit(&#x27;yyy&#x27;, &#123;data1&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-2-4-getters"><a href="#6-2-4-getters" class="headerlink" title="6.2.4. getters"></a>6.2.4. getters</h3><ol>
<li>包含多个计算属性(get)的对象</li>
<li>谁来读取: 组件中: $store.getters.xxx<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   const getters = &#123;</span><br><span class="line">   mmm (state) &#123;</span><br><span class="line">   return ... 55</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-2-5-modules"><a href="#6-2-5-modules" class="headerlink" title="6.2.5. modules"></a>6.2.5. modules</h3><ol>
<li>包含多个 module</li>
<li>一个 module 是一个 store 的配置对象</li>
<li>与一个组件(包含有共享数据)对应</li>
</ol>
<h3 id="6-2-6-向外暴露-store-对象"><a href="#6-2-6-向外暴露-store-对象" class="headerlink" title="6.2.6. 向外暴露 store 对象"></a>6.2.6. 向外暴露 store 对象</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">state, mutations, actions, getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="6-2-7-组件中"><a href="#6-2-7-组件中" class="headerlink" title="6.2.7. 组件中"></a>6.2.7. 组件中</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123;mapState, mapGetters, mapActions&#125; from &#x27;vuex&#x27; export default &#123;</span><br><span class="line">computed: &#123;</span><br><span class="line">...mapState([&#x27;xxx&#x27;]), ...mapGetters([&#x27;mmm&#x27;]), &#125;</span><br><span class="line">methods: mapActions([&#x27;zzz&#x27;])</span><br><span class="line">&#125;</span><br><span class="line">&#123;&#123;xxx&#125;&#125; &#123;&#123;mmm&#125;&#125; @click=&quot;zzz(data)&quot; 6.2.8. 映射 store</span><br><span class="line">import store from &#x27;./store&#x27; new Vue(&#123;</span><br><span class="line">store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="6-2-9-store-对象"><a href="#6-2-9-store-对象" class="headerlink" title="6.2.9. store 对象"></a>6.2.9. store 对象</h3><ol>
<li><p>所有用 vuex 管理的组件中都多了一个属性$store, 它就是一个 store 对象</p>
</li>
<li><p>属性:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">state: 注册的 state 对象</span><br><span class="line">getters: 注册的 getters 对象</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatch(actionName, data): 分发调用 action</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="6-3-demo1-计数器"><a href="#6-3-demo1-计数器" class="headerlink" title="6.3. demo1: 计数器"></a>6.3. demo1: 计数器</h2><p>counter.gif</p>
<h3 id="6-3-1-store-js"><a href="#6-3-1-store-js" class="headerlink" title="6.3.1. store.js"></a>6.3.1. store.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">/\*\*</span><br><span class="line"></span><br><span class="line">- vuex 的 store 对象模块</span><br><span class="line">  _/</span><br><span class="line">  import Vue from &#x27;vue&#x27;</span><br><span class="line">  import Vuex from &#x27;vuex&#x27;</span><br><span class="line">  Vue.use(Vuex)</span><br><span class="line">  /_</span><br><span class="line">  state 对象</span><br><span class="line">  类似于 data</span><br><span class="line">  _/</span><br><span class="line">  const state = &#123;</span><br><span class="line">  count: 0 // 初始化状态数据</span><br><span class="line">  &#125;</span><br><span class="line">  /_</span><br><span class="line">  mutations 对象</span><br><span class="line"></span><br><span class="line">包含个方法: 能直接更新 state 一个方法就是一个 mutation</span><br><span class="line">mutation 只能包含更新 state 的同步代码, 也不会有逻辑</span><br><span class="line">mutation 由 action 触发调用: commit(&#x27;mutationName&#x27;)</span><br><span class="line">_/</span><br><span class="line">const mutations = &#123;</span><br><span class="line">INCREMENT(state) &#123;</span><br><span class="line">state.count++</span><br><span class="line">&#125;,</span><br><span class="line">DECREMENT (state) &#123; // ctrl + shift + x</span><br><span class="line">state.count--</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">/_</span><br><span class="line">actions 对象</span><br><span class="line">包含个方法: 触发 mutation 调用, 间接更新 state 一个方法就是一个 action</span><br><span class="line">action 中可以有逻辑代码和异步代码</span><br><span class="line">action 由组件来触发调用: this.$store.dispatch(&#x27;actionName&#x27;)</span><br><span class="line">\*/</span><br><span class="line">const actions = &#123;</span><br><span class="line">increment (&#123;commit&#125;) &#123;</span><br><span class="line">commit(&#x27;INCREMENT&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">decrement (&#123;commit&#125;) &#123;</span><br><span class="line">commit(&#x27;DECREMENT&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">incrementIfOdd (&#123;commit, state&#125;) &#123;</span><br><span class="line">if(state.count%2===1) &#123;</span><br><span class="line">commit(&#x27;INCREMENT&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">incrementAsync (&#123;commit&#125;) &#123;</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">commit(&#x27;INCREMENT&#x27;)</span><br><span class="line">&#125;, 1000)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/_</span><br><span class="line">getters 对象</span><br><span class="line">包含多个 get 计算计算属性方法</span><br><span class="line">_/</span><br><span class="line">const getters = &#123;</span><br><span class="line">oddOrEven (state) &#123;</span><br><span class="line">return state.count%2===0 ? &#x27;偶数&#x27; : &#x27;奇数&#x27;</span><br><span class="line">&#125;,</span><br><span class="line">count (state) &#123;</span><br><span class="line">return state.count</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">// 向外暴露 store 实例对象</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">state,</span><br><span class="line">mutations,</span><br><span class="line">actions,</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="6-3-2-main-js"><a href="#6-3-2-main-js" class="headerlink" title="6.3.2. main.js"></a>6.3.2. main.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import app from &#x27;./app1.vue&#x27;</span><br><span class="line">// import app from &#x27;./app.vue&#x27;</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#app&#x27;,</span><br><span class="line">render: h =&gt; h(app),</span><br><span class="line">store // 所有组件都多个一个属性: $store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="6-3-3-app-vue-未优化前"><a href="#6-3-3-app-vue-未优化前" class="headerlink" title="6.3.3. app.vue(未优化前)"></a>6.3.3. app.vue(未优化前)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;p&gt;clicked: &#123;&#123;$store.state.count&#125;&#125; times, count is &#123;&#123;oddOrEven&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementIfOdd&quot;&gt;increment if odd&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementAsync&quot;&gt;increment async&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">computed: &#123;</span><br><span class="line">oddOrEven () &#123;</span><br><span class="line">return this.$store.getters.oddOrEven</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">increment () &#123;</span><br><span class="line">this.$store.dispatch(&#x27;increment&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">decrement () &#123;</span><br><span class="line">this.$store.dispatch(&#x27;decrement&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">incrementIfOdd () &#123;</span><br><span class="line">this.$store.dispatch(&#x27;incrementIfOdd&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">incrementAsync () &#123;</span><br><span class="line">this.$store.dispatch(&#x27;incrementAsync&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-4-app2-vue-优化后"><a href="#6-3-4-app2-vue-优化后" class="headerlink" title="6.3.4. app2.vue(优化后)"></a>6.3.4. app2.vue(优化后)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;p&gt;clicked: &#123;&#123;count&#125;&#125; times, count is &#123;&#123;oddOrEven2&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementIfOdd&quot;&gt;increment if odd&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementAsync&quot;&gt;increment async&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapGetters, mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">computed: mapGetters(&#123; // 名称不一样</span><br><span class="line">oddOrEven2: &#x27;oddOrEven&#x27;,</span><br><span class="line">count: &#x27;count&#x27;</span><br><span class="line">&#125;),</span><br><span class="line">methods: mapActions([&#x27;increment&#x27;, &#x27;decrement&#x27;, &#x27;incrementIfOdd&#x27;,</span><br><span class="line">&#x27;incrementAsync&#x27;]) // 名称一样</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="6-4-demo2-todo-list"><a href="#6-4-demo2-todo-list" class="headerlink" title="6.4. demo2: todo list"></a>6.4. demo2: todo list</h2><p>todo list.gif</p>
<h3 id="6-3-1-store-x2F-types-js"><a href="#6-3-1-store-x2F-types-js" class="headerlink" title="6.3.1. store&#x2F;types.js"></a>6.3.1. store&#x2F;types.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* 包含多个 mutation name</span><br><span class="line">*/</span><br><span class="line">export const RECEIVE_TODOS = &#x27;receive_todos&#x27;</span><br><span class="line">export const ADD_TODO = &#x27;add_todo&#x27;</span><br><span class="line">export const REMOVE_TODO = &#x27;remove_todo&#x27;</span><br><span class="line">export const DELETE_DONE = &#x27;delete_done&#x27;</span><br><span class="line">export const UPDATE_ALL_TODOS = &#x27;update_all_todos&#x27; 6.3.2. store/mutations.js</span><br><span class="line">import &#123;RECEIVE_TODOS, ADD_TODO, REMOVE_TODO, DELETE_DONE, UPDATE_ALL_TODOS&#125; from</span><br><span class="line">&#x27;./types&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">[RECEIVE_TODOS] (state, &#123;todos&#125;) &#123;</span><br><span class="line">state.todos = todos</span><br><span class="line">&#125;,</span><br><span class="line">[ADD_TODO] (state, &#123;todo&#125;) &#123;</span><br><span class="line">state.todos.unshift(todo)</span><br><span class="line">&#125;,</span><br><span class="line">[REMOVE_TODO] (state, &#123;index&#125;) &#123;</span><br><span class="line">state.todos.splice(index, 1)</span><br><span class="line">&#125;,</span><br><span class="line">[DELETE_DONE] (state) &#123;</span><br><span class="line">state.todos = state.todos.filter(todo =&gt; !todo.complete)</span><br><span class="line">&#125;,</span><br><span class="line">[UPDATE_ALL_TODOS] (state, &#123;isCheck&#125;) &#123;</span><br><span class="line">state.todos.forEach(todo =&gt; todo.complete = isCheck)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-3-store-x2F-actions-js"><a href="#6-3-3-store-x2F-actions-js" class="headerlink" title="6.3.3. store&#x2F;actions.js"></a>6.3.3. store&#x2F;actions.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import storageUtil from &#x27;../util/storageUtil&#x27;</span><br><span class="line">import &#123;RECEIVE_TODOS, ADD_TODO, REMOVE_TODO, DELETE_DONE, UPDATE_ALL_TODOS&#125; from</span><br><span class="line">&#x27;./types&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">readTodo (&#123;commit&#125;) &#123;</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">const todos = storageUtil.fetch()</span><br><span class="line">// 提交 commit 触发 mutation 调用</span><br><span class="line">commit(RECEIVE_TODOS, &#123;todos&#125;)</span><br><span class="line">&#125;, 1000)</span><br><span class="line">&#125;,</span><br><span class="line">addTodo (&#123;commit&#125;, todo) &#123;</span><br><span class="line">commit(ADD_TODO, &#123;todo&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">removeTodo (&#123;commit&#125;, index) &#123;</span><br><span class="line">commit(REMOVE_TODO, &#123;index&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">deleteDone (&#123;commit&#125;) &#123;</span><br><span class="line">commit(DELETE_DONE)</span><br><span class="line">&#125;,</span><br><span class="line">updateAllTodos (&#123;commit&#125;, isCheck) &#123;</span><br><span class="line">commit(UPDATE_ALL_TODOS, &#123;isCheck&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-4-store-x2F-getters-js"><a href="#6-3-4-store-x2F-getters-js" class="headerlink" title="6.3.4. store&#x2F;getters.js"></a>6.3.4. store&#x2F;getters.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">todos (state) &#123;</span><br><span class="line">return state.todos</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">totalSize (state) &#123;</span><br><span class="line">return state.todos.length</span><br><span class="line">&#125;,</span><br><span class="line">completeSize (state) &#123;</span><br><span class="line">return state.todos.reduce((preTotal, todo) =&gt; &#123;</span><br><span class="line">return preTotal + (todo.complete ? 1 : 0)</span><br><span class="line">&#125;, 0)</span><br><span class="line">&#125;,</span><br><span class="line">isAllComplete (state, getters) &#123;</span><br><span class="line">return getters.totalSize===getters.completeSize &amp;&amp; getters.totalSize&gt;0</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-5-store-x2F-index-js"><a href="#6-3-5-store-x2F-index-js" class="headerlink" title="6.3.5. store&#x2F;index.js"></a>6.3.5. store&#x2F;index.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">import mutations from &#x27;./mutations&#x27;</span><br><span class="line">import actions from &#x27;./actions&#x27;</span><br><span class="line">import getters from &#x27;./getters&#x27;</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line">const state = &#123;</span><br><span class="line">todos: []</span><br><span class="line">&#125;</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">state,</span><br><span class="line">mutations,</span><br><span class="line">actions,</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="6-3-6-components-x2F-app-vue"><a href="#6-3-6-components-x2F-app-vue" class="headerlink" title="6.3.6. components&#x2F;app.vue"></a>6.3.6. components&#x2F;app.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">&lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">&lt;todo-header&gt;&lt;/todo-header&gt;</span><br><span class="line">&lt;todo-main&gt;&lt;/todo-main&gt;</span><br><span class="line">&lt;todo-footer&gt;&lt;/todo-footer&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import todoHeader from &#x27;./todoHeader.vue&#x27;</span><br><span class="line">import todoMain from &#x27;./todoMain.vue&#x27;</span><br><span class="line">import todoFooter from &#x27;./todoFooter.vue&#x27;</span><br><span class="line">import storageUtil from &#x27;../util/storageUtil&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">created () &#123;</span><br><span class="line">// 模拟异步读取数据</span><br><span class="line">this.$store.dispatch(&#x27;readTodo&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">components: &#123;</span><br><span class="line">todoHeader,</span><br><span class="line">todoMain,</span><br><span class="line">todoFooter</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.todo-container &#123;</span><br><span class="line">width: 600px;</span><br><span class="line">margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.todo-container .todo-wrap &#123;</span><br><span class="line">padding: 10px;</span><br><span class="line">border: 1px solid #ddd;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">border-radius: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-7-components-x2F-todoHeader-vue"><a href="#6-3-7-components-x2F-todoHeader-vue" class="headerlink" title="6.3.7. components&#x2F;todoHeader.vue"></a>6.3.7. components&#x2F;todoHeader.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot;</span><br><span class="line">v-model=&quot;title&quot; @keyup.enter=&quot;addItem&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script type=&quot;text/ecmascript-6&quot;&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data () &#123;</span><br><span class="line">return &#123;</span><br><span class="line">title: null</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">addItem () &#123;</span><br><span class="line">const title = this.title &amp;&amp; this.title.trim()</span><br><span class="line">if (title) &#123;</span><br><span class="line">const todo = &#123;</span><br><span class="line">title,</span><br><span class="line">complete: false</span><br><span class="line">&#125;</span><br><span class="line">this.$store.dispatch(&#x27;addTodo&#x27;, todo)</span><br><span class="line">this.title = null</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.todo-header input &#123;</span><br><span class="line">width: 560px;</span><br><span class="line">height: 28px;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">font-size: 14px;</span><br><span class="line">border: 1px solid #ccc;</span><br><span class="line">border-radius: 4px;</span><br><span class="line">padding: 4px 7px;</span><br><span class="line">&#125;</span><br><span class="line">.todo-header input:focus &#123;</span><br><span class="line">outline: none;</span><br><span class="line">border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-8-components-x2F-todoMain-vue"><a href="#6-3-8-components-x2F-todoMain-vue" class="headerlink" title="6.3.8. components&#x2F;todoMain.vue"></a>6.3.8. components&#x2F;todoMain.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">&lt;todo-item v-for=&quot;(todo, index) in</span><br><span class="line">todos&quot; :todo=&quot;todo&quot; :key=&quot;index&quot; :index=&quot;index&quot;&gt;&lt;/todo-item&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script type=&quot;text/ecmascript-6&quot;&gt;</span><br><span class="line">import todoItem from &#x27;./todoItem&#x27;</span><br><span class="line">import storageUtil from &#x27;../util/storageUtil&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">components: &#123;</span><br><span class="line">todoItem</span><br><span class="line">&#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">todos () &#123;</span><br><span class="line">return this.$store.getters.todos</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">todos: &#123;// 深度监视 todos, 一旦有变化立即保存</span><br><span class="line"></span><br><span class="line">handler: storageUtil.save,</span><br><span class="line">deep: true</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.todo-main &#123;</span><br><span class="line">margin-left: 0px;</span><br><span class="line">border: 1px solid #ddd;</span><br><span class="line">border-radius: 2px;</span><br><span class="line">padding: 0px;</span><br><span class="line">&#125;</span><br><span class="line">.todo-empty &#123;</span><br><span class="line">height: 40px;</span><br><span class="line">line-height: 40px;</span><br><span class="line">border: 1px solid #ddd;</span><br><span class="line">border-radius: 2px;</span><br><span class="line">padding-left: 5px;</span><br><span class="line">margin-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-9-components-x2F-todoItem-vue"><a href="#6-3-9-components-x2F-todoItem-vue" class="headerlink" title="6.3.9. components&#x2F;todoItem.vue"></a>6.3.9. components&#x2F;todoItem.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;li :style=&quot;&#123;background: libg&#125;&quot;</span><br><span class="line">@mouseenter=&quot;handleStyle(true)&quot; @mouseleave=&quot;handleStyle(false)&quot;&gt;</span><br><span class="line">&lt;label&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; v-model=&quot;todo.complete&quot;/&gt;</span><br><span class="line">&lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/label&gt;</span><br><span class="line">&lt;button class=&quot;btn btn-danger&quot; v-show=&quot;isShown&quot; @click=&quot;deleteItem&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script type=&quot;text/ecmascript-6&quot;&gt;</span><br><span class="line">export default &#123;</span><br><span class="line"></span><br><span class="line">props: [&#x27;todo&#x27;, &#x27;index&#x27;],</span><br><span class="line">data () &#123;</span><br><span class="line">return &#123;</span><br><span class="line">isShown: false,</span><br><span class="line">libg: &#x27;#fff&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">handleStyle (isEnter) &#123;</span><br><span class="line">if (isEnter) &#123;</span><br><span class="line">this.isShown = true</span><br><span class="line">this.libg = &#x27;#ddd&#x27;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">this.isShown = false</span><br><span class="line">this.libg = &#x27;#fff&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">deleteItem () &#123;</span><br><span class="line">const &#123;todo, deleteTodo, index&#125; = this</span><br><span class="line">if (window.confirm(`确定删除$&#123;todo.title&#125;的评论吗?`)) &#123;</span><br><span class="line">// deleteTodo(index)</span><br><span class="line">this.$store.dispatch(&#x27;removeTodo&#x27;, index)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">li &#123;</span><br><span class="line">list-style: none;</span><br><span class="line">height: 36px;</span><br><span class="line">line-height: 36px;</span><br><span class="line">padding: 0 5px;</span><br><span class="line">border-bottom: 1px solid #ddd;</span><br><span class="line">&#125;</span><br><span class="line">li label &#123;</span><br><span class="line">float: left;</span><br><span class="line">cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">li label li input &#123;</span><br><span class="line">vertical-align: middle;</span><br><span class="line">margin-right: 6px;</span><br><span class="line">position: relative;</span><br><span class="line">top: -1px;</span><br><span class="line">&#125;</span><br><span class="line">li button &#123;</span><br><span class="line">float: right;</span><br><span class="line">display: none;</span><br><span class="line">margin-top: 3px;</span><br><span class="line">&#125;</span><br><span class="line">li:before &#123;</span><br><span class="line">content: initial;</span><br><span class="line">&#125;</span><br><span class="line">li:last-child &#123;</span><br><span class="line">border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-10-components-x2F-todoFooter-vue"><a href="#6-3-10-components-x2F-todoFooter-vue" class="headerlink" title="6.3.10. components&#x2F;todoFooter.vue"></a>6.3.10. components&#x2F;todoFooter.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;todo-footer&quot;&gt;</span><br><span class="line">&lt;label&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; v-model=&quot;isAllDone&quot;/&gt;</span><br><span class="line">&lt;/label&gt;</span><br><span class="line">&lt;span&gt;</span><br><span class="line">&lt;span&gt;已完成&#123;&#123;completeSize&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;totalSize&#125;&#125;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&lt;button class=&quot;btn btn-danger&quot; @click=&quot;deleteDone&quot; v-show=&quot;completeSize&gt;0&quot;&gt;清除已</span><br><span class="line">完成任务&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapGetters, mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line"></span><br><span class="line">methods: mapActions([&#x27;deleteDone&#x27;]),</span><br><span class="line">computed: &#123;</span><br><span class="line">isAllDone: &#123;</span><br><span class="line">get () &#123;</span><br><span class="line">return this.$store.getters.isAllComplete</span><br><span class="line">&#125;,</span><br><span class="line">set (value) &#123;</span><br><span class="line">//this.$emit(&#x27;updateTodos&#x27;, value)</span><br><span class="line">this.$store.dispatch(&#x27;updateAllTodos&#x27;, value)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">...mapGetters([&#x27;completeSize&#x27;, &#x27;totalSize&#x27;])</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">/_</span><br><span class="line">const arr1 = [1, 3, 5]</span><br><span class="line">const arr2 = [4, ...arr1, 7]</span><br><span class="line">const obj = &#123;</span><br><span class="line">a: 1,</span><br><span class="line">b () &#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">const obj2 = &#123;</span><br><span class="line">c: 3,</span><br><span class="line">...obj</span><br><span class="line">&#125;_/</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.todo-footer &#123;</span><br><span class="line">height: 40px;</span><br><span class="line">line-height: 40px;</span><br><span class="line">padding-left: 6px;</span><br><span class="line">margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.todo-footer label &#123;</span><br><span class="line">display: inline-block;</span><br><span class="line">margin-right: 20px;</span><br><span class="line">71</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.todo-footer label input &#123;</span><br><span class="line">position: relative;</span><br><span class="line">top: -1px;</span><br><span class="line">vertical-align: middle;</span><br><span class="line">margin-right: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.todo-footer button &#123;</span><br><span class="line">float: right;</span><br><span class="line">margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>


<h3 id="6-3-11-util-x2F-storageUtil-js"><a href="#6-3-11-util-x2F-storageUtil-js" class="headerlink" title="6.3.11. util&#x2F;storageUtil.js"></a>6.3.11. util&#x2F;storageUtil.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">var STORAGE_KEY = &#x27;todos&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">fetch () &#123;</span><br><span class="line">return JSON.parse(localStorage.getItem(STORAGE_KEY) || &#x27;[]&#x27;)</span><br><span class="line">&#125;,</span><br><span class="line">save (todos) &#123;</span><br><span class="line">localStorage.setItem(STORAGE_KEY, JSON.stringify(todos))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">6.3.12. base.css</span><br><span class="line">body &#123;</span><br><span class="line">background: #fff;</span><br><span class="line">&#125;</span><br><span class="line">.btn &#123;</span><br><span class="line">display: inline-block;</span><br><span class="line">padding: 4px 12px;</span><br><span class="line">margin-bottom: 0;</span><br><span class="line">font-size: 14px;</span><br><span class="line">line-height: 20px;</span><br><span class="line">text-align: center;</span><br><span class="line">vertical-align: middle;</span><br><span class="line">cursor: pointer;</span><br><span class="line">box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line">.btn-danger &#123;</span><br><span class="line">color: #fff;</span><br><span class="line">background-color: #da4f49;</span><br><span class="line">border: 1px solid #bd362f;</span><br><span class="line">&#125;</span><br><span class="line">.btn-danger:hover &#123;</span><br><span class="line">color: #fff;</span><br><span class="line">background-color: #bd362f;</span><br><span class="line">&#125;</span><br><span class="line">.btn:focus &#123;</span><br><span class="line">outline: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-3-13-main-js"><a href="#6-3-13-main-js" class="headerlink" title="6.3.13. main.js"></a>6.3.13. main.js</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./components/app&#x27;</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">import &#x27;./base.css&#x27;</span><br><span class="line">/_ eslint-disable no-new _/</span><br><span class="line">new Vue(&#123;</span><br><span class="line">el: &#x27;#app&#x27;,</span><br><span class="line">render: h =&gt; h(App),</span><br><span class="line">store</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="6-5-vuex-结构分析"><a href="#6-5-vuex-结构分析" class="headerlink" title="6.5. vuex 结构分析"></a>6.5. vuex 结构分析</h2><h1 id="第-7-章：vue-源码分析"><a href="#第-7-章：vue-源码分析" class="headerlink" title="第 7 章：vue 源码分析"></a>第 7 章：vue 源码分析</h1><h2 id="7-1-说明"><a href="#7-1-说明" class="headerlink" title="7.1. 说明"></a>7.1. 说明</h2><ol>
<li>分析 vue 作为一个 MVVM 框架的基本实现原理<br>数据代理<br>模板解析<br>数据绑定</li>
<li>不直接看 vue.js 的源码</li>
<li>剖析 github 上某基友仿 vue 实现的 mvvm 库</li>
<li>地址: <a target="_blank" rel="noopener" href="https://github.com/DMQ/mvvm">https://github.com/DMQ/mvvm</a></li>
</ol>
<h2 id="7-2-准备知识"><a href="#7-2-准备知识" class="headerlink" title="7.2. 准备知识"></a>7.2. 准备知识</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1. [].slice.call(lis): 将伪数组转换为真数组</span><br><span class="line">2. node.nodeType: 得到节点类型</span><br><span class="line">3. Object.defineProperty(obj, propName, &#123;&#125;): 给对象添加/修改属性(指定描述符)</span><br><span class="line">   configurable: true/false 是否可以重新 define</span><br><span class="line">   enumerable: true/false 是否可以枚举(for..in / keys())</span><br><span class="line">   value: 指定初始值</span><br><span class="line">   writable: true/false value 是否可以修改</span><br><span class="line">   get: 回调函数, 用来得到当前属性值</span><br><span class="line">   set: 回调函数, 用来监视当前属性值的变化</span><br><span class="line">4. Object.keys(obj): 得到对象自身可枚举的属性名的数组</span><br><span class="line">5. DocumentFragment: 文档碎片(高效批量更新多个节点)</span><br><span class="line">6. obj.hasOwnProperty(prop): 判断 prop 是否是 obj 自身的属性</span><br></pre></td></tr></table></figure>
<h2 id="7-3-数据代理"><a href="#7-3-数据代理" class="headerlink" title="7.3. 数据代理"></a>7.3. 数据代理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. 数据代理: 通过一个对象代理对另一个对象(在前一个对象内部)中属性的操作(读/写)</span><br><span class="line">2. vue 数据代理: 通过 vm 对象来代理 data 对象中所有属性的操作</span><br><span class="line">3. 好处: 更方便的操作 data 中的数据</span><br><span class="line">4. 基本实现流程</span><br><span class="line">   a. 通过 Object.defineProperty()给 vm 添加与 data 对象的属性对应的属性描述符</span><br><span class="line">   b. 所有添加的属性都包含 getter/setter</span><br><span class="line">   c. getter/setter 内部去操作 data 中对应的属性数据</span><br></pre></td></tr></table></figure>
<h2 id="7-4-模板解析"><a href="#7-4-模板解析" class="headerlink" title="7.4. 模板解析"></a>7.4. 模板解析</h2><h3 id="7-4-1-模板解析的基本流程"><a href="#7-4-1-模板解析的基本流程" class="headerlink" title="7.4.1. 模板解析的基本流程"></a>7.4.1. 模板解析的基本流程</h3><ol>
<li>将 el 的所有子节点取出, 添加到一个新建的文档 fragment 对象中</li>
<li>对 fragment 中的所有层次子节点递归进行编译解析处理<ul>
<li>对大括号表达式文本节点进行解析</li>
<li>对元素节点的指令属性进行解析</li>
<li>事件指令解析</li>
<li>一般指令解析</li>
</ul>
</li>
<li>将解析后的 fragment 添加到 el 中显示</li>
</ol>
<h3 id="7-4-2-模板解析-1-大括号表达式解析"><a href="#7-4-2-模板解析-1-大括号表达式解析" class="headerlink" title="7.4.2. 模板解析(1): 大括号表达式解析"></a>7.4.2. 模板解析(1): 大括号表达式解析</h3><ol>
<li>根据正则对象得到匹配出的表达式字符串: 子匹配&#x2F;RegExp.$1 name</li>
<li>从 data 中取出表达式对应的属性值</li>
<li>将属性值设置为文本节点的 textContent</li>
</ol>
<h3 id="7-4-3-模板解析-2-事件指令解析"><a href="#7-4-3-模板解析-2-事件指令解析" class="headerlink" title="7.4.3. 模板解析(2): 事件指令解析"></a>7.4.3. 模板解析(2): 事件指令解析</h3><ol>
<li>从指令名中取出事件名</li>
<li>根据指令的值(表达式)从 methods 中得到对应的事件处理函数对象</li>
<li>给当前元素节点绑定指定事件名和回调函数的 dom 事件监听</li>
<li>指令解析完后, 移除此指令属性</li>
</ol>
<h3 id="7-4-4-模板解析-3-一般指令解析"><a href="#7-4-4-模板解析-3-一般指令解析" class="headerlink" title="7.4.4. 模板解析(3): 一般指令解析"></a>7.4.4. 模板解析(3): 一般指令解析</h3><ol>
<li><p>得到指令名和指令值(表达式) text&#x2F;html&#x2F;class msg&#x2F;myClass</p>
</li>
<li><p>从 data 中根据表达式得到对应的值</p>
</li>
<li><p>根据指令名确定需要操作元素节点的什么属性</p>
<ul>
<li>v-text—textContent 属性</li>
<li>v-html—innerHTML 属性</li>
<li>v-class–className 属性</li>
</ul>
</li>
<li><p>将得到的表达式的值设置到对应的属性上</p>
</li>
<li><p>移除元素的指令属性</p>
</li>
</ol>
<h2 id="7-5-数据绑定"><a href="#7-5-数据绑定" class="headerlink" title="7.5. 数据绑定"></a>7.5. 数据绑定</h2><h3 id="7-5-1-数据绑定"><a href="#7-5-1-数据绑定" class="headerlink" title="7.5.1. 数据绑定"></a>7.5.1. 数据绑定</h3><p>一旦更新了 data 中的某个属性数据, 所有界面上直接使用或间接使用了此属性的节点都会<br>更新</p>
<h3 id="7-5-2-数据劫持"><a href="#7-5-2-数据劫持" class="headerlink" title="7.5.2. 数据劫持"></a>7.5.2. 数据劫持</h3><ol>
<li>数据劫持是 vue 中用来实现数据绑定的一种技术</li>
<li>基本思想: 通过 defineProperty()来监视 data 中所有属性(任意层次)数据的变化, 一旦变<br>化就去更新界面</li>
</ol>
<h3 id="7-5-3-四个重要对象"><a href="#7-5-3-四个重要对象" class="headerlink" title="7.5.3. 四个重要对象"></a>7.5.3. 四个重要对象</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">1. Observer</span><br><span class="line">   a. 用来对 data 所有属性数据进行劫持的构造函数</span><br><span class="line">   b. 给 data 中所有属性重新定义属性描述(get/set)</span><br><span class="line">   c. 为 data 中的每个属性创建对应的 dep 对象</span><br><span class="line">2. Dep(Depend)</span><br><span class="line">   a. data 中的每个属性(所有层次)都对应一个 dep 对象</span><br><span class="line">   b. 创建的时机: \* 在初始化 define data 中各个属性时创建对应的 dep 对象</span><br><span class="line"></span><br><span class="line">- 在 data 中的某个属性值被设置为新的对象时</span><br><span class="line">  c. 对象的结构</span><br><span class="line">  &#123;</span><br><span class="line">  id, // 每个 dep 都有一个唯一的 id</span><br><span class="line">  subs //包含 n 个对应 watcher 的数组(subscribes 的简写)</span><br><span class="line">  &#125;</span><br><span class="line">  d. subs 属性说明</span><br><span class="line">- 当 watcher 被创建时, 内部将当前 watcher 对象添加到对应的 dep 对象的 subs 中</span><br><span class="line">- 当此 data 属性的值发生改变时, subs 中所有的 watcher 都会收到更新的通知, 77</span><br><span class="line"></span><br><span class="line">从而最终更新对应的界面 3) Compiler</span><br><span class="line">a. 用来解析模板页面的对象的构造函数(一个实例)</span><br><span class="line">b. 利用 compile 对象解析模板页面</span><br><span class="line">c. 每解析一个表达式(非事件指令)都会创建一个对应的 watcher 对象, 并建立 watcher</span><br><span class="line">与 dep 的关系</span><br><span class="line">d. complie 与 watcher 关系: 一对多的关系 4) Watcher</span><br><span class="line">a. 模板中每个非事件指令或表达式都对应一个 watcher 对象</span><br><span class="line">b. 监视当前表达式数据的变化</span><br><span class="line">c. 创建的时机: 在初始化编译模板时</span><br><span class="line">d. 对象的组成</span><br><span class="line">&#123;</span><br><span class="line">vm, //vm 对象</span><br><span class="line">exp, //对应指令的表达式</span><br><span class="line">cb, //当表达式所对应的数据发生改变的回调函数</span><br><span class="line">value, //表达式当前的值</span><br><span class="line">depIds //表达式中各级属性所对应的 dep 对象的集合对象</span><br><span class="line">//属性名为 dep 的 id, 属性值为 dep</span><br><span class="line">&#125; 5) 总结: dep 与 watcher 的关系: 多对多</span><br><span class="line">a. data 中的一个属性对应一个 dep, 一个 dep 中可能包含多个 watcher(模板中有几个</span><br><span class="line">表达式使用到了同一个属性)</span><br><span class="line">b. 模板中一个非事件表达式对应一个 watcher, 一个 watcher 中可能包含多个 dep(表</span><br><span class="line">达式是多层: a.b)</span><br><span class="line">c. 数据绑定使用到 2 个核心技术</span><br><span class="line"></span><br><span class="line">- defineProperty() \* 消息订阅与发布</span><br></pre></td></tr></table></figure>

<h2 id="7-6-MVVM-原理图分析"><a href="#7-6-MVVM-原理图分析" class="headerlink" title="7.6. MVVM 原理图分析"></a>7.6. MVVM 原理图分析</h2><h2 id="7-7-双向数据绑定"><a href="#7-7-双向数据绑定" class="headerlink" title="7.7. 双向数据绑定"></a>7.7. 双向数据绑定</h2><ol>
<li>双向数据绑定是建立在单向数据绑定(model&#x3D;&#x3D;&gt;View)的基础之上的</li>
<li>双向数据绑定的实现流程:</li>
</ol>
<p>a. 在解析 v-model 指令时, 给当前元素添加 input 监听</p>
<p>b. 当 input 的 value 发生改变时, 将最新的值赋值给当前表达式所对应的 data 属性</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://magesfc.github.io">mage</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://magesfc.github.io/mage/f9fb8533b7fcbaa282e1c4322261c95286f87d4b/">https://magesfc.github.io/mage/f9fb8533b7fcbaa282e1c4322261c95286f87d4b/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://magesfc.github.io" target="_blank">马哥私房菜</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a></div><div class="post_share"><div class="social-share" data-image="https://t.mwm.moe/fj/" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/null" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/null" alt="支付寶"/></a><div class="post-qr-code-desc">支付寶</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/mage/2d5c5d82bc33c8e88204b161e739922fe5f7bf8d/"><img class="prev-cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Ubuntu学习笔记之timesyncd</div></div></a></div><div class="next-post pull-right"><a href="/mage/a8b9a8894f2d128c64404106a905e53fa92e280a/"><img class="next-cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Nexus学习之调整HTML视图下面排序</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/mage/f1e4e4b41f8fbafa557508d6029c45133d82a0dc/" title="Vue学习之filter过滤器详解"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-02</div><div class="title">Vue学习之filter过滤器详解</div></div></a></div><div><a href="/mage/3ac3051dc95dc121fd8548163900fe43bd7bfa27/" title="Vue学习之map文件讲解"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-29</div><div class="title">Vue学习之map文件讲解</div></div></a></div><div><a href="/mage/0ccda5094ba02cf491f9788920b7c9ae98740abb/" title="Vue学习之mixin混入详解"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-30</div><div class="title">Vue学习之mixin混入详解</div></div></a></div><div><a href="/mage/fb24c5089ea0ae1d6ec748c2a1bd380b4b278cba/" title="Vue学习之v-model指令详解"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-02</div><div class="title">Vue学习之v-model指令详解</div></div></a></div><div><a href="/mage/fcf51869c12a4429c17398531baeb382770504d5/" title="Vue学习之slot插槽详解"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-30</div><div class="title">Vue学习之slot插槽详解</div></div></a></div><div><a href="/mage/c183fbc3acc2afdfcc60afc6564df11c92732f68/" title="Vue学习之vue2和vue3实例的差异"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-05</div><div class="title">Vue学习之vue2和vue3实例的差异</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">mage</div><div class="author-info__description"> 这里是 马哥 的个人博客 </div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">213</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">230</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">40</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/mamh2021"><i class="fab fa-github"></i><span>GitHub</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/mamh2021" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-1-%E7%AB%A0%EF%BC%9AVue-%E6%A0%B8%E5%BF%83"><span class="toc-number">1.</span> <span class="toc-text">第 1 章：Vue 核心</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Vue-%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86"><span class="toc-number">1.1.</span> <span class="toc-text">1.1. Vue 的基本认识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-%E5%AE%98%E7%BD%91"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1. 官网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-%E4%BB%8B%E7%BB%8D%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2. 介绍描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-Vue-%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.1.3. Vue 的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-4-%E4%B8%8E%E5%85%B6%E5%AE%83%E5%89%8D%E7%AB%AF-JS-%E6%A1%86%E6%9E%B6%E7%9A%84%E5%85%B3%E8%81%94"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.1.4. 与其它前端 JS 框架的关联</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-5-Vue-%E6%89%A9%E5%B1%95%E6%8F%92%E4%BB%B6"><span class="toc-number">1.1.5.</span> <span class="toc-text">1.1.5. Vue 扩展插件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Vue-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">1.2. Vue 的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-%E6%95%88%E6%9E%9C-01-HelloWorld-x2F-test-html"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1. 效果 (01_HelloWorld&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-%E7%BC%96%E7%A0%81"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.2. 编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-%E4%BD%BF%E7%94%A8-vue-%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E8%B0%83%E8%AF%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.2.3. 使用 vue 开发者工具调试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-%E7%90%86%E8%A7%A3-Vue-%E7%9A%84-MVVM"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.2.4. 理解 Vue 的 MVVM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">1.3. 模板语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-1-%E6%95%88%E6%9E%9C-02-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95-x2F-test-html"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1. 效果 (02_模板语法&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-2-%E6%A8%A1%E6%9D%BF%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2. 模板的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-3-%E5%8F%8C%E5%A4%A7%E6%8B%AC%E5%8F%B7%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3. 双大括号表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-4-%E6%8C%87%E4%BB%A4%E4%B8%80-%E5%BC%BA%E5%88%B6%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4. 指令一: 强制数据绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-5-%E6%8C%87%E4%BB%A4%E4%BA%8C-%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5. 指令二: 绑定事件监听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-6-%E7%BC%96%E7%A0%81"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.3.6. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8C%E7%9B%91%E8%A7%86"><span class="toc-number">1.4.</span> <span class="toc-text">1.4. 计算属性和监视</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-1-%E6%95%88%E6%9E%9C-03-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8C%E7%9B%91%E8%A7%86-x2F-test-html"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4.1. 效果 (03_计算属性和监视&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-2-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.4.2. 计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-3-%E7%9B%91%E8%A7%86%E5%B1%9E%E6%80%A7"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.4.3. 监视属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-4-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E9%AB%98%E7%BA%A7"><span class="toc-number">1.4.4.</span> <span class="toc-text">1.4.4. 计算属性高级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-5-%E7%BC%96%E7%A0%81"><span class="toc-number">1.4.5.</span> <span class="toc-text">1.4.5. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-class-%E4%B8%8E-style-%E7%BB%91%E5%AE%9A"><span class="toc-number">1.5.</span> <span class="toc-text">1.5. class 与 style 绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-1-%E6%95%88%E6%9E%9C-04-class-%E4%B8%8E-style-%E7%BB%91%E5%AE%9A-x2F-test-html"><span class="toc-number">1.5.1.</span> <span class="toc-text">1.5.1. 效果 (04_class 与 style 绑定&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-2-%E7%90%86%E8%A7%A3"><span class="toc-number">1.5.2.</span> <span class="toc-text">1.5.2. 理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-3-class-%E7%BB%91%E5%AE%9A"><span class="toc-number">1.5.3.</span> <span class="toc-text">1.5.3. class 绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-4-style-%E7%BB%91%E5%AE%9A"><span class="toc-number">1.5.4.</span> <span class="toc-text">1.5.4. style 绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-5-%E7%BC%96%E7%A0%81"><span class="toc-number">1.5.5.</span> <span class="toc-text">1.5.5. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">1.6.</span> <span class="toc-text">1.6. 条件渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-1-%E6%95%88%E6%9E%9C-05-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93-x2F-test-html"><span class="toc-number">1.6.1.</span> <span class="toc-text">1.6.1. 效果 (05_条件渲染&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-2-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93%E6%8C%87%E4%BB%A4"><span class="toc-number">1.6.2.</span> <span class="toc-text">1.6.2. 条件渲染指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-3-%E6%AF%94%E8%BE%83-v-if-%E4%B8%8E-v-show"><span class="toc-number">1.6.3.</span> <span class="toc-text">1.6.3. 比较 v-if 与 v-show</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-4-%E7%BC%96%E7%A0%81"><span class="toc-number">1.6.4.</span> <span class="toc-text">1.6.4. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">1.7.</span> <span class="toc-text">1.7. 列表渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-1-%E6%95%88%E6%9E%9C-06-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93-x2F-test-html"><span class="toc-number">1.7.1.</span> <span class="toc-text">1.7.1. 效果 (06_列表渲染&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-2-%E7%BC%96%E7%A0%81-1"><span class="toc-number">1.7.2.</span> <span class="toc-text">1.7.2. 编码 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-3-%E7%BC%96%E7%A0%81-2"><span class="toc-number">1.7.3.</span> <span class="toc-text">1.7.3. 编码 2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">1.8.</span> <span class="toc-text">1.8. 事件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-1-%E6%95%88%E6%9E%9C-07-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86-x2F-test-html"><span class="toc-number">1.8.1.</span> <span class="toc-text">1.8.1. 效果 (07_事件处理&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-2-%E7%BB%91%E5%AE%9A%E7%9B%91%E5%90%AC"><span class="toc-number">1.8.2.</span> <span class="toc-text">1.8.2. 绑定监听:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-3-%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.8.3.</span> <span class="toc-text">1.8.3. 事件修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-4-%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.8.4.</span> <span class="toc-text">1.8.4. 按键修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-5-%E7%BC%96%E7%A0%81"><span class="toc-number">1.8.5.</span> <span class="toc-text">1.8.5. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9-%E8%A1%A8%E5%8D%95%E8%BE%93%E5%85%A5%E7%BB%91%E5%AE%9A"><span class="toc-number">1.9.</span> <span class="toc-text">1.9. 表单输入绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-1-%E6%95%88%E6%9E%9C-08-%E8%A1%A8%E5%8D%95%E8%BE%93%E5%85%A5%E7%BB%91%E5%AE%9A-x2F-test-html"><span class="toc-number">1.9.1.</span> <span class="toc-text">1.9.1. 效果 (08_表单输入绑定&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-2-%E4%BD%BF%E7%94%A8-v-model-%E5%AF%B9%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E8%87%AA%E5%8A%A8%E6%94%B6%E9%9B%86"><span class="toc-number">1.9.2.</span> <span class="toc-text">1.9.2. 使用 v-model 对表单数据自动收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-3-%E7%BC%96%E7%A0%81"><span class="toc-number">1.9.3.</span> <span class="toc-text">1.9.3. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10-Vue-%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.10.</span> <span class="toc-text">1.10. Vue 实例生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-1-%E6%95%88%E6%9E%9C-09Vue-%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-x2F-test-html"><span class="toc-number">1.10.1.</span> <span class="toc-text">1.10.1. 效果 (09Vue 实例生命周期&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-2-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">1.10.2.</span> <span class="toc-text">1.10.2. 生命周期流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-3-vue-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%88%86%E6%9E%90"><span class="toc-number">1.10.3.</span> <span class="toc-text">1.10.3. vue 生命周期分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-4-%E5%B8%B8%E7%94%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95"><span class="toc-number">1.10.4.</span> <span class="toc-text">1.10.4. 常用的生命周期方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-5-%E7%BC%96%E7%A0%81"><span class="toc-number">1.10.5.</span> <span class="toc-text">1.10.5. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-11-%E8%BF%87%E6%B8%A1-amp-%E5%8A%A8%E7%94%BB"><span class="toc-number">1.11.</span> <span class="toc-text">1.11. 过渡&amp;动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-11-1-%E6%95%88%E6%9E%9C-10-%E8%BF%87%E6%B8%A1-amp-%E5%8A%A8%E7%94%BB-x2F-test-html"><span class="toc-number">1.11.1.</span> <span class="toc-text">1.11.1. 效果 (10_过渡&amp;动画&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-11-2-vue-%E5%8A%A8%E7%94%BB%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.11.2.</span> <span class="toc-text">1.11.2. vue 动画的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-11-3-%E5%9F%BA%E6%9C%AC%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB%E7%9A%84%E7%BC%96%E7%A0%81"><span class="toc-number">1.11.3.</span> <span class="toc-text">1.11.3. 基本过渡动画的编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-11-4-%E7%BC%96%E7%A0%81-1"><span class="toc-number">1.11.4.</span> <span class="toc-text">1.11.4. 编码 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-11-5-%E7%BC%96%E7%A0%81-2"><span class="toc-number">1.11.5.</span> <span class="toc-text">1.11.5. 编码 2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-12-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.12.</span> <span class="toc-text">1.12. 过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-12-1-%E6%95%88%E6%9E%9C-11-%E8%BF%87%E6%BB%A4%E5%99%A8-x2F-test-html"><span class="toc-number">1.12.1.</span> <span class="toc-text">1.12.1. 效果 (11_过滤器&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-12-2-%E7%90%86%E8%A7%A3%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.12.2.</span> <span class="toc-text">1.12.2. 理解过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-12-3-%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.12.3.</span> <span class="toc-text">1.12.3. 定义和使用过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-12-4-%E7%BC%96%E7%A0%81"><span class="toc-number">1.12.4.</span> <span class="toc-text">1.12.4. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-13-%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4%E4%B8%8E%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">1.13.</span> <span class="toc-text">1.13. 内置指令与自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-13-1-%E6%95%88%E6%9E%9C-12-%E6%8C%87%E4%BB%A4-x2F-test-html"><span class="toc-number">1.13.1.</span> <span class="toc-text">1.13.1. 效果 (12_指令&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-13-2-%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4"><span class="toc-number">1.13.2.</span> <span class="toc-text">1.13.2. 常用内置指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-13-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">1.13.3.</span> <span class="toc-text">1.13.3. 自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-13-5-%E7%BC%96%E7%A0%81-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">1.13.4.</span> <span class="toc-text">1.13.5. 编码 2(自定义指令)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-14-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6"><span class="toc-number">1.14.</span> <span class="toc-text">1.14. 自定义插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-14-1-%E6%95%88%E6%9E%9C-13-%E6%8F%92%E4%BB%B6-x2F-test-html"><span class="toc-number">1.14.1.</span> <span class="toc-text">1.14.1. 效果 (13_插件&#x2F;test.html)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-14-2-%E8%AF%B4%E6%98%8E"><span class="toc-number">1.14.2.</span> <span class="toc-text">1.14.2. 说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-14-3-%E7%BC%96%E7%A0%81"><span class="toc-number">1.14.3.</span> <span class="toc-text">1.14.3. 编码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-2-%E7%AB%A0%EF%BC%9Avue-%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A0%81"><span class="toc-number">2.</span> <span class="toc-text">第 2 章：vue 组件化编码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E4%BD%BF%E7%94%A8-vue-cli-%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.1.</span> <span class="toc-text">2.1. 使用 vue-cli 创建模板项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E8%AF%B4%E6%98%8E"><span class="toc-number">2.1.1.</span> <span class="toc-text">2.1.1. 说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E5%88%9B%E5%BB%BA-vue-%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.1.2. 创建 vue 项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-%E6%A8%A1%E6%9D%BF%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">2.1.3.</span> <span class="toc-text">2.1.3. 模板项目的结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-4-%E6%95%88%E6%9E%9C"><span class="toc-number">2.1.4.</span> <span class="toc-text">2.1.4. 效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%89%93%E5%8C%85%E4%B8%8E%E5%8F%91%E5%B8%83"><span class="toc-number">2.2.</span> <span class="toc-text">2.2. 项目的打包与发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E6%89%93%E5%8C%85"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.2.1. 打包:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-%E5%8F%91%E5%B8%83-1-%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.2.2. 发布 1: 使用静态服务器工具包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E5%8F%91%E5%B8%83-2-%E4%BD%BF%E7%94%A8%E5%8A%A8%E6%80%81-web-%E6%9C%8D%E5%8A%A1%E5%99%A8-tomcat"><span class="toc-number">2.2.3.</span> <span class="toc-text">2.2.3. 发布 2: 使用动态 web 服务器(tomcat)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-eslint"><span class="toc-number">2.3.</span> <span class="toc-text">2.3. eslint</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E8%AF%B4%E6%98%8E"><span class="toc-number">2.3.1.</span> <span class="toc-text">2.3.1. 说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-ESLint-%E6%8F%90%E4%BE%9B%E4%BB%A5%E4%B8%8B%E6%94%AF%E6%8C%81"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.3.2. ESLint 提供以下支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-ESLint-%E6%8F%90%E4%BE%9B%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E6%A0%A1%E9%AA%8C"><span class="toc-number">2.3.3.</span> <span class="toc-text">2.3.3. ESLint 提供以下几种校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-%E8%A7%84%E5%88%99%E7%9A%84%E9%94%99%E8%AF%AF%E7%AD%89%E7%BA%A7%E6%9C%89%E4%B8%89%E7%A7%8D"><span class="toc-number">2.3.4.</span> <span class="toc-text">2.3.4. 规则的错误等级有三种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-5-%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.3.5.</span> <span class="toc-text">2.3.5. 相关配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E7%BB%84%E4%BB%B6%E5%AE%9A%E4%B9%89%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">2.4.</span> <span class="toc-text">2.4. 组件定义与使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-vue-%E6%96%87%E4%BB%B6%E7%9A%84%E7%BB%84%E6%88%90-3-%E4%B8%AA%E9%83%A8%E5%88%86"><span class="toc-number">2.4.1.</span> <span class="toc-text">2.4.1. vue 文件的组成(3 个部分)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.4.2.</span> <span class="toc-text">2.4.2. 基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-%E5%85%B3%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%90%8D%E4%B8%8E%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7%E5%90%8D%E4%B9%A6%E5%86%99%E9%97%AE%E9%A2%98"><span class="toc-number">2.4.3.</span> <span class="toc-text">2.4.3. 关于标签名与标签属性名书写问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1"><span class="toc-number">2.5.</span> <span class="toc-text">2.5. 组件间通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99"><span class="toc-number">2.5.1.</span> <span class="toc-text">2.5.1. 组件间通信基本原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-vue-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">2.5.2.</span> <span class="toc-text">2.5.2. vue 组件间通信方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1-1-props"><span class="toc-number">2.6.</span> <span class="toc-text">2.6. 组件间通信 1: props</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1-%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6%E6%A0%87%E7%AD%BE%E6%97%B6"><span class="toc-number">2.6.1.</span> <span class="toc-text">2.6.1. 使用组件标签时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-%E5%AE%9A%E4%B9%89-MyComponent-%E6%97%B6"><span class="toc-number">2.6.2.</span> <span class="toc-text">2.6.2. 定义 MyComponent 时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-3-%E6%B3%A8%E6%84%8F"><span class="toc-number">2.6.3.</span> <span class="toc-text">2.6.3. 注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1-2-vue-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.7.</span> <span class="toc-text">2.7. 组件间通信 2: vue 自定义事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-1-%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-number">2.7.1.</span> <span class="toc-text">2.7.1. 绑定事件监听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-2-%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.7.2.</span> <span class="toc-text">2.7.2. 触发事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-3-%E6%B3%A8%E6%84%8F"><span class="toc-number">2.7.3.</span> <span class="toc-text">2.7.3. 注意:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1-3-%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83-PubSubJS-%E5%BA%93"><span class="toc-number">2.8.</span> <span class="toc-text">2.8. 组件间通信 3: 消息订阅与发布(PubSubJS 库)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-1-%E8%AE%A2%E9%98%85%E6%B6%88%E6%81%AF"><span class="toc-number">2.8.1.</span> <span class="toc-text">2.8.1. 订阅消息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-2-%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF"><span class="toc-number">2.8.2.</span> <span class="toc-text">2.8.2. 发布消息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-3-%E6%B3%A8%E6%84%8F"><span class="toc-number">2.8.3.</span> <span class="toc-text">2.8.3. 注意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-4-%E4%BA%8B%E4%BB%B6%E7%9A%84-2-%E4%B8%AA%E9%87%8D%E8%A6%81%E6%93%8D%E4%BD%9C-%E6%80%BB%E7%BB%93"><span class="toc-number">2.8.4.</span> <span class="toc-text">2.8.4. 事件的 2 个重要操作(总结)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-9-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1-4-slot"><span class="toc-number">2.9.</span> <span class="toc-text">2.9. 组件间通信 4: slot</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-1-%E7%90%86%E8%A7%A3"><span class="toc-number">2.9.1.</span> <span class="toc-text">2.9.1. 理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-3-%E7%88%B6%E7%BB%84%E4%BB%B6-Parent-vue"><span class="toc-number">2.9.2.</span> <span class="toc-text">2.9.3. 父组件: Parent.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-10-demo1-comment-manage"><span class="toc-number">2.10.</span> <span class="toc-text">2.10. demo1: comment manage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-11-demo2-todo-list"><span class="toc-number">2.11.</span> <span class="toc-text">2.11. demo2: todo list</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-3-%E7%AB%A0%EF%BC%9Avue-ajax"><span class="toc-number">3.</span> <span class="toc-text">第 3 章：vue-ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-vue-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84-2-%E4%B8%AA-ajax-%E5%BA%93"><span class="toc-number">3.1.</span> <span class="toc-text">3.1. vue 项目中常用的 2 个 ajax 库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-vue-resource"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1. vue-resource</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-axios"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2. axios</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-vue-resource-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">3.2. vue-resource 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-%E5%9C%A8%E7%BA%BF%E6%96%87%E6%A1%A3"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1. 在线文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-%E4%B8%8B%E8%BD%BD"><span class="toc-number">3.2.2.</span> <span class="toc-text">3.2.2. 下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-3-%E7%BC%96%E7%A0%81"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.2.3. 编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-axios-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.3.</span> <span class="toc-text">3.3. axios 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-%E6%95%88%E6%9E%9C"><span class="toc-number">3.3.1.</span> <span class="toc-text">3.3.1. 效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%9C%A8%E7%BA%BF%E6%96%87%E6%A1%A3"><span class="toc-number">3.4.</span> <span class="toc-text">3.2. 在线文档</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E4%B8%8B%E8%BD%BD"><span class="toc-number">3.4.1.</span> <span class="toc-text">3.3. 下载:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E7%BC%96%E7%A0%81"><span class="toc-number">3.5.</span> <span class="toc-text">3.4. 编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E6%B5%8B%E8%AF%95%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.6.</span> <span class="toc-text">3.4. 测试接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-demo3-github-users"><span class="toc-number">3.7.</span> <span class="toc-text">3.5. demo3: github users</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-4-%E7%AB%A0%EF%BC%9Avue-UI-%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">4.</span> <span class="toc-text">第 4 章：vue UI 组件库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E5%B8%B8%E7%94%A8"><span class="toc-number">4.1.</span> <span class="toc-text">4.1. 常用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E4%BD%BF%E7%94%A8-Mint-UI"><span class="toc-number">4.2.</span> <span class="toc-text">4.2. 使用 Mint UI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E4%B8%8B%E8%BD%BD"><span class="toc-number">4.2.1.</span> <span class="toc-text">4.2.1. 下载:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E5%AE%9E%E7%8E%B0%E6%8C%89%E9%9C%80%E6%89%93%E5%8C%85"><span class="toc-number">4.2.2.</span> <span class="toc-text">4.2.2. 实现按需打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-mint-ui-%E7%BB%84%E4%BB%B6%E5%88%86%E7%B1%BB"><span class="toc-number">4.2.3.</span> <span class="toc-text">4.2.3. mint-ui 组件分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-4-%E4%BD%BF%E7%94%A8-mint-ui-%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-number">4.2.4.</span> <span class="toc-text">4.2.4. 使用 mint-ui 的组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-5-%E7%AB%A0%EF%BC%9Avue-router"><span class="toc-number">5.</span> <span class="toc-text">第 5 章：vue-router</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E7%90%86%E8%A7%A3"><span class="toc-number">5.1.</span> <span class="toc-text">5.1. 理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-%E8%AF%B4%E6%98%8E"><span class="toc-number">5.1.1.</span> <span class="toc-text">5.1.1. 说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-%E7%9B%B8%E5%85%B3-API-%E8%AF%B4%E6%98%8E"><span class="toc-number">5.1.2.</span> <span class="toc-text">5.1.2. 相关 API 说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1"><span class="toc-number">5.2.</span> <span class="toc-text">5.2. 基本路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-%E6%95%88%E6%9E%9C"><span class="toc-number">5.2.1.</span> <span class="toc-text">5.2.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-2-%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">5.2.2.</span> <span class="toc-text">5.2.2. 路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-3-%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6-App-vue"><span class="toc-number">5.2.3.</span> <span class="toc-text">5.2.3. 应用组件: App.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-4-%E8%B7%AF%E7%94%B1%E5%99%A8%E6%A8%A1%E5%9D%97-src-x2F-router-x2F-index-js"><span class="toc-number">5.2.4.</span> <span class="toc-text">5.2.4. 路由器模块: src&#x2F;router&#x2F;index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-5-%E6%B3%A8%E5%86%8C%E8%B7%AF%E7%94%B1%E5%99%A8-main-js"><span class="toc-number">5.2.5.</span> <span class="toc-text">5.2.5. 注册路由器: main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-6-%E4%BC%98%E5%8C%96%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">5.2.6.</span> <span class="toc-text">5.2.6. 优化路由器配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-7-%E6%80%BB%E7%BB%93-%E7%BC%96%E5%86%99%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%E7%9A%84-3-%E6%AD%A5"><span class="toc-number">5.2.7.</span> <span class="toc-text">5.2.7. 总结: 编写使用路由的 3 步</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">5.3.</span> <span class="toc-text">5.3. 嵌套路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-%E6%95%88%E6%9E%9C"><span class="toc-number">5.3.1.</span> <span class="toc-text">5.3.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-%E5%AD%90%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">5.3.2.</span> <span class="toc-text">5.3.2. 子路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-3-%E9%85%8D%E7%BD%AE%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1-router-js"><span class="toc-number">5.3.3.</span> <span class="toc-text">5.3.3. 配置嵌套路由: router.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-4-%E8%B7%AF%E7%94%B1%E9%93%BE%E6%8E%A5-Home-vue"><span class="toc-number">5.3.4.</span> <span class="toc-text">5.3.4. 路由链接: Home.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E5%90%91%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE"><span class="toc-number">5.4.</span> <span class="toc-text">5.4. 向路由组件传递数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-1-%E6%95%88%E6%9E%9C"><span class="toc-number">5.4.1.</span> <span class="toc-text">5.4.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-2-%E6%96%B9%E5%BC%8F-1-%E8%B7%AF%E7%94%B1%E8%B7%AF%E5%BE%84%E6%90%BA%E5%B8%A6%E5%8F%82%E6%95%B0-param-x2F-query"><span class="toc-number">5.4.2.</span> <span class="toc-text">5.4.2. 方式 1: 路由路径携带参数(param&#x2F;query)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-3-%E6%96%B9%E5%BC%8F-2-%E5%B1%9E%E6%80%A7%E6%90%BA%E5%B8%A6%E6%95%B0%E6%8D%AE"><span class="toc-number">5.4.3.</span> <span class="toc-text">5.4.3. 方式 2: 属性携带数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.5.</span> <span class="toc-text">5.5. 缓存路由组件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1-%E7%90%86%E8%A7%A3"><span class="toc-number">5.5.1.</span> <span class="toc-text">5.5.1. 理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-2-%E7%BC%96%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">5.5.2.</span> <span class="toc-text">5.5.2. 编码实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">5.6.</span> <span class="toc-text">5.6. 编程式路由导航</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-1-%E6%95%88%E6%9E%9C"><span class="toc-number">5.6.1.</span> <span class="toc-text">5.6.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-%E7%9B%B8%E5%85%B3-API"><span class="toc-number">5.6.2.</span> <span class="toc-text">5.6.2. 相关 API</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-6-%E7%AB%A0%EF%BC%9Avuex"><span class="toc-number">6.</span> <span class="toc-text">第 6 章：vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-vuex-%E7%90%86%E8%A7%A3"><span class="toc-number">6.1.</span> <span class="toc-text">6.1. vuex 理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-1-vuex-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">6.1.1.</span> <span class="toc-text">6.1.1. vuex 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-2-%E7%8A%B6%E6%80%81%E8%87%AA%E7%AE%A1%E7%90%86%E5%BA%94%E7%94%A8"><span class="toc-number">6.1.2.</span> <span class="toc-text">6.1.2. 状态自管理应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-3-%E5%A4%9A%E7%BB%84%E4%BB%B6%E5%85%B1%E4%BA%AB%E7%8A%B6%E6%80%81%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">6.1.3.</span> <span class="toc-text">6.1.3. 多组件共享状态的问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-vuex-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E5%92%8C-API"><span class="toc-number">6.2.</span> <span class="toc-text">6.2. vuex 核心概念和 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-state"><span class="toc-number">6.2.1.</span> <span class="toc-text">6.2.1. state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-mutations"><span class="toc-number">6.2.2.</span> <span class="toc-text">6.2.2. mutations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-3-actions"><span class="toc-number">6.2.3.</span> <span class="toc-text">6.2.3. actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-4-getters"><span class="toc-number">6.2.4.</span> <span class="toc-text">6.2.4. getters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-5-modules"><span class="toc-number">6.2.5.</span> <span class="toc-text">6.2.5. modules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-6-%E5%90%91%E5%A4%96%E6%9A%B4%E9%9C%B2-store-%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.6.</span> <span class="toc-text">6.2.6. 向外暴露 store 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-7-%E7%BB%84%E4%BB%B6%E4%B8%AD"><span class="toc-number">6.2.7.</span> <span class="toc-text">6.2.7. 组件中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-9-store-%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.8.</span> <span class="toc-text">6.2.9. store 对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-demo1-%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="toc-number">6.3.</span> <span class="toc-text">6.3. demo1: 计数器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-store-js"><span class="toc-number">6.3.1.</span> <span class="toc-text">6.3.1. store.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-main-js"><span class="toc-number">6.3.2.</span> <span class="toc-text">6.3.2. main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-app-vue-%E6%9C%AA%E4%BC%98%E5%8C%96%E5%89%8D"><span class="toc-number">6.3.3.</span> <span class="toc-text">6.3.3. app.vue(未优化前)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-4-app2-vue-%E4%BC%98%E5%8C%96%E5%90%8E"><span class="toc-number">6.3.4.</span> <span class="toc-text">6.3.4. app2.vue(优化后)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-demo2-todo-list"><span class="toc-number">6.4.</span> <span class="toc-text">6.4. demo2: todo list</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-store-x2F-types-js"><span class="toc-number">6.4.1.</span> <span class="toc-text">6.3.1. store&#x2F;types.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-store-x2F-actions-js"><span class="toc-number">6.4.2.</span> <span class="toc-text">6.3.3. store&#x2F;actions.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-4-store-x2F-getters-js"><span class="toc-number">6.4.3.</span> <span class="toc-text">6.3.4. store&#x2F;getters.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-5-store-x2F-index-js"><span class="toc-number">6.4.4.</span> <span class="toc-text">6.3.5. store&#x2F;index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-6-components-x2F-app-vue"><span class="toc-number">6.4.5.</span> <span class="toc-text">6.3.6. components&#x2F;app.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-7-components-x2F-todoHeader-vue"><span class="toc-number">6.4.6.</span> <span class="toc-text">6.3.7. components&#x2F;todoHeader.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-8-components-x2F-todoMain-vue"><span class="toc-number">6.4.7.</span> <span class="toc-text">6.3.8. components&#x2F;todoMain.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-9-components-x2F-todoItem-vue"><span class="toc-number">6.4.8.</span> <span class="toc-text">6.3.9. components&#x2F;todoItem.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-10-components-x2F-todoFooter-vue"><span class="toc-number">6.4.9.</span> <span class="toc-text">6.3.10. components&#x2F;todoFooter.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-11-util-x2F-storageUtil-js"><span class="toc-number">6.4.10.</span> <span class="toc-text">6.3.11. util&#x2F;storageUtil.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-13-main-js"><span class="toc-number">6.4.11.</span> <span class="toc-text">6.3.13. main.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-vuex-%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90"><span class="toc-number">6.5.</span> <span class="toc-text">6.5. vuex 结构分析</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-7-%E7%AB%A0%EF%BC%9Avue-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">7.</span> <span class="toc-text">第 7 章：vue 源码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E8%AF%B4%E6%98%8E"><span class="toc-number">7.1.</span> <span class="toc-text">7.1. 说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E5%87%86%E5%A4%87%E7%9F%A5%E8%AF%86"><span class="toc-number">7.2.</span> <span class="toc-text">7.2. 准备知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">7.3.</span> <span class="toc-text">7.3. 数据代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E6%A8%A1%E6%9D%BF%E8%A7%A3%E6%9E%90"><span class="toc-number">7.4.</span> <span class="toc-text">7.4. 模板解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-1-%E6%A8%A1%E6%9D%BF%E8%A7%A3%E6%9E%90%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-number">7.4.1.</span> <span class="toc-text">7.4.1. 模板解析的基本流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-2-%E6%A8%A1%E6%9D%BF%E8%A7%A3%E6%9E%90-1-%E5%A4%A7%E6%8B%AC%E5%8F%B7%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%A3%E6%9E%90"><span class="toc-number">7.4.2.</span> <span class="toc-text">7.4.2. 模板解析(1): 大括号表达式解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-3-%E6%A8%A1%E6%9D%BF%E8%A7%A3%E6%9E%90-2-%E4%BA%8B%E4%BB%B6%E6%8C%87%E4%BB%A4%E8%A7%A3%E6%9E%90"><span class="toc-number">7.4.3.</span> <span class="toc-text">7.4.3. 模板解析(2): 事件指令解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-4-%E6%A8%A1%E6%9D%BF%E8%A7%A3%E6%9E%90-3-%E4%B8%80%E8%88%AC%E6%8C%87%E4%BB%A4%E8%A7%A3%E6%9E%90"><span class="toc-number">7.4.4.</span> <span class="toc-text">7.4.4. 模板解析(3): 一般指令解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">7.5.</span> <span class="toc-text">7.5. 数据绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-1-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">7.5.1.</span> <span class="toc-text">7.5.1. 数据绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-2-%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81"><span class="toc-number">7.5.2.</span> <span class="toc-text">7.5.2. 数据劫持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-3-%E5%9B%9B%E4%B8%AA%E9%87%8D%E8%A6%81%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.5.3.</span> <span class="toc-text">7.5.3. 四个重要对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-6-MVVM-%E5%8E%9F%E7%90%86%E5%9B%BE%E5%88%86%E6%9E%90"><span class="toc-number">7.6.</span> <span class="toc-text">7.6. MVVM 原理图分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-7-%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">7.7.</span> <span class="toc-text">7.7. 双向数据绑定</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/mage/edbed262a0a32c8f4fd97861532b8e9753584e2b/" title="Docker源码学习之docker-version命令"><img src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker源码学习之docker-version命令"/></a><div class="content"><a class="title" href="/mage/edbed262a0a32c8f4fd97861532b8e9753584e2b/" title="Docker源码学习之docker-version命令">Docker源码学习之docker-version命令</a><time datetime="2023-09-28T00:03:49.000Z" title="更新于 2023-09-28 08:03:49">2023-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/eee219318da0b6a390e2e2d9c27459533c760b0c/" title="Docker源码学习之docker-run命令"><img src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker源码学习之docker-run命令"/></a><div class="content"><a class="title" href="/mage/eee219318da0b6a390e2e2d9c27459533c760b0c/" title="Docker源码学习之docker-run命令">Docker源码学习之docker-run命令</a><time datetime="2023-09-27T23:25:21.000Z" title="更新于 2023-09-28 07:25:21">2023-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/3b60ed21ee8f255c62e0e848435d5648d347b465/" title="Docker源码学习之如何源码编译docker"><img src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker源码学习之如何源码编译docker"/></a><div class="content"><a class="title" href="/mage/3b60ed21ee8f255c62e0e848435d5648d347b465/" title="Docker源码学习之如何源码编译docker">Docker源码学习之如何源码编译docker</a><time datetime="2023-09-27T22:57:30.000Z" title="更新于 2023-09-28 06:57:30">2023-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/b4b2fa67751f76c0312672abefffd8eb6e41c702/" title="Docker源码学习之docker-names-generator"><img src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker源码学习之docker-names-generator"/></a><div class="content"><a class="title" href="/mage/b4b2fa67751f76c0312672abefffd8eb6e41c702/" title="Docker源码学习之docker-names-generator">Docker源码学习之docker-names-generator</a><time datetime="2023-09-27T14:01:38.000Z" title="更新于 2023-09-27 22:01:38">2023-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/d8e5ec1afedee09998d034f01da122815a3d1292/" title="Docker源码学习之docker命令行参数解析流程"><img src= "/img/loading.gif" data-lazy-src="https://t.mwm.moe/fj/" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker源码学习之docker命令行参数解析流程"/></a><div class="content"><a class="title" href="/mage/d8e5ec1afedee09998d034f01da122815a3d1292/" title="Docker源码学习之docker命令行参数解析流程">Docker源码学习之docker命令行参数解析流程</a><time datetime="2023-09-24T08:07:37.000Z" title="更新于 2023-09-24 16:07:37">2023-09-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://t.mwm.moe/fj/')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By mage</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>