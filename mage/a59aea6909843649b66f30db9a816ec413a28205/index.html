<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Linux学习之Linux命令行与shell脚本编程大全 | 马哥私房菜</title><meta name="author" content="mage"><meta name="copyright" content="mage"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="欢迎光临 马哥私房菜   【马哥私房菜】亲情推出《linux shell脚本攻略》视频教程  【马哥私房菜】亲情推出 git 视频教程   《Linux命令行与shell脚本编程大全》第三版 学习笔记第1部分 Part 1 Linux 命令行第1 章 初识Linux shell本章内容  什么是Linux Linux内核的组成 探索Linux桌面 了解Linux发行版  什么是LinuxLinux">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux学习之Linux命令行与shell脚本编程大全">
<meta property="og:url" content="https://magesfc.github.io/mage/a59aea6909843649b66f30db9a816ec413a28205/">
<meta property="og:site_name" content="马哥私房菜">
<meta property="og:description" content="欢迎光临 马哥私房菜   【马哥私房菜】亲情推出《linux shell脚本攻略》视频教程  【马哥私房菜】亲情推出 git 视频教程   《Linux命令行与shell脚本编程大全》第三版 学习笔记第1部分 Part 1 Linux 命令行第1 章 初识Linux shell本章内容  什么是Linux Linux内核的组成 探索Linux桌面 了解Linux发行版  什么是LinuxLinux">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg">
<meta property="article:published_time" content="2022-02-23T09:47:21.000Z">
<meta property="article:modified_time" content="2022-02-23T09:47:21.000Z">
<meta property="article:author" content="mage">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="shell">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg"><link rel="shortcut icon" href="http://www.blackshark.com/favicon.ico"><link rel="canonical" href="https://magesfc.github.io/mage/a59aea6909843649b66f30db9a816ec413a28205/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: mage","link":"链接: ","source":"来源: 马哥私房菜","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux学习之Linux命令行与shell脚本编程大全',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-23 17:47:21'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.card-announcement .social-button{margin:.6rem 0 0 0;text-align:center}.card-announcement .social-button a{display:block;background-color:var(--btn-bg);color:var(--btn-color);text-align:center;line-height:2.4;margin:4px 0}.card-announcement .social-button a:hover{background-color:var(--btn-hover-color)}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">171</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">190</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">35</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 精选文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/21cfbf15/"><span> 🚀 快速开始</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/dc584b87/"><span> 📑 主题页面</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4aa8abbe/"><span> 🛠 主题配置-1</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/"><span> 🛠 主题配置-2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/98d20436/"><span> ❓ 主题问答</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/"><span> ⚡️ 进阶教程</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/198a4240/"><span> ✨ 更新日志</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://butterfly.js.org/link/"><i class="fa-fw fas fa-thumbs-up"></i><span> 其他示例</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">马哥私房菜</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 精选文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/21cfbf15/"><span> 🚀 快速开始</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/dc584b87/"><span> 📑 主题页面</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4aa8abbe/"><span> 🛠 主题配置-1</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/"><span> 🛠 主题配置-2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/98d20436/"><span> ❓ 主题问答</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/"><span> ⚡️ 进阶教程</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/posts/198a4240/"><span> ✨ 更新日志</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://butterfly.js.org/link/"><i class="fa-fw fas fa-thumbs-up"></i><span> 其他示例</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux学习之Linux命令行与shell脚本编程大全</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-02-23T09:47:21.000Z" title="发表于 2022-02-23 17:47:21">2022-02-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-23T09:47:21.000Z" title="更新于 2022-02-23 17:47:21">2022-02-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/linux/">linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux学习之Linux命令行与shell脚本编程大全"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>欢迎光临 马哥私房菜 </p>
<ul>
<li><p>【马哥私房菜】亲情推出《linux shell脚本攻略》视频教程</p>
</li>
<li><p>【马哥私房菜】亲情推出 git 视频教程</p>
</li>
</ul>
<h1 id="《Linux命令行与shell脚本编程大全》第三版-学习笔记"><a href="#《Linux命令行与shell脚本编程大全》第三版-学习笔记" class="headerlink" title="《Linux命令行与shell脚本编程大全》第三版 学习笔记"></a>《Linux命令行与shell脚本编程大全》第三版 学习笔记</h1><h2 id="第1部分-Part-1-Linux-命令行"><a href="#第1部分-Part-1-Linux-命令行" class="headerlink" title="第1部分 Part 1 Linux 命令行"></a>第1部分 Part 1 Linux 命令行</h2><h1 id="第1-章-初识Linux-shell"><a href="#第1-章-初识Linux-shell" class="headerlink" title="第1 章 初识Linux shell"></a>第1 章 初识Linux shell</h1><p>本章内容</p>
<ul>
<li>什么是Linux</li>
<li>Linux内核的组成</li>
<li>探索Linux桌面</li>
<li>了解Linux发行版</li>
</ul>
<h2 id="什么是Linux"><a href="#什么是Linux" class="headerlink" title="什么是Linux"></a>什么是Linux</h2><p>Linux可划分为以下四部分：</p>
<ul>
<li>Linux内核</li>
<li>GNU工具</li>
<li>图形化桌面环境</li>
<li>应用软件</li>
</ul>
<p>Linux系统的核心是内核。内核控制着计算机系统上的所有硬件和软件，在必要时分配硬件，<br>并根据需要执行软件。<br>内核主要负责以下四种功能：  </p>
<ul>
<li>系统内存管理  </li>
<li>软件程序管理   也就是cpu和进程管理</li>
<li>硬件设备管理  </li>
<li>文件系统管理</li>
</ul>
<p>内核管理物理内存，还可以创建和管理虚拟内存。内核通过硬盘上的存储空间来实现虚拟内存，这块区域称为交换空间（swap space） 马哥私房菜 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ext                Linux扩展文件系统，最早的Linux文件系统  </span><br><span class="line">ext2               第二扩展文件系统，在ext的基础上提供了更多的功能  </span><br><span class="line">ext3               第三扩展文件系统，支持日志功能  </span><br><span class="line">ext4               第四扩展文件系统，支持高级日志功能  </span><br><span class="line">hpfs               OS/2高性能文件系统  </span><br><span class="line">jfs                IBM日志文件系统  </span><br><span class="line">iso9660            ISO 9660文件系统（CD-ROM）  </span><br><span class="line">minix              MINIX文件系统   </span><br><span class="line">msdos              微软的FAT16  </span><br><span class="line">ncp                Netware文件系统  </span><br><span class="line">nfs                网络文件系统   </span><br><span class="line">ntfs               支持Microsoft NT文件系统  </span><br><span class="line">proc               访问系统信息  </span><br><span class="line">ReiserFS           高级Linux文件系统，能提供更好的性能和硬盘恢复功能  </span><br><span class="line">smb                支持网络访问的Samba SMB文件系统  </span><br><span class="line">sysv               较早期的Unix文件系统  </span><br><span class="line">ufs                BSD文件系统  </span><br><span class="line">umsdos             建立在msdos上的类Unix文件系统  </span><br><span class="line">vfat               Windows 95文件系统（FAT32）  </span><br><span class="line">XFS                高性能64位日志文件系统  </span><br></pre></td></tr></table></figure>

<p>GNU&#x2F;Linux shell是一种特殊的交互式工具。它为用户提供了启动程序、管理文件系统中的文<br>件以及运行在Linux系统上的进程的途径。shell的核心是命令行提示符。命令行提示符是shell负责<br>交互的部分。它允许你输入文本命令，然后解释命令，并在内核中执行。</p>
<p>默认shell是bash shell。（创建者bourne），称为bourne again shell。<br>除了bash shell 还有其他的shell 马哥私房菜  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ash 一种运行在内存受限环境中简单的轻量级shell，但与bash shell完全兼容  </span><br><span class="line">korn 一种与Bourne shell兼容的编程shell，但支持如关联数组和浮点运算等一些高级的编程特性  </span><br><span class="line">tcsh 一种将C语言中的一些元素引入到shell脚本中的shell  </span><br><span class="line">zsh 一种结合了bash、tcsh和korn的特性，同时提供高级编程特性、共享历史文件和主题化提示符的高级shell  </span><br></pre></td></tr></table></figure>

<p>linux的桌面环境： X Window系统</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">KDE（K Desktop Environment，K桌面环境）  </span><br><span class="line">GNOME桌面  </span><br><span class="line">Unity桌面  是Ubuntu Linux发行版</span><br><span class="line">Xfce      和KDE很像的一个桌面，但少了很多图像以适应低内存环境  </span><br></pre></td></tr></table></figure>

<h2 id="Linux-发行版"><a href="#Linux-发行版" class="headerlink" title="Linux 发行版"></a>Linux 发行版</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Slackware 最早的Linux发行版中的一员，在Linux极客中比较流行  </span><br><span class="line">Red Hat 主要用于Internet服务器的商业发行版  </span><br><span class="line">Fedora 从Red Hat分离出的家用发行版  </span><br><span class="line">Gentoo 为高级Linux用户设计的发行版，仅包含Linux源代码  </span><br><span class="line">openSUSE 用于商用和家用的发行版  </span><br><span class="line">Debian 在Linux专家和商用Linux产品中流行的发行版  </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CentOS 一款基于Red Hat企业版Linux源代码构建的免费发行版  </span><br><span class="line">Ubuntu 一款用于学校和家庭的免费发行版  </span><br><span class="line">PCLinuxOS 一款用于家庭和办公的免费发行版  </span><br><span class="line">Mint 一款用于家庭娱乐的免费发行版   </span><br><span class="line">dyne:bolic 一款用于音频和MIDI应用的免费发行版   </span><br><span class="line">Puppy Linux 一款适用于老旧PC的小型免费发行版马哥私房菜   </span><br></pre></td></tr></table></figure>


<h1 id="第2-章-走进shell"><a href="#第2-章-走进shell" class="headerlink" title="第2 章 走进shell"></a>第2 章 走进shell</h1><p>本章内容</p>
<ul>
<li>访问命令行</li>
<li>通过Linux控制台终端访问CLI</li>
<li>通过图形化终端仿真器访问CLI</li>
<li>使用GNOME终端仿真器</li>
<li>使用Konsole终端仿真器</li>
<li>使用xterm终端仿真器</li>
</ul>
<h2 id="控制台终端"><a href="#控制台终端" class="headerlink" title="控制台终端"></a>控制台终端</h2><p>在图形化桌面出现之前，与Unix系统进行交互的唯一方式就是借助由shell所提供的文本命令<br>行界面（command line interface，CLI）。CLI只能接受文本输入，也只能显示出文本和基本的图形<br>输出。</p>
<p>按下Ctrl+Alt组合键，然后按功能键（F1~F7）进入要使用的虚拟控制台<br>tty代表电传打字机（teletypewriter）。这是一个古老的名词，指的是一台用于发送消息的机器。</p>
<h2 id="图形化终端"><a href="#图形化终端" class="headerlink" title="图形化终端"></a>图形化终端</h2><p>图形化终端，除了虚拟化终端控制台，还可以使用Linux图形化桌面环境中的终端仿真包。<br>常见的图像模拟终端：</p>
<p>GNOME Terminal<br>GNOME Terminal是GNOME桌面环境的默认终端仿真器。Ubuntu Unity，也采用。<br>常见的快捷键。 马哥私房菜  </p>
<p>Guake <a target="_blank" rel="noopener" href="https://github.com/Guake/guake">https://github.com/Guake/guake</a><br>Konsole Terminal KDE桌<br>Terminator <a target="_blank" rel="noopener" href="https://launchpad.net/terminator">https://launchpad.net/terminator</a><br>tilda <a target="_blank" rel="noopener" href="http://tilda.sourceforge.net/tildaabout.php">http://tilda.sourceforge.net/tildaabout.php</a><br>xterm 最古老也是最基础的终端仿真软件包是xterm。</p>
<h2 id="通过Linux-控制台终端访问CLI"><a href="#通过Linux-控制台终端访问CLI" class="headerlink" title="通过Linux 控制台终端访问CLI"></a>通过Linux 控制台终端访问CLI</h2><h2 id="通过图形化终端仿真访问CLI"><a href="#通过图形化终端仿真访问CLI" class="headerlink" title="通过图形化终端仿真访问CLI"></a>通过图形化终端仿真访问CLI</h2><h2 id="使用GNOME-Terminal-仿真器"><a href="#使用GNOME-Terminal-仿真器" class="headerlink" title="使用GNOME Terminal 仿真器"></a>使用GNOME Terminal 仿真器</h2><p>GNOME Terminal是GNOME桌面环境的默认终端仿真器。很多发行版，如RHEL、Fedora和<br>CentOS，默认采用的都是GNOME桌面环境，因此GNOME Terminal自然也就是默认配备了。不<br>过其他一些桌面环境，比如Ubuntu Unity，也采用GNOME Terminal作为默认的终端仿真软件包。<br>它使用起来非常简单，是Linux新手的不错选择.马哥私房菜 </p>
<h2 id="使用Konsole-Terminal-仿真器"><a href="#使用Konsole-Terminal-仿真器" class="headerlink" title="使用Konsole Terminal 仿真器"></a>使用Konsole Terminal 仿真器</h2><p>Konsole Terminal是KDE桌面环境的默认终端仿真器</p>
<h2 id="使用xterm-终端仿真器"><a href="#使用xterm-终端仿真器" class="headerlink" title="使用xterm 终端仿真器"></a>使用xterm 终端仿真器</h2><p>最古老也是最基础的终端仿真软件包是xterm。xterm软件包在X Window出现之前就有了，通常默认包含在发行版中。</p>
<h1 id="第3-章-基本的bash-shell-命令"><a href="#第3-章-基本的bash-shell-命令" class="headerlink" title="第3 章 基本的bash shell 命令"></a>第3 章 基本的bash shell 命令</h1><p>本章内容</p>
<ul>
<li>使用shell</li>
<li>bash手册</li>
<li>浏览文件系统</li>
<li>文件和目录列表</li>
<li>管理文件和目录</li>
<li>查看文件内容</li>
</ul>
<p>启动shell</p>
<p>shell 提示符</p>
<p>在Ubuntu Linux系统上，shell提示符看起来是这样的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">christine@server01:~$</span><br></pre></td></tr></table></figure>

<p>在CentOS系统上是这样的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[christine@server01 ~]$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>bash 手册  man命令用来访问存储在Linux系统上的手册页面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Name              显示命令名和一段简短的描述    马哥私房菜 </span><br><span class="line">Synopsis          命令的语法        </span><br><span class="line">Confi guration    命令配置信息  </span><br><span class="line">Description       命令的一般性描述  </span><br><span class="line">Options           命令选项描述  </span><br><span class="line">Exit Status       命令的退出状态指示  </span><br><span class="line">Return Value      命令的返回值  </span><br><span class="line">Errors            命令的错误消息  </span><br><span class="line">Environment       描述所使用的环境变量  </span><br><span class="line">Files             命令用到的文件  </span><br><span class="line">Versions          命令的版本信息  </span><br><span class="line">Conforming To     命名所遵从的标准  </span><br><span class="line">Notes             其他有帮助的资料  </span><br><span class="line">Bugs              提供提交bug的途径  </span><br><span class="line">Example           展示命令的用法  </span><br><span class="line">Authors           命令开发人员的信息  </span><br><span class="line">Copyright         命令源代码的版权状况  </span><br><span class="line">See Also          与该命令类型的其他命令  马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>如果不记得命令名怎么办？可以使用关键字搜索手册页。语法是：man -k 关键字。例如，要查找与终端相关的命令，可以输入man -k terminal。</p>
<p>除了对节按照惯例进行命名，手册页还有对应的内容区域。每个内容区域都分配了一个数字，从1开始，一直到9。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1 可执行程序或shell命令      马哥私房菜 </span><br><span class="line">2 系统调用  </span><br><span class="line">3 库调用  </span><br><span class="line">4 特殊文件  </span><br><span class="line">5 文件格式与约定  </span><br><span class="line">6 游戏  </span><br><span class="line">7 概览、约定及杂项  </span><br><span class="line">8 超级用户和系统管理员命令  </span><br><span class="line">9 内核例程               马哥私房菜 </span><br></pre></td></tr></table></figure>

<h2 id="Linux-文件系统"><a href="#Linux-文件系统" class="headerlink" title="Linux 文件系统"></a>Linux 文件系统</h2><p>s<br>你将会发现Linux使用正斜线（&#x2F;）而不是反斜线（\）在文件路径中划分目录。在Linux中，反斜线用来标识转义字符，要是用在文件路径中的话会导致各种各样的问题</p>
<p>挂载点（mount point）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/ 虚拟目录的根目录。通常不会在这里存储文件  </span><br><span class="line">/bin 二进制目录，存放许多用户级的GNU工具  </span><br><span class="line">/boot 启动目录，存放启动文件  </span><br><span class="line">/dev 设备目录，Linux在这里创建设备节点  </span><br><span class="line">/etc 系统配置文件目录  </span><br><span class="line">/home 主目录，Linux在这里创建用户目录  </span><br><span class="line">/lib 库目录，存放系统和应用程序的库文件  </span><br><span class="line">/media 媒体目录，可移动媒体设备的常用挂载点  </span><br><span class="line">/mnt 挂载目录，另一个可移动媒体设备的常用挂载点  </span><br><span class="line">/opt 可选目录，常用于存放第三方软件包和数据文件  </span><br><span class="line">/proc 进程目录，存放现有硬件及当前进程的相关信息  </span><br><span class="line">/root root用户的主目录  </span><br><span class="line">/sbin 系统二进制目录，存放许多GNU管理员级工具  </span><br><span class="line">/run 运行目录，存放系统运作时的运行时数据  </span><br><span class="line">/srv 服务目录，存放本地服务的相关文件  </span><br><span class="line">/sys 系统目录，存放系统硬件信息的相关文件  </span><br><span class="line">/tmp 临时目录，可以在该目录中创建和删除临时工作文件  </span><br><span class="line">/usr 用户二进制目录，大量用户级的GNU工具和数据文件都存储在这里  </span><br><span class="line">/var 可变目录，用以存放经常变化的文件，比如日志文件      马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>常见的目录名均基于文件系统层级标准（filesystem hierarchy standard，FHS）。很多Linux发行版都遵循了FHS。</p>
<h2 id="遍历目录"><a href="#遍历目录" class="headerlink" title="遍历目录"></a>遍历目录</h2><p>cd命令</p>
<p>绝对文件路径。绝对文件路径定义了在虚拟目录结构中该目录的确切位置，以虚拟目录的根目录开始，相当于目录的全名。</p>
<p>相对文件路径。相对文件路径允许用户指定一个基于当前位置的目标文件路径。相对文件路径不以代表根目<br>录的正斜线（&#x2F;）开头，而是以目录名（如果用户准备切换到当前工作目录下的一个目录）或是一个特殊字符开始。  </p>
<p>单点符（.），表示当前目录<br>双点符（..），表示当前目录的父目录  </p>
<h2 id="基本列表功能"><a href="#基本列表功能" class="headerlink" title="基本列表功能"></a>基本列表功能</h2><p>ls命令<br>-l参数会产生长列表格式的输出<br>-F参数在目录名后加了正斜线（&#x2F;）<br>-a 以点号开头的隐藏文件现在都显示出来<br>-R 了当前目录下包含的子目录中的文件<br>选项并一定要像例子中那样分开输入：ls –F –R。它们可以进行如下合并：ls –FR。</p>
<h2 id="显示长列表"><a href="#显示长列表" class="headerlink" title="显示长列表"></a>显示长列表</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">文件类型，比如目录（d）、文件（-）、字符型文件（c）或块设备（b）  </span><br><span class="line">文件的权限（参见第6章）  </span><br><span class="line">文件的硬链接总数  </span><br><span class="line">文件属主的用户名  </span><br><span class="line">文件属组的组名  </span><br><span class="line">文件的大小（以字节为单位）  </span><br><span class="line">文件的上次修改时间  </span><br><span class="line">文件名或目录名           马哥私房菜 </span><br></pre></td></tr></table></figure>

<h2 id="过滤输出列表"><a href="#过滤输出列表" class="headerlink" title="过滤输出列表"></a>过滤输出列表</h2><p>问号（?）代表一个字符。<br>星号（*）代表零个或多个字符。 </p>
<p>在过滤器中使用星号和问号被称为文件扩展匹配（file globbing），指的是使用通配符进行模<br>式匹配的过程。通配符正式的名称叫作元字符通配符（metacharacter wildcards）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l my_script</span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -l my_scr?pt</span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -l my*</span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -l my_s*t</span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -l my_scr[ai]pt   <span class="comment"># 可能出现的2中字符，a，i。</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -l f[a-i]ll    <span class="comment"># 表示范围内的</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> -l f[!a]ll     <span class="comment">#感叹号（!）将不需要的内容排除在外 马哥私房菜 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h2><p>touch命令<br>创建了你指定的新文件，并将你的用户名作为文件的属主。注意，文件的大小是零，因为touch命令只创建了一个空文件</p>
<h2 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h2><p>cp命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> <span class="built_in">source</span> destination</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>-r或-R 选项表明递归操作<br>-l 创建文件的硬链接而不是复制这个文件<br>-s 创建文件的符号链接而不是复制这个文件<br>-L 跟随符号连接文件<br>-P 不跟随符号连接文件  </p>
<h2 id="制表键自动补全"><a href="#制表键自动补全" class="headerlink" title="制表键自动补全"></a>制表键自动补全</h2><h2 id="链接文件"><a href="#链接文件" class="headerlink" title="链接文件"></a>链接文件</h2><p>符号链接 符号链接就是一个实实在在的文件，它指向存放在虚拟目录结构中某个地方的另一个文件. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>硬链接<br>硬链接会创建独立的虚拟文件，其中包含了原始文件的信息及位置。但是它们从根本上而言<br>是同一个文件。引用硬链接文件等同于引用了源文件。要创建硬链接，原始文件也必须事先存在.</p>
<h2 id="重命名文件"><a href="#重命名文件" class="headerlink" title="重命名文件"></a>重命名文件</h2><p>mv命令<br>注意，移动文件会将文件名从fall更改为fzll，但inode编号和时间戳保持不变。这是因为mv只影响文件名。</p>
<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><p>rm命令<br>在Linux中，删除（deleting）叫作移除（removing）</p>
<h2 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h2><p>mkdir命令  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> New_Dir                       <span class="comment"># 马哥私房菜 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p New_Dir/Sub_Dir/Under_Dir  <span class="comment"># 要想同时创建多个目录和子目录，需要加入-p参数：</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a>删除目录</h2><p>rmdir 命令  </p>
<p>rmdir只能删除空目录</p>
<h2 id="查看文件类型"><a href="#查看文件类型" class="headerlink" title="查看文件类型"></a>查看文件类型</h2><p>file命令<br>决定文件是什么类型</p>
<h2 id="查看整个文件"><a href="#查看整个文件" class="headerlink" title="查看整个文件"></a>查看整个文件</h2><p>cat命令<br>显示文本文件中所有数据<br>-n参数会给所有的行加上行号<br>-b参数 如果只想给有文本的行加上行号<br>-T参数会用^I字符组合去替换文中的所有制表符  </p>
<p>more命令<br>cat命令的主要缺陷是：一旦运行，你就无法控制后面的操作.<br>more命令会显示文本文件的内容，但会在显示每页数据之后停下来,more命令是分页工具。<br>按空格键或回车键以逐行向前的方式浏览文本文件。按q键退出。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 空格代表向下翻页  </span><br><span class="line">* 回车带哦不下翻一行</span><br><span class="line">* /字符串  代表在这个显示的内容中向下搜索字符串</span><br><span class="line">*  ：f 立即显示出文件明以及当前行数。</span><br><span class="line">*  q退出,离开</span><br><span class="line">*  b或者ctrl + b  代表往前翻页，只对文件有效。对管道无用</span><br></pre></td></tr></table></figure>
<p>less命令<br>less和more类似 。但是比more更强大。支持往前查看文件内容 。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 空格代表向下翻一页</span><br><span class="line">* pagedown向下翻一页</span><br><span class="line">* pageup向上翻一页</span><br><span class="line">* /字符串  代表向下搜索字符串</span><br><span class="line">* ？字符串  代表向上搜索字符串</span><br><span class="line">* n 代表重复前一个搜寻</span><br><span class="line">* N反向重复前一个搜寻</span><br><span class="line">* g到第一行</span><br><span class="line">* G到最后一行</span><br><span class="line">* q退出,离开</span><br></pre></td></tr></table></figure>

<h2 id="查看部分文件"><a href="#查看部分文件" class="headerlink" title="查看部分文件"></a>查看部分文件</h2><p>tail命令<br>tail命令会显示文件最后几行的内容（文件的“尾部”）。默认情况下，它会显示文件的末尾10行。<br>-f参数允许你在其他进程使用该文件时查看文件的内容。<br>tail命令会保持活动状态，并不断显示添加到文件中的内容。这是实时监测系统日志的绝妙方式。     </p>
<p>head命令<br>默认情况下，它会显示文件前10行的文本.head命令没有-f选项啊，因为文件开头是不会改变的。<br>-n参数，这样就可以指定输入想要显示的行数..  </p>
<h1 id="第4-章-更多的bash-shell-命令"><a href="#第4-章-更多的bash-shell-命令" class="headerlink" title="第4 章 更多的bash shell 命令"></a>第4 章 更多的bash shell 命令</h1><p>本章内容</p>
<ul>
<li>管理进程</li>
<li>获取磁盘统计信息</li>
<li>挂载新磁盘</li>
<li>排序数据</li>
<li>归档数据</li>
</ul>
<h2 id="探查进程"><a href="#探查进程" class="headerlink" title="探查进程"></a>探查进程</h2><p>ps命令<br>当程序运行在系统上时，我们称之为进程（process）。<br>默认情况下，ps命令只会显示运行在当前控制台下的属于当前用户的进程。<br>进程ID（Process ID，PID）  </p>
<p>Linux系统中使用的GNU ps命令支持3种不同类型的命令行参数：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Unix风格的参数，前面加单破折线；  </span><br><span class="line">BSD风格的参数，前面不加破折线；  </span><br><span class="line">GNU风格的长参数，前面加双破折线。  马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>Unix风格的ps命令参数：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-A              显示所有进程  </span><br><span class="line">-N              显示与指定参数不符的所有进程  </span><br><span class="line">-a              显示除控制进程（session leader①）和无终端进程外的所有进程  </span><br><span class="line">-d              显示除控制进程外的所有进程  </span><br><span class="line">-e              显示所有进程，显示所有运行在系统上的进程。   </span><br><span class="line">-C              cmdlist 显示包含在cmdlist列表中的进程  </span><br><span class="line">-G              grplist 显示组ID在grplist列表中的进程  </span><br><span class="line">-U              userlist 显示属主的用户ID在userlist列表中的进程  </span><br><span class="line">-g              grplist 显示会话或组ID在grplist列表中的进程②  </span><br><span class="line">-p              pidlist 显示PID在pidlist列表中的进程  </span><br><span class="line">-s              sesslist 显示会话ID在sesslist列表中的进程  </span><br><span class="line">-t              ttylist 显示终端ID在ttylist列表中的进程  </span><br><span class="line">-u              userlist 显示有效用户ID在userlist列表中的进程  </span><br><span class="line">-F              显示更多额外输出（相对-f参数而言）  </span><br><span class="line">-O              format 显示默认的输出列以及format列表指定的特定列  </span><br><span class="line">-M              显示进程的安全信息  </span><br><span class="line">-c              显示进程的额外调度器信息  </span><br><span class="line">-f              显示完整格式的输出，扩展了输出。  </span><br><span class="line">-j              显示任务信息  </span><br><span class="line">-l              显示长列表  </span><br><span class="line">-o              format 仅显示由format指定的列  </span><br><span class="line">-y              不要显示进程标记（process flag，表明进程状态的标记）  </span><br><span class="line">-Z              显示安全标签（security context）①信息  </span><br><span class="line">-H              用层级格式来显示进程（树状，用来显示父进程）  </span><br><span class="line">-n              namelist 定义了WCHAN列显示的值  </span><br><span class="line">-w              采用宽输出模式，不限宽度显示  </span><br><span class="line">-L              显示进程中的线程  </span><br><span class="line">-V              显示ps命令的版本号       马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>-f参数的扩展的列包含了有用的信息。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UID：         启动这些进程的用户。  </span><br><span class="line">PID：         进程的进程ID。  </span><br><span class="line">PPID：        父进程的进程号（如果该进程是由另一个进程启动的）。  </span><br><span class="line">C：           进程生命周期中的CPU利用率。  </span><br><span class="line">STIME：       进程启动时的系统时间。  </span><br><span class="line">TTY：         进程启动时的终端设备。  </span><br><span class="line">TIME：        运行进程需要的累计CPU时间。  </span><br><span class="line">CMD：         启动的程序名称。  </span><br></pre></td></tr></table></figure>

<p>使用了-l参数之后多出的那些列。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">F：          内核分配给进程的系统标记。  </span><br><span class="line">S：          进程的状态（O代表正在运行；S代表在休眠；R代表可运行，正等待运行；Z代表僵  化，进程已结束但父进程已不存在；T代表停止）。  </span><br><span class="line">PRI：        进程的优先级（越大的数字代表越低的优先级）。  </span><br><span class="line">NI：         谦让度值用来参与决定优先级。  </span><br><span class="line">ADDR：       进程的内存地址。  </span><br><span class="line">SZ：         假如进程被换出，所需交换空间的大致大小。  </span><br><span class="line">WCHAN：      进程休眠的内核函数的地址。 马哥私房菜  </span><br></pre></td></tr></table></figure>

<p>BSD风格的参数：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">T               显示跟当前终端关联的所有进程  </span><br><span class="line">a               显示跟任意终端关联的所有进程  </span><br><span class="line">g               显示所有的进程，包括控制进程  </span><br><span class="line">r               仅显示运行中的进程  </span><br><span class="line">x               显示所有的进程，甚至包括未分配任何终端的进程</span><br><span class="line">U               userlist 显示归userlist列表中某用户ID所有的进程</span><br><span class="line">p               pidlist 显示PID在pidlist列表中的进程</span><br><span class="line">t               ttylist 显示所关联的终端在ttylist列表中的进程</span><br><span class="line">O               format 除了默认输出的列之外，还输出由format指定的列</span><br><span class="line">X               按过去的Linux i386寄存器格式显示</span><br><span class="line">Z               将安全信息添加到输出中</span><br><span class="line">j               显示任务信息</span><br><span class="line">l               采用长模式</span><br><span class="line">o               format 仅显示由format指定的列</span><br><span class="line">s               采用信号格式显示</span><br><span class="line">u               采用基于用户的格式显示</span><br><span class="line">v               采用虚拟内存格式显示</span><br><span class="line">N               namelist 定义在WCHAN列中使用的值</span><br><span class="line">O               order 定义显示信息列的顺序</span><br><span class="line">S               将数值信息从子进程加到父进程上，比如CPU和内存的使用情况</span><br><span class="line">c               显示真实的命令名称（用以启动进程的程序名称）</span><br><span class="line">e               显示命令使用的环境变量</span><br><span class="line">f               用分层格式来显示进程，表明哪些进程启动了哪些进程</span><br><span class="line">h               不显示头信息</span><br><span class="line">k               sort 指定用以将输出排序的列</span><br><span class="line">n               和WCHAN信息一起显示出来，用数值来表示用户ID和组ID</span><br><span class="line">w               为较宽屏幕显示宽输出</span><br><span class="line">H               将线程按进程来显示</span><br><span class="line">m               在进程后显示线程</span><br><span class="line">L               列出所有格式指定符</span><br><span class="line">V               显示ps命令的版本号       马哥私房菜 </span><br></pre></td></tr></table></figure>
<p>大部分的输出列跟使用Unix风格参数时的输出是一样的，只有一小部分不同。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">VSZ：        进程在内存中的大小，以千字节（KB）为单位。  </span><br><span class="line">RSS：        进程在未换出时占用的物理内存。  </span><br><span class="line">STAT：       代表当前进程状态的双字符状态码。  </span><br></pre></td></tr></table></figure>
<p>BSD风格的l参数。它能输出更详细的进程状态码（STAT列）。双字符状态码能比Unix风格输出的单字符状态码更清楚地表示进程的当前状态。<br>第一个字符采用了和Unix风格S列相同的值，表明进程是在休眠、运行还是等待。第二个参数进一步说明进程的状态。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;：该进程运行在高优先级上 。  </span><br><span class="line">N：该进程运行在低优先级上。  </span><br><span class="line">L：该进程有页面锁定在内存中。  </span><br><span class="line">s：该进程是控制进程。  </span><br><span class="line">l：该进程是多线程的。  </span><br><span class="line">+：该进程运行在前台 。   马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>GNU长参数风格：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">--deselect           显示所有进程，命令行中列出的进程  </span><br><span class="line">--Group grplist      显示组ID在grplist列表中的进程  </span><br><span class="line">--User userlist      显示用户ID在userlist列表中的进程  </span><br><span class="line">--group grplist      显示有效组ID在grplist列表中的进程  </span><br><span class="line">--pid pidlist        显示PID在pidlist列表中的进程  </span><br><span class="line">--ppid pidlist       显示父PID在pidlist列表中的进程  </span><br><span class="line">--sid sidlist        显示会话ID在sidlist列表中的进程  </span><br><span class="line">--tty ttylist        显示终端设备号在ttylist列表中的进程  </span><br><span class="line">--user userlist      显示有效用户ID在userlist列表中的进程  </span><br><span class="line">--format format      仅显示由format指定的列  </span><br><span class="line">--context            显示额外的安全信息  </span><br><span class="line">--cols n             将屏幕宽度设置为n列  </span><br><span class="line">--columns n          将屏幕宽度设置为n列  </span><br><span class="line">--cumulative         包含已停止的子进程的信息  </span><br><span class="line">--forest             用层级结构显示出进程和父进程之间的关系  </span><br><span class="line">--headers            在每页输出中都显示列的头  </span><br><span class="line">--no-headers         不显示列的头  </span><br><span class="line">--lines n            将屏幕高度设为n行  </span><br><span class="line">--rows n             将屏幕高度设为n排  </span><br><span class="line">--sort order         指定将输出按哪列排序  </span><br><span class="line">--width n            将屏幕宽度设为n列  </span><br><span class="line">--help               显示帮助信息  </span><br><span class="line">--info               显示调试信息  </span><br><span class="line">--version            显示ps命令的版本号    马哥私房菜 </span><br></pre></td></tr></table></figure>


<p>–forest参数。它会显示进程的层级信息，并用ASCII字符绘出可爱的图表 。  </p>
<h2 id="实时监测进程"><a href="#实时监测进程" class="headerlink" title="实时监测进程"></a>实时监测进程</h2><p>top命令<br>跟ps命令相似，能够显示进程信息，但它是实时显示的 。<br>第一行显示了当前时间、系统的运行时间、登录的用户数以及系统的平均负载。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">平均负载有3个值：最近1分钟的、最近5分钟的和最近15分钟的平均负载。值越大说明系统</span><br><span class="line">的负载越高。由于进程短期的突发性活动，出现最近1分钟的高负载值也很常见，但如果近15分</span><br><span class="line">钟内的平均负载都很高，就说明系统可能有问题。</span><br><span class="line"></span><br><span class="line">通常，如果系统的负载值超过了2，就说明系统比较繁忙了。马哥私房菜 </span><br></pre></td></tr></table></figure>
<p>第二行显示了进程概要信息——top命令的输出中将进程叫作任务（task）：有多少进程处在运行、休眠、停止或是僵化状态（僵化状态是指进程完成了，但父进程没有响应）。<br>第仨行显示了CPU的概要信息。top根据进程的属主（用户还是系统）和进程的状态（运行、空闲还是等待）将CPU利用率分成几类输出。<br>第四行说的是系统的物理内存：总共有多少内存，当前用了多少，还有多少空闲。<br>第五行后一行说的是同样的信息，不过是针对系统交换空间（如果分配了的话）的状态而言的。<br>最后一部分显示了当前运行中的进程的详细列表，有些列跟ps命令的输出类似。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PID：         进程的ID。                   马哥私房菜 </span><br><span class="line">USER：        进程属主的名字。</span><br><span class="line">PR：          进程的优先级。</span><br><span class="line">NI：          进程的谦让度值。</span><br><span class="line">VIRT：        进程占用的虚拟内存总量。</span><br><span class="line">RES：         进程占用的物理内存总量。</span><br><span class="line">SHR：         进程和其他进程共享的内存总量。</span><br><span class="line">S：           进程的状态（D代表可中断的休眠状态，R代表在运行状态，S代表休眠状态，T代表跟踪状态或停止状态，Z代表僵化状态）。</span><br><span class="line">%CPU：        进程使用的CPU时间比例。</span><br><span class="line">%MEM：        进程使用的内存占可用内存的比例。</span><br><span class="line">TIME+：       自进程启动到目前为止的CPU时间总量。</span><br><span class="line">COMMAND：     进程所对应的命令行名称，也就是启动的程序名。 马哥私房菜 </span><br></pre></td></tr></table></figure>
<p>键入f允许你选择对输出进行排序的字段<br>键入d允许你修改轮询间隔<br>键入q可以退出top  </p>
<h2 id="结束进程"><a href="#结束进程" class="headerlink" title="结束进程"></a>结束进程</h2><p>在Linux中，进程之间通过信号来通信。进程的信号就是预定义好的一个消息，进程能识别它并决定忽略还是作出反应。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1       HUP             挂起</span><br><span class="line">2       INT             中断</span><br><span class="line">3       QUIT            结束运行</span><br><span class="line">9       KILL            无条件终止</span><br><span class="line">11      SEGV            段错误</span><br><span class="line">15      TERM            尽可能终止</span><br><span class="line">17      STOP            无条件停止运行，但不终止</span><br><span class="line">18      TSTP            停止或暂停，但继续在后台运行</span><br><span class="line">19      CONT            在STOP或TSTP之后恢复执行    马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>kill命令<br>kill命令可通过进程ID（PID）给进程发信号。默认情况下，kill命令会向命令行中列出的<br>全部PID发送一个TERM信号。遗憾的是，你只能用进程的PID而不能用命令名  </p>
<p>killall命令<br>killall命令非常强大，它支持通过进程名而不是PID来结束进程。killall命令也支持通配符，这在系统因负载过大而变得很慢时很有用。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># killall http*         # 马哥私房菜 </span><br><span class="line">#</span><br></pre></td></tr></table></figure>
<p>上例中的命令结束了所有以http开头的进程，比如Apache Web服务器的httpd服务。   </p>
<h2 id="挂载存储媒体"><a href="#挂载存储媒体" class="headerlink" title="挂载存储媒体"></a>挂载存储媒体</h2><p>mount命令<br>默认情况下，mount命令会输出当前系统上挂载的 设备列表。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ mount      </span><br><span class="line">/dev/sda2       on      / type ext4 (rw,errors=remount-ro)</span><br><span class="line">proc            on      /proc type proc (rw,noexec,nosuid,nodev)</span><br><span class="line">sysfs           on      /sys type sysfs (rw,noexec,nosuid,nodev)</span><br><span class="line">none            on      /sys/fs/cgroup type tmpfs (rw)</span><br><span class="line">none            on      /sys/fs/fuse/connections type fusectl (rw)</span><br><span class="line">none            on      /sys/kernel/debug type debugfs (rw)</span><br><span class="line">none            on      /sys/kernel/security type securityfs (rw)</span><br><span class="line">udev            on      /dev type devtmpfs (rw,mode=0755)</span><br><span class="line">devpts          on      /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=0620)</span><br><span class="line">tmpfs           on      /run type tmpfs (rw,noexec,nosuid,size=10%,mode=0755)</span><br><span class="line">none            on      /run/lock type tmpfs (rw,noexec,nosuid,nodev,size=5242880)</span><br><span class="line">none            on      /run/shm type tmpfs (rw,nosuid,nodev)</span><br><span class="line">none            on      /run/user type tmpfs (rw,noexec,nosuid,nodev,size=104857600,mode=0755)</span><br><span class="line">none            on      /sys/fs/pstore type pstore (rw)</span><br><span class="line">/dev/sda3       on      /home type ext4 (rw)</span><br><span class="line">/dev/sdb1       on      /home/mamh/share type ext4 (rw)</span><br><span class="line">binfmt_misc     on      /proc/sys/fs/binfmt_misc type binfmt_misc (rw,noexec,nosuid,nodev)</span><br><span class="line">rpc_pipefs      on      /run/rpc_pipefs type rpc_pipefs (rw)</span><br><span class="line">systemd         on      /sys/fs/cgroup/systemd type cgroup (rw,noexec,nosuid,nodev,none,name=systemd)</span><br><span class="line">gvfsd-fuse      on      /run/user/1000/gvfs type fuse.gvfsd-fuse (rw,nosuid,nodev,user=mamh)</span><br></pre></td></tr></table></figure>
<p>mount命令提供如下四部分信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">媒体的设备文件名</span><br><span class="line">媒体挂载到虚拟目录的挂载点</span><br><span class="line">文件系统类型</span><br><span class="line">已挂载媒体的访问状态      马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>手动挂载媒体设备的基本命令   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t type device directory</span><br></pre></td></tr></table></figure>
<p>type参数指定了磁盘被格式化的文件系统类型  </p>
<p>手动将U盘&#x2F;dev&#x2F;sdb1挂载到&#x2F;media&#x2F;disk</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t vfat /dev/sdb1 /media/disk</span><br></pre></td></tr></table></figure>

<p>mount命令的参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-a      挂载/etc/fstab文件中指定的所有文件系统      马哥私房菜 </span><br><span class="line">-f      使mount命令模拟挂载设备，但并不真的挂载</span><br><span class="line">-F      和-a参数一起使用时，会同时挂载所有文件系统</span><br><span class="line">-v      详细模式，将会说明挂载设备的每一步</span><br><span class="line">-I      不启用任何/sbin/mount.filesystem下的文件系统帮助文件</span><br><span class="line">-l      给ext2、ext3或XFS文件系统自动添加文件系统标签</span><br><span class="line">-n      挂载设备，但不注册到/etc/mtab已挂载设备文件中</span><br><span class="line">-p      num 进行加密挂载时，从文件描述符num中获得密码短语</span><br><span class="line">-s      忽略该文件系统不支持的挂载选项</span><br><span class="line">-r      将设备挂载为只读的</span><br><span class="line">-w      将设备挂载为可读写的（默认参数）</span><br><span class="line">-L      label 将设备按指定的label挂载</span><br><span class="line">-U      uuid 将设备按指定的uuid挂载</span><br><span class="line">-O      和-a参数一起使用，限制命令只作用到特定的一组文件系统上</span><br><span class="line">-o      给文件系统添加特定的选项                 马哥私房菜 </span><br></pre></td></tr></table></figure>
<p>-o参数允许在挂载文件系统时添加一些以逗号分隔的额外选项。以下为常用的选项。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ro：以只读形式挂载。</span><br><span class="line">rw：以读写形式挂载。</span><br><span class="line">user：允许普通用户挂载文件系统。</span><br><span class="line">check=none：挂载文件系统时不进行完整性校验。</span><br><span class="line">loop：挂载一个文件。                  马哥私房菜 </span><br></pre></td></tr></table></figure>

<p>mount命令<br>从Linux系统上移除一个可移动设备时，不能直接从系统上移除，而应该先卸载。<br>umount命令的格式非常简单：umount [directory | device ]<br>umount命令支持通过设备文件或者是挂载点来指定要卸载的设备。如果有任何程序正在使用设备上的文件，系统就不会允许你卸载它。  </p>
<h2 id="使用df-命令"><a href="#使用df-命令" class="headerlink" title="使用df 命令"></a>使用df 命令</h2><p>查看所有已挂载磁盘的使用情况  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   设备的设备文件位置；</span><br><span class="line">* 能容纳多少个1024字节大小的块；</span><br><span class="line">* 已用了多少个1024字节大小的块；</span><br><span class="line">* 还有多少个1024字节大小的块可用；</span><br><span class="line">* 已用空间所占的比例；</span><br><span class="line">* 设备挂载到了哪个挂载点上。</span><br></pre></td></tr></table></figure>
<p>-h。它会把输出中的磁盘空间按照用户易读的形式显示，通常用M来替代兆字节，用G替代吉字节  </p>
<h2 id="使用du-命令"><a href="#使用du-命令" class="headerlink" title="使用du 命令"></a>使用du 命令</h2><p>显示某个特定目录（默认情况下是当前目录）的磁盘使用情况<br>-c：显示所有已列出文件总的大小。<br>-h：按用户易读的格式输出大小，即用K替代千字节，用M替代兆字节，用G替代吉字节。<br>-s：显示每个输出参数的总计。  </p>
<h2 id="排序数据"><a href="#排序数据" class="headerlink" title="排序数据"></a>排序数据</h2><p>sort命令  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-b --ignore-leading-blanks 排序时忽略起始的空白</span><br><span class="line">-C --check=quiet 不排序，如果数据无序也不要报告</span><br><span class="line">-c --check 不排序，但检查输入数据是不是已排序；未排序的话，报告</span><br><span class="line">-d --dictionary-order 仅考虑空白和字母，不考虑特殊字符</span><br><span class="line">-f --ignore-case 默认情况下，会将大写字母排在前面；这个参数会忽略大小写</span><br><span class="line">-g --general-number-sort 按通用数值来排序（跟-n不同，把值当浮点数来排序，支持科学计数法表示的值）</span><br><span class="line">-i --ignore-nonprinting 在排序时忽略不可打印字符</span><br><span class="line">-k --key=POS1[,POS2] 排序从POS1位置开始；如果指定了POS2的话，到POS2位置结束</span><br><span class="line">-M --month-sort 用三字符月份名按月份排序</span><br><span class="line">-m --merge 将两个已排序数据文件合并</span><br><span class="line">-n --numeric-sort 按字符串数值来排序（并不转换为浮点数）</span><br><span class="line">-o --output=file 将排序结果写出到指定的文件中</span><br><span class="line">-R --random-sort 按随机生成的散列表的键值排序</span><br><span class="line">--random-source=FILE 指定-R参数用到的随机字节的源文件</span><br><span class="line">-r --reverse 反序排序（升序变成降序）</span><br><span class="line">-S --buffer-size=SIZE 指定使用的内存大小</span><br><span class="line">-s --stable 禁用最后重排序比较</span><br><span class="line">-T --temporary-directory=DIR 指定一个位置来存储临时工作文件</span><br><span class="line">-t --field-separator=SEP 指定一个用来区分键位置的字符</span><br><span class="line">-u --unique 和-c参数一起使用时，检查严格排序；不和-c参数一起用时，仅输出第一例相似的两行</span><br><span class="line">-z --zero-terminated 用NULL字符作为行尾，而不是用换行符</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>-k和-t参数在对按字段分隔的数据进行排序时非常有用，例如&#x2F;etc&#x2F;passwd文件。可以用-t参数来指定字段分隔符，然后用-k参数来指定排序的字段 .  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sort -t &#x27;:&#x27; -k 3 -n /etc/passwd  # 根据用户ID进行数值排序</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">du -sh * | sort -nr # -r参数将结果按降序输出，这样就更容易看到目录下的哪些文件占用空间最多</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="搜索数据"><a href="#搜索数据" class="headerlink" title="搜索数据"></a>搜索数据</h2><p>grep命令  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">grep three file1</span><br><span class="line"></span><br><span class="line">grep t file1</span><br><span class="line"></span><br><span class="line">grep -v t file1</span><br><span class="line"></span><br><span class="line">grep -n t file1</span><br><span class="line"></span><br><span class="line">grep -c t file1</span><br><span class="line"></span><br><span class="line">grep -e t -e f file1</span><br><span class="line"></span><br><span class="line">grep [tf] file1</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>反向搜索（输出不匹配该模式的行），可加-v参数<br>显示匹配模式的行所在的行号，可加-n参数<br>只要知道有多少行含有匹配的模式，可用-c参数.<br>指定多个匹配模式，可用-e参数  </p>
<h2 id="压缩数据"><a href="#压缩数据" class="headerlink" title="压缩数据"></a>压缩数据</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bzip2       .bz2    采用Burrows-Wheeler块排序文本压缩算法和霍夫曼编码</span><br><span class="line">compress    .Z      最初的Unix文件压缩工具，已经快没人用了</span><br><span class="line">gzip        .gz     GNU压缩工具，用Lempel-Ziv编码</span><br><span class="line">zip         .zip    Windows上PKZIP工具的Unix实现</span><br></pre></td></tr></table></figure>
<p>compress 和 uncompress命令来  </p>
<p>gzip：用来压缩文件<br>gzcat：用来查看压缩过的文本文件的内容<br>gunzip：用来解压文件  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gzip myprog  # gzip命令会压缩你在命令行指定的文件</span><br><span class="line"></span><br><span class="line">gzip my*   # 在命令行指定多个文件名甚至用通配符来一次性批量压缩文件。</span><br></pre></td></tr></table></figure>

<h2 id="归档数据"><a href="#归档数据" class="headerlink" title="归档数据"></a>归档数据</h2><p>tar命令  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-A --concatenate 将一个已有tar归档文件追加到另一个已有tar归档文件</span><br><span class="line">-c --create 创建一个新的tar归档文件</span><br><span class="line">-d --diff 检查归档文件和文件系统的不同之处</span><br><span class="line">--delete 从已有tar归档文件中删除</span><br><span class="line">-r --append 追加文件到已有tar归档文件末尾</span><br><span class="line">-t --list 列出已有tar归档文件的内容</span><br><span class="line">-u --update 将比tar归档文件中已有的同名文件新的文件追加到该tar归档文件中</span><br><span class="line">-x --extract 从已有tar归档文件中提取文件</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-C dir 切换到指定目录</span><br><span class="line">-f file 输出结果到文件或设备file</span><br><span class="line">-j 将输出重定向给bzip2命令来压缩内容</span><br><span class="line">-p 保留所有文件权限</span><br><span class="line">-v 在处理文件时显示文件</span><br><span class="line">-z 将输出重定向给gzip命令来压缩内容</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf test.tar test/ test2/  # 创建了名为test.tar的归档文件，含有test和test2目录内容</span><br><span class="line"></span><br><span class="line">tar -tf test.tar  # 列出tar文件test.tar的内容（但并不提取文件</span><br><span class="line"></span><br><span class="line">tar -xvf test.tar  # 从tar文件test.tar中提取内容。如果tar文件是从一个目录结构创建的，那整个目录结构都会在当前目录下重新创建。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="第5-章-理解shell"><a href="#第5-章-理解shell" class="headerlink" title="第5 章 理解shell"></a>第5 章 理解shell</h1><p>本章内容  </p>
<ul>
<li>探究shell的类型  </li>
<li>理解shell的父&#x2F;子关系  </li>
<li>别出心裁的子shell用法  </li>
<li>探究内建的shell命令</li>
</ul>
<h2 id="shell-的类型"><a href="#shell-的类型" class="headerlink" title="shell 的类型"></a>shell 的类型</h2><p>&#x2F;bin&#x2F;bash<br>&#x2F;bin&#x2F;sh<br>&#x2F;bin&#x2F;dash–</p>
<h2 id="进程列表"><a href="#进程列表" class="headerlink" title="进程列表"></a>进程列表</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(pwd ; ls ; cd /etc ; pwd ; cd ; pwd ; ls)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; pwd ; ls ; cd /etc ; pwd ; cd ; pwd ; ls ; echo $BASH_SUBSHELL; &#125;</span><br></pre></td></tr></table></figure>
<p>小括号进程列表会在一个子shell中执行。花括号的不会。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep 3000&amp;</span><br></pre></td></tr></table></figure>
<p>使用 &amp; 把一个命令放到后台执行。通过jobs可以列出后台进程。<br>fg和bg的使用  </p>
<h2 id="内建命令-x2F-外部命令"><a href="#内建命令-x2F-外部命令" class="headerlink" title="内建命令&#x2F;外部命令"></a>内建命令&#x2F;外部命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">which ps</span><br><span class="line"></span><br><span class="line">type -a ps</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>命令历史 history<br>使用 ！！ 快速执行上次的命令<br>使用 ！数字  快速执行history历史中对应标号的那个命令  </p>
<p>alias命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">alias egrep=&#x27;egrep --color=auto&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color=auto&#x27;</span><br><span class="line">alias grep=&#x27;grep --color=auto&#x27;</span><br><span class="line">alias l=&#x27;ls -CF&#x27;</span><br><span class="line">alias la=&#x27;ls -A&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="第6-章-使用Linux-环境变量"><a href="#第6-章-使用Linux-环境变量" class="headerlink" title="第6 章 使用Linux 环境变量"></a>第6 章 使用Linux 环境变量</h1><p>本章内容  </p>
<ul>
<li>什么是环境变量  </li>
<li>创建自己的局部变量  </li>
<li>删除环境变量  </li>
<li>默认shell环境变量  </li>
<li>设置PATH环境变量  </li>
<li>定位环境文件  </li>
<li>数组变量</li>
</ul>
<h2 id="什么是环境变量"><a href="#什么是环境变量" class="headerlink" title="什么是环境变量"></a>什么是环境变量</h2><p>bash shell用一个叫作环境变量（environment variable）的特性来存储有关shell会话和工作环<br>境的信息（这也是它们被称作环境变量的原因）。这项特性允许你在内存中存储数据，以便程序<br>或shell中运行的脚本能够轻松访问到它们。  </p>
<p>在bash shell中，环境变量分为两类：全局变量, 局部变量  </p>
<p>可以使用env或printenv命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ printenv</span><br><span class="line">HOSTNAME=server01.class.edu</span><br><span class="line">SELINUX_ROLE_REQUESTED=</span><br><span class="line">TERM=xterm</span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">HISTSIZE=1000</span><br><span class="line">[...]</span><br><span class="line">HOME=/home/Christine</span><br><span class="line">LOGNAME=Christine</span><br><span class="line">[...]</span><br><span class="line">G_BROKEN_FILENAMES=1</span><br><span class="line">_=/usr/bin/printenv</span><br></pre></td></tr></table></figure>


<p>可以用printenv打印单独的某一个，env就不行。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ printenv HOME</span><br><span class="line">/home/Christine</span><br><span class="line">$</span><br><span class="line">$ env HOME</span><br><span class="line">env: HOME: No such file or directory</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>也可以使用echo显示变量的,在这种情况下引用某个环境变量的时候，必须在变量前面加上一个美元符（$）。  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ echo $HOME</span><br><span class="line">/home/Christine</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>局部环境变量只能在定义它们的进程中可见.  </p>
<p>set命令会显示为某个特定进程设置的所有环境变量，包括局部变量、全局变量以及用户定义变量.  </p>
<p>命令env、printenv和set之间的差异很细微。<br>set命令会显示出全局变量、局部变量以及用户定义变量。  它还会按照字母顺序对结果进行排序。<br>env和printenv命令同set命令的区别在于前两个命令不会对变量排序，也不会输出局部变量和用户定义变量。在这种情况下，env和printenv的输出是重复的。</p>
<p>不过env命令有一个printenv没有的功能，这使得它要更有用一些。</p>
<p>env - run a program in a modified environment<br>env可以用来设置某个环境变量来给某个命令</p>
<p>printenv - print all or part of environment<br>这个仅仅是打印环境变量  </p>
<h2 id="设置用户定义变量"><a href="#设置用户定义变量" class="headerlink" title="设置用户定义变量"></a>设置用户定义变量</h2><h3 id="设置局部变量"><a href="#设置局部变量" class="headerlink" title="设置局部变量"></a>设置局部变量</h3><p>一旦启动了bash shell（或者执行一个shell脚本），就能创建在这个shell进程内可见的局部变<br>量了。可以通过等号给环境变量赋值，值可以是数值或字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line"></span><br><span class="line">$ my_variable=Hello    <span class="comment"># 记住，变量名、等号和值之间没有空格，这一点非常重要</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">Hello</span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>现在每次引用my_variable 环境变量的值，只要通过$my_variable引用即可。</p>
<p>如果要给变量赋一个含有空格的字符串值，必须用单引号来界定字符串的首和尾。<br>没有单引号的话，bash shell会以为下一个词是另一个要执行的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ my_variable=Hello World</span><br><span class="line">-bash: World: <span class="built_in">command</span> not found</span><br><span class="line">$</span><br><span class="line">$ my_variable=<span class="string">&quot;Hello World&quot;</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">Hello World</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>所有的环境变量名均使用大写字母，这是bash shell的标准惯例。<br>如果是你自己创建的局部变量或是shell脚本，请使用小写字母。<br>变量名区分大小写。在涉及用户定义的局部变量时坚持使用小写字母，这能够避免重新定义系统环境变量可能带来的灾难。</p>
<p>记住，变量名、等号和值之间没有空格，这一点非常重要</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ my_variable = <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">-bash: my_variable: <span class="built_in">command</span> not found</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>设置了局部环境变量后，就能在shell进程的任何地方使用它了。但是，如果生成了另外一个shell，它在子shell中就不可用。 后续我们介绍export让其在子shell中可用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ my_variable=<span class="string">&quot;Hello World&quot;</span></span><br><span class="line">$</span><br><span class="line">$ bash</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">Hello World</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>在这个例子中生成了一个子shell。在子shell中无法使用用户定义变量my_variable。通过命<br>令echo $my_variable所返回的空行就能够证明这一点。当你退出子shell并回到原来的shell时，<br>这个局部环境变量依然可用。</p>
<p>类似地，如果你在子进程中设置了一个局部变量，那么一旦你退出了子进程，那个局部环境<br>变量就不可用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_child_variable</span>    <span class="comment"># 这个是在父shell中执行的</span></span><br><span class="line">$ bash                       <span class="comment"># 进入子shell</span></span><br><span class="line">$</span><br><span class="line">$ my_child_variable=<span class="string">&quot;Hello Little World&quot;</span>  <span class="comment"># 在子shell中设置变量值</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_child_variable</span>    <span class="comment"># 子shell中可以打印变量值</span></span><br><span class="line">Hello Little World</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_child_variable</span>   <span class="comment"># 退出子shell后，这个变量就消失了</span></span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>当我们回到父shell时，子shell中设置的局部变量就不存在了。</p>
<h3 id="exprot-设置全局环境变量"><a href="#exprot-设置全局环境变量" class="headerlink" title="exprot 设置全局环境变量"></a>exprot 设置全局环境变量</h3><p>创建全局环境变量的方法是先创建一个局部环境变量，然后再把它导出到全局环境中。这个过程通过export命令来完成，变量名前面不需要加$。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ my_variable=<span class="string">&quot;I am Global now&quot;</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">export</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ bash</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>修改子shell中全局环境变量并不会影响到父shell中该变量的值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ my_variable=<span class="string">&quot;I am Global now&quot;</span></span><br><span class="line">$ <span class="built_in">export</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ bash</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ my_variable=<span class="string">&quot;Null&quot;</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">Null</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在定义并导出变量my_variable后，bash命令启动了一个子shell。在这个子shell中能够正<br>确显示出全局环境变量my_variable的值。子shell随后改变了这个变量的值。但是这种改变仅在<br>子shell中有效，并不会被反映到父shell中。</p>
<p>子shell甚至无法使用export命令改变父shell中全局环境变量的值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ my_variable=<span class="string">&quot;I am Global now&quot;</span></span><br><span class="line">$ <span class="built_in">export</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ bash</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ my_variable=<span class="string">&quot;Null&quot;</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">export</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">Null</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>尽管子shell重新定义并导出了变量my_variable，但父shell中的my_variable变量依然保<br>留着原先的值。</p>
<h3 id="unset-删除环境变量"><a href="#unset-删除环境变量" class="headerlink" title="unset 删除环境变量"></a>unset 删除环境变量</h3><p>当然，既然可以创建新的环境变量，自然也能删除已经存在的环境变量。可以用unset命令<br>完成这个操作。在unset命令中引用环境变量时，记住不要使用$。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">unset</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在涉及环境变量名时，什么时候该使用$，什么时候不该使用$，实在让人摸不着头脑。<br>记住一点就行了：如果要用到变量，使用$；如果要操作变量，不使用$。这条规则的一<br>个例外就是使用printenv显示某个变量的值。</p>
<p>在处理全局环境变量时，事情就有点棘手了。如果你是在子进程中删除了一个全局环境变量，<br>这只对子进程有效。该全局环境变量在父进程中依然可用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ my_variable=<span class="string">&quot;I am Global now&quot;</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">export</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ bash</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">unset</span> my_variable</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$my_variable</span></span><br><span class="line">I am Global now</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>和修改变量一样，在子shell中删除全局变量后，你无法将效果反映到父shell中。</p>
<h2 id="默认的shell-环境变量"><a href="#默认的shell-环境变量" class="headerlink" title="默认的shell 环境变量"></a>默认的shell 环境变量</h2><p>默认情况下，bash shell会用一些特定的环境变量来定义系统环境。这些变量在你的Linux系<br>统上都已经设置好了，只管放心使用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bash shell支持的Bourne变量 ，列出了bash shell提供的与Unix Bourne shell兼容的环境变量</span></span><br><span class="line"></span><br><span class="line">CDPATH      冒号分隔的目录列表，作为<span class="built_in">cd</span>命令的搜索路径</span><br><span class="line">HOME        当前用户的主目录</span><br><span class="line">IFS         shell用来将文本字符串分割成字段的一系列字符</span><br><span class="line">MAIL        当前用户收件箱的文件名（bash shell会检查这个文件，看看有没有新邮件）</span><br><span class="line">MAILPATH    冒号分隔的当前用户收件箱的文件名列表（bash shell会检查列表中的每个文件，看看有没有新邮件）</span><br><span class="line">OPTARG      <span class="built_in">getopts</span>命令处理的最后一个选项参数值</span><br><span class="line">OPTIND      <span class="built_in">getopts</span>命令处理的最后一个选项参数的索引号</span><br><span class="line">PATH        shell查找命令的目录列表，由冒号分隔</span><br><span class="line">PS1         shell命令行界面的主提示符</span><br><span class="line">PS2         shell命令行界面的次提示符</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bash shell环境变量</span></span><br><span class="line"></span><br><span class="line">BASH                当前shell实例的全路径名</span><br><span class="line">BASH_ALIASES        含有当前已设置别名的关联数组</span><br><span class="line">BASH_ARGC           含有传入子函数或shell脚本的参数总数的数组变量</span><br><span class="line">BASH_ARCV           含有传入子函数或shell脚本的参数的数组变量</span><br><span class="line">BASH_CMDS           关联数组，包含shell执行过的命令的所在位置</span><br><span class="line">BASH_COMMAND        shell正在执行的命令或马上就执行的命令</span><br><span class="line">BASH_ENV            设置了的话，每个bash脚本会在运行前先尝试运行该变量定义的启动文件</span><br><span class="line">BASH_EXECUTION_STRING 使用bash -c选项传递过来的命令</span><br><span class="line">BASH_LINENO         含有当前执行的shell函数的源代码行号的数组变量</span><br><span class="line">BASH_REMATCH        只读数组，在使用正则表达式的比较运算符=~进行肯定匹配（positive match）时， 包含了匹配到的模式和子模式</span><br><span class="line">BASH_SOURCE         含有当前正在执行的shell函数所在源文件名的数组变量</span><br><span class="line">BASH_SUBSHELL       当前子shell环境的嵌套级别（初始值是0）</span><br><span class="line">BASH_VERSINFO       含有当前运行的bash shell的主版本号和次版本号的数组变量</span><br><span class="line">BASH_VERSION        当前运行的bash shell的版本号</span><br><span class="line">BASH_XTRACEFD       若设置成了有效的文件描述符（0、1、2），则<span class="string">&#x27;set -x&#x27;</span>调试选项生成的跟踪输出</span><br><span class="line">可被重定向。通常用来将跟踪输出到一个文件中</span><br><span class="line">BASHOPTS            当前启用的bash shell选项的列表</span><br><span class="line">BASHPID             当前bash进程的PID</span><br><span class="line">COLUMNS             当前bash shell实例所用终端的宽度</span><br><span class="line">COMP_CWORD COMP_WORDS变量的索引值，后者含有当前光标的位置</span><br><span class="line">COMP_LINE           当前命令行</span><br><span class="line">COMP_POINT          当前光标位置相对于当前命令起始的索引</span><br><span class="line">COMP_KEY            用来调用shell函数补全功能的最后一个键</span><br><span class="line">COMP_TYPE           一个整数值，表示所尝试的补全类型，用以完成shell函数补全</span><br><span class="line">COMP_WORDBREAKS Readline库中用于单词补全的词分隔字符</span><br><span class="line">COMP_WORDS          含有当前命令行所有单词的数组变量</span><br><span class="line">COMPREPLY</span><br><span class="line">COPROC</span><br><span class="line">含有由shell函数生成的可能填充代码的数组变量</span><br><span class="line">占用未命名的协进程的I/O文件描述符的数组变量</span><br><span class="line">DIRSTACK            含有目录栈当前内容的数组变量</span><br><span class="line">EMACS               设置为<span class="string">&#x27;t&#x27;</span>时，表明emacs shell缓冲区正在工作，而行编辑功能被禁止</span><br><span class="line">ENV                 如果设置了该环境变量，在bash shell脚本运行之前会先执行已定义的启动文件（仅用于当bash shell以POSIX模式被调用时）</span><br><span class="line">EUID                当前用户的有效用户ID（数字形式）</span><br><span class="line">FCEDIT              供<span class="built_in">fc</span>命令使用的默认编辑器</span><br><span class="line">FIGNORE             在进行文件名补全时可以忽略后缀名列表，由冒号分隔</span><br><span class="line">FUNCNAME            当前执行的shell函数的名称</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FUNCNEST            当设置成非零值时，表示所允许的最大函数嵌套级数（一旦超出，当前命令即被终止）</span><br><span class="line">GLOBIGNORE          冒号分隔的模式列表，定义了在进行文件名扩展时可以忽略的一组文件名</span><br><span class="line">GROUPS              含有当前用户属组列表的数组变量</span><br><span class="line">histchars           控制历史记录扩展，最多可有3个字符</span><br><span class="line">HISTCMD             当前命令在历史记录中的编号</span><br><span class="line">HISTCONTROL         控制哪些命令留在历史记录列表中</span><br><span class="line">HISTFILE            保存shell历史记录列表的文件名（默认是.bash_history）</span><br><span class="line">HISTFILESIZE        最多在历史文件中存多少行</span><br><span class="line">HISTTIMEFORMAT      如果设置了且非空，就用作格式化字符串，以显示bash历史中每条命令的时间戳                   </span><br><span class="line">HISTIGNORE          由冒号分隔的模式列表，用来决定历史文件中哪些命令会被忽略</span><br><span class="line">HISTSIZE            最多在历史文件中存多少条命令</span><br><span class="line">HOSTFILE            shell在补全主机名时读取的文件名称</span><br><span class="line">HOSTNAME            当前主机的名称</span><br><span class="line">HOSTTYPE            当前运行bash shell的机器</span><br><span class="line">IGNOREEOF           shell在退出前必须收到连续的EOF字符的数量（如果这个值不存在，默认是1）</span><br><span class="line">INPUTRC             Readline初始化文件名（默认是.inputrc）</span><br><span class="line">LANG                shell的语言环境类别</span><br><span class="line">LC_ALL              定义了一个语言环境类别，能够覆盖LANG变量</span><br><span class="line">LC_COLLATE          设置对字符串排序时用的排序规则</span><br><span class="line">LC_CTYPE            决定如何解释出现在文件名扩展和模式匹配中的字符</span><br><span class="line">LC_MESSAGES         在解释前面带有$的双引号字符串时，该环境变量决定了所采用的语言环境设置</span><br><span class="line">LC_NUMERIC          决定着格式化数字时采用的语言环境设置</span><br><span class="line">LINENO              当前执行的脚本的行号</span><br><span class="line">LINES               定义了终端上可见的行数</span><br><span class="line">MACHTYPE            用“CPU公司系统”（CPU-company-system）格式定义的系统类型</span><br><span class="line">MAPFILE             一个数组变量，当<span class="built_in">mapfile</span>命令未指定数组变量作为参数时，它存储了<span class="built_in">mapfile</span>所读入的文本</span><br><span class="line">MAILCHECK           shell查看新邮件的频率（以秒为单位，默认值是60）</span><br><span class="line">OLDPWD              shell之前的工作目录</span><br><span class="line">OPTERR              设置为1时，bash shell会显示<span class="built_in">getopts</span>命令产生的错误</span><br><span class="line">OSTYPE              定义了shell所在的操作系统</span><br><span class="line">PIPESTATUS          含有前台进程的退出状态列表的数组变量</span><br><span class="line">POSIXLY_CORRECT     设置了的话，bash会以POSIX模式启动</span><br><span class="line">PPID bash shell     父进程的PID</span><br><span class="line">PROMPT_COMMAND      设置了的话，在命令行主提示符显示之前会执行这条命令</span><br><span class="line">PROMPT_DIRTRIM      用来定义当启用了\w或\W提示符字符串转义时显示的尾部目录名的数量。被删除的目录名会用一组英文句点替换</span><br><span class="line">PS3                 select命令的提示符</span><br><span class="line">PS4                 如果使用了bash的-x选项，在命令行之前显示的提示信息</span><br><span class="line">PWD                 当前工作目录</span><br><span class="line">RANDOM              返回一个0～32767的随机数（对其的赋值可作为随机数生成器的种子）</span><br><span class="line">READLINE_LINE       当使用<span class="built_in">bind</span> –x命令时，存储Readline缓冲区的内容</span><br><span class="line">READLINE_POINT      当使用<span class="built_in">bind</span> –x命令时，表示Readline缓冲区内容插入点的当前位置</span><br><span class="line">REPLY               <span class="built_in">read</span>命令的默认变量</span><br><span class="line">SECONDS             自从shell启动到现在的秒数（对其赋值将会重置计数器）</span><br><span class="line">SHELL               bash shell的全路径名</span><br><span class="line">SHELLOPTS           已启用bash shell选项列表，列表项之间以冒号分隔</span><br><span class="line">SHLVL               shell的层级；每次启动一个新bash shell，该值增加1</span><br><span class="line">TIMEFORMAT          指定了shell的时间显示格式</span><br><span class="line">TMOUT               select和<span class="built_in">read</span>命令在没输入的情况下等待多久（以秒为单位）。默认值为0，表示无限长</span><br><span class="line">TMPDIR              目录名，保存bash shell创建的临时文件</span><br><span class="line">UID                 当前用户的真实用户ID（数字形式）</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>你可能已经注意到，不是所有的默认环境变量都会在运行set命令时列出。尽管这些都是默<br>认环境变量，但并不是每一个都必须有一个值</p>
<h2 id="设置PATH-环境变量"><a href="#设置PATH-环境变量" class="headerlink" title="设置PATH 环境变量"></a>设置PATH 环境变量</h2><p>当你在shell命令行界面中输入一个外部命令时 ，shell必须搜索系统来找到对应的程序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:</span><br><span class="line">/sbin:/bin:/usr/games:/usr/local/games</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出中显示了有8个可供shell用来查找命令和程序。PATH中的目录使用冒号分隔。<br>如果命令或者程序的位置没有包括在PATH变量中，那么如果不使用绝对路径的话，shell是没<br>法找到的。如果shell找不到指定的命令或程序，它会产生一个错误信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ myprog</span><br><span class="line">-bash: myprog: <span class="built_in">command</span> not found</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>问题是，应用程序放置可执行文件的目录常常不在PATH环境变量所包含的目录中。解决的办法是保证PATH环境变量包含了所有存放应用程序的目录。<br>可以把新的搜索目录添加到现有的PATH环境变量中，无需从头定义。PATH中各个目录之间<br>是用冒号分隔的。你只需引用原来的PATH值，然后再给这个字符串添加新目录就行了。可以参考下面的例子。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:</span><br><span class="line">/sbin:/bin:/usr/games:/usr/local/games</span><br><span class="line">$</span><br><span class="line">$ PATH=<span class="variable">$PATH</span>:/home/christine/Scripts</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/</span><br><span class="line">games:/usr/local/games:/home/christine/Scripts</span><br><span class="line">$</span><br><span class="line">$ myprog</span><br><span class="line">The factorial of 5 is 120.</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>窍门 如果希望子shell也能找到你的程序的位置，一定要记得把修改后的PATH环境变量导出。 exort PATH.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ PATH=$PATH:.</span><br><span class="line">$</span><br><span class="line">$ cd /home/christine/Old_Scripts</span><br><span class="line">$</span><br><span class="line">$ myprog2</span><br><span class="line">The factorial of 6 is 720</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将单点符也加入PATH环境变量。</p>
<h2 id="定位系统环境变量"><a href="#定位系统环境变量" class="headerlink" title="定位系统环境变量"></a>定位系统环境变量</h2><p>启动bash shell有3种方式<br>登录时作为默认登录shell<br>作为非登录shell的交互式shell<br>作为运行脚本的非交互shell  </p>
<p>当你登录Linux系统时，bash shell会作为登录shell启动。登录shell会从5个不同的启动文件里读取命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/profile</span><br><span class="line">$HOME/.bash_profile</span><br><span class="line">$HOME/.bash_login</span><br><span class="line">$HOME/.profile</span><br><span class="line">$HOME/.bashrc</span><br></pre></td></tr></table></figure>
<p>&#x2F;etc&#x2F;profile文件是系统上默认的bash shell的主启动文件。系统上的每个用户登录时都会执行这个启动文件。<br>&#x2F;etc&#x2F;profile文件都用到了同一个特性：for语句。它用来迭代&#x2F;etc&#x2F;profile.d目录  </p>
<p>剩下的启动文件都起着同一个作用：提供一个用户专属的启动文件来定义该用户所用到的环境变量。大多数Linux发行版只用这四个启动文件中的一到两个.<br>shell会按照按照下列顺序，运行第一个被找到的文件，余下的则被忽略：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$HOME/.bash_profile  </span><br><span class="line">$HOME/.bash_login  </span><br><span class="line">$HOME/.profile  </span><br></pre></td></tr></table></figure>

<p>如果你的bash shell不是登录系统时启动的（比如是在命令行提示符下敲入bash时启动），那<br>么你启动的shell叫作交互式shell。<br>如果bash是作为交互式shell启动的，它就不会访问&#x2F;etc&#x2F;profile文件，只会检查用户HOME目录<br>中的.bashrc文件。  </p>
<p>是非交互式shell。系统执行shell脚本时用的就是这种shell。不同的地方在于它<br>没有命令行提示符。但是当你在系统上运行脚本时，也许希望能够运行一些特定启动的命令。<br>为了处理这种情况，bash shell提供了BASH_ENV环境变量。当shell启动一个非交互式shell进<br>程时，它会检查这个环境变量来查看要执行的启动文件。如果有指定的文件，shell会执行该文件<br>里的命令，这通常包括shell脚本变量设置。  </p>
<p>那如果BASH_ENV变量没有设置，shell脚本到哪里去获得它们的环境变量呢？别忘了有些<br>shell脚本是通过启动一个子shell来执行的（参见第5章）。子shell可以继承父shell导出过的变量。<br>举例来说，如果父shell是登录shell，在&#x2F;etc&#x2F;profile、&#x2F;etc&#x2F;profile.d&#x2F;*.sh和$HOME&#x2F;.bashrc文件中<br>设置并导出了变量，用于执行脚本的子shell就能够继承这些变量。<br>要记住，由父shell设置但并未导出的变量都是局部变量。子shell无法继承局部变量 。<br>对于那些不启动子shell的脚本，变量已经存在于当前shell中了。所以就算没有设置<br>BASH_ENV，也可以使用当前shell的局部变量和全局变量。  </p>
<p>对全局环境变量来说（Linux系统中所有用户都需要使用的变量），可能更倾向于将新的或修<br>改过的变量设置放在&#x2F;etc&#x2F;profile文件中，但这可不是什么好主意。如果你升级了所用的发行版  ，<br>这个文件也会跟着更新，那你所有定制过的变量设置可就都没有了。<br>最好是在&#x2F;etc&#x2F;profile.d目录中创建一个以.sh结尾的文件。把所有新的或修改过的全局环境变<br>量设置放在这个文件中。   </p>
<p>存储个人用户永久性<code>bash shell</code>变量的地方是<code>$HOME/.bashrc</code>文件。这一 点适用于所有类型的shell进程。<br>但如果设置了BASH_ENV变量，那么记住，除非它指向的是$HOME&#x2F;.bashrc，否则你应该将非交互式shell的用户变量放在别的地方。   </p>
<h2 id="数组变量"><a href="#数组变量" class="headerlink" title="数组变量"></a>数组变量</h2><p>数组是能够存储多个值的变量。这些值可以单独引用，也可以作为整个数组来引用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mytest=(one two three four five)</span><br><span class="line">$</span><br></pre></td></tr></table></figure>

<p>没什么特别的地方。如果你想把数组像普通的环境变量那样显示，你会失望的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ echo $mytest</span><br><span class="line">one</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>只有数组的第一个值显示出来了。要引用一个单独的数组元素，就必须用代表它在数组中位<br>置的数值索引值。索引值要用方括号括起来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ echo $&#123;mytest[2]&#125;</span><br><span class="line">three</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>要显示整个数组变量，可用星号作为通配符放在索引值的位置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ echo $&#123;mytest[*]&#125;</span><br><span class="line">one two three four five</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>也可以改变某个索引值位置的值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mytest[2]=seven</span><br><span class="line">$</span><br><span class="line">$ echo $&#123;mytest[*]&#125;</span><br><span class="line">one two seven four five</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>甚至能用unset命令删除数组中的某个值，但是要小心，这可能会有点复杂。看下面的例子。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ unset mytest[2]</span><br><span class="line">$</span><br><span class="line">$ echo $&#123;mytest[*]&#125;</span><br><span class="line">one two four five</span><br><span class="line">$</span><br><span class="line">$ echo $&#123;mytest[2]&#125;</span><br><span class="line"></span><br><span class="line">$ echo $&#123;mytest[3]&#125;</span><br><span class="line">four</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>这个例子用unset命令删除在索引值为2的位置上的值。显示整个数组时，看起来像是索引<br>里面已经没这个索引了。但当专门显示索引值为2的位置上的值时，就能看到这个位置是空的。<br>最后，可以在unset命令后跟上数组名来删除整个数组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ unset mytest</span><br><span class="line">$</span><br><span class="line">$ echo $&#123;mytest[*]&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure>




<h1 id="第7-章-理解Linux-文件权限"><a href="#第7-章-理解Linux-文件权限" class="headerlink" title="第7 章 理解Linux 文件权限"></a>第7 章 理解Linux 文件权限</h1><p>本章内容  </p>
<ul>
<li>理解Linux的安全性  </li>
<li>解读文件权限  </li>
<li>使用Linux组</li>
</ul>
<p>用户权限是通过创建用户时分配的用户ID（User ID，通常缩写为UID）来跟踪的。<br>UID是数值，每个用户都有唯一的UID，但在登录系统时用的不是UID，而是登录名。</p>
<h2 id="x2F-etc-x2F-passwd-文件"><a href="#x2F-etc-x2F-passwd-文件" class="headerlink" title="&#x2F;etc&#x2F;passwd 文件"></a>&#x2F;etc&#x2F;passwd 文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/passwd                                                                                                              [mamh@10.0.63.43 ] 18-04-23 17:25  /home/mamh/work/jenkins-core</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br><span class="line">lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin</span><br><span class="line">mail:x:8:8:mail:/var/mail:/usr/sbin/nologin</span><br><span class="line">news:x:9:9:news:/var/spool/news:/usr/sbin/nologin</span><br><span class="line">uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin</span><br><span class="line">proxy:x:13:13:proxy:/bin:/usr/sbin/nologin</span><br><span class="line">www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin</span><br><span class="line">backup:x:34:34:backup:/var/backups:/usr/sbin/nologin</span><br><span class="line">list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin</span><br><span class="line">irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin</span><br><span class="line">gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin</span><br><span class="line">nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin</span><br><span class="line">syslog:x:101:104::/home/syslog:/bin/false</span><br><span class="line">messagebus:x:102:106::/var/run/dbus:/bin/false</span><br><span class="line">usbmux:x:103:46:usbmux daemon,,,:/home/usbmux:/bin/false</span><br><span class="line">dnsmasq:x:104:65534:dnsmasq,,,:/var/lib/misc:/bin/false</span><br><span class="line">avahi-autoipd:x:105:113:Avahi autoip daemon,,,:/var/lib/avahi-autoipd:/bin/false</span><br><span class="line">kernoops:x:106:65534:Kernel Oops Tracking Daemon,,,:/:/bin/false</span><br><span class="line">rtkit:x:107:114:RealtimeKit,,,:/proc:/bin/false</span><br><span class="line">saned:x:108:115::/var/lib/saned:/bin/false</span><br><span class="line">whoopsie:x:109:116::/nonexistent:/bin/false</span><br><span class="line">speech-dispatcher:x:110:29:Speech Dispatcher,,,:/var/run/speech-dispatcher:/bin/sh</span><br><span class="line">avahi:x:111:117:Avahi mDNS daemon,,,:/var/run/avahi-daemon:/bin/false</span><br><span class="line">lightdm:x:112:118:Light Display Manager:/var/lib/lightdm:/bin/false</span><br><span class="line">colord:x:113:121:colord colour management daemon,,,:/var/lib/colord:/bin/false</span><br><span class="line">hplip:x:114:7:HPLIP system user,,,:/var/run/hplip:/bin/false</span><br><span class="line">pulse:x:115:122:PulseAudio daemon,,,:/var/run/pulse:/bin/false</span><br><span class="line">sshd:x:116:65534::/var/run/sshd:/usr/sbin/nologin</span><br><span class="line">systemd-timesync:x:118:127:systemd Time Synchronization,,,:/run/systemd:/bin/false</span><br><span class="line">systemd-network:x:119:128:systemd Network Management,,,:/run/systemd/netif:/bin/false</span><br><span class="line">systemd-resolve:x:120:129:systemd Resolver,,,:/run/systemd/resolve:/bin/false</span><br><span class="line">systemd-bus-proxy:x:121:130:systemd Bus Proxy,,,:/run/systemd:/bin/false</span><br><span class="line">uuidd:x:100:101::/run/uuidd:/bin/false</span><br><span class="line">_apt:x:122:65534::/nonexistent:/bin/false</span><br><span class="line">sddm:x:123:132:Simple Desktop Display Manager:/var/lib/sddm:/bin/false</span><br><span class="line">ntop:x:124:133::/var/lib/ntop:/bin/false</span><br><span class="line">statd:x:125:65534::/var/lib/nfs:/bin/false</span><br><span class="line">ftp:x:126:134:ftp daemon,,,:/srv/ftp:/bin/false</span><br><span class="line">postgres:x:127:135:PostgreSQL administrator,,,:/var/lib/postgresql:/bin/bash</span><br><span class="line">mysql:x:128:137:MySQL Server,,,:/nonexistent:/bin/false</span><br><span class="line">Debian-exim:x:129:138::/var/spool/exim4:/bin/false</span><br><span class="line">tomcat8:x:130:139::/usr/share/tomcat8:/bin/false</span><br><span class="line">tomcat7:x:131:140::/usr/share/tomcat7:/bin/false</span><br><span class="line">jenkins:x:117:125:Jenkins,,,:/var/lib/jenkins:/bin/bash</span><br><span class="line">gerrit:x:1001:1001::/var/gerrit:</span><br><span class="line">mamh:x:1000:1000::/home/mamh:/usr/bin/zsh</span><br><span class="line">postfix:x:132:141::/var/spool/postfix:/bin/false</span><br><span class="line">redis:x:133:143::/var/lib/redis:/bin/false</span><br><span class="line">gitlab-www:x:999:999::/var/opt/gitlab/nginx:/bin/false</span><br><span class="line">git:x:998:998::/var/opt/gitlab:/bin/sh</span><br><span class="line">gitlab-redis:x:997:997::/var/opt/gitlab/redis:/bin/false</span><br><span class="line">gitlab-psql:x:996:996::/var/opt/gitlab/postgresql:/bin/sh</span><br><span class="line">gitlab-prometheus:x:995:995::/var/opt/gitlab/prometheus:/bin/sh</span><br><span class="line">nexus:x:1002:1002:,,,:/home/nexus:/bin/bash</span><br><span class="line">jetty:x:134:144::/usr/share/jetty9:/bin/false</span><br></pre></td></tr></table></figure>

<p>root用户账户是Linux系统的管理员，固定分配给它的UID是0<br>Linux系统会为各种各样的功能创建不同的用户账户，而这些账户并不是真的用户。这些账户叫作系统账户，是系统上运行的各种服务进程访问资源用的特殊账户.  </p>
<p>&#x2F;etc&#x2F;passwd文件的字段包含了如下信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">登录用户名</span><br><span class="line">用户密码</span><br><span class="line">用户账户的UID（数字形式）</span><br><span class="line">用户账户的组ID（GID）（数字形式）</span><br><span class="line">用户账户的文本描述（称为备注字段）</span><br><span class="line">用户HOME目录的位置</span><br><span class="line">用户的默认shell</span><br></pre></td></tr></table></figure>
<p>&#x2F;etc&#x2F;passwd文件中的密码字段都被设置成了x，这并不是说所有的用户账户都用相同的密码。<br>在早期的Linux上，&#x2F;etc&#x2F;passwd文件里有加密后的用户密码。但鉴于很多程序都需要访问<br>&#x2F;etc&#x2F;passwd文件获取用户信息，这就成了一个安全隐患。随着用来破解加密密码的工具的不断演<br>进，用心不良的人开始忙于破解存储在&#x2F;etc&#x2F;passwd文件中的密码。Linux开发人员需要重新考虑这<br>个策略。<br>现在，绝大多数Linux系统都将用户密码保存在另一个单独的文件中（叫作shadow文件，位置<br>在&#x2F;etc&#x2F;shadow）。只有特定的程序（比如登录程序）才能访问这个文件。</p>
<p>&#x2F;etc&#x2F;passwd是一个标准的文本文件。你可以用任何文本编辑器在&#x2F;etc&#x2F;password文件里直接手动<br>进行用户管理（比如添加、修改或删除用户账户）。但这样做极其危险。如果&#x2F;etc&#x2F;passwd文件出现<br>损坏，系统就无法读取它的内容了，这样会导致用户无法正常登录（即便是root用户）。用标准的<br>Linux用户管理工具去执行这些用户管理功能就会安全许多。</p>
<h2 id="x2F-etc-x2F-shadow-文件"><a href="#x2F-etc-x2F-shadow-文件" class="headerlink" title="&#x2F;etc&#x2F;shadow 文件"></a>&#x2F;etc&#x2F;shadow 文件</h2><p>&#x2F;etc&#x2F;shadow文件对Linux系统密码管理提供了更多的控制。只有root用户才能访问&#x2F;etc&#x2F;shadow文件，这让它比起&#x2F;etc&#x2F;passwd安全许多</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cat /etc/shadow                                                                                                         [mamh@10.0.63.43 ] 18-04-26 16:25  /home/mamh/work/jenkins-core</span><br><span class="line">root:!:16981:0:99999:7:::</span><br><span class="line">daemon:*:16848:0:99999:7:::</span><br><span class="line">bin:*:16848:0:99999:7:::</span><br><span class="line">sys:*:16848:0:99999:7:::</span><br><span class="line">sync:*:16848:0:99999:7:::</span><br><span class="line">games:*:16848:0:99999:7:::</span><br><span class="line">man:*:16848:0:99999:7:::</span><br><span class="line">lp:*:16848:0:99999:7:::</span><br><span class="line">mail:*:16848:0:99999:7:::</span><br><span class="line">news:*:16848:0:99999:7:::</span><br><span class="line">uucp:*:16848:0:99999:7:::</span><br><span class="line">proxy:*:16848:0:99999:7:::</span><br><span class="line">www-data:*:16848:0:99999:7:::</span><br><span class="line">backup:*:16848:0:99999:7:::</span><br><span class="line">list:*:16848:0:99999:7:::</span><br><span class="line">irc:*:16848:0:99999:7:::</span><br><span class="line">gnats:*:16848:0:99999:7:::</span><br><span class="line">nobody:*:16848:0:99999:7:::</span><br><span class="line">syslog:*:16848:0:99999:7:::</span><br><span class="line">messagebus:*:16848:0:99999:7:::</span><br><span class="line">usbmux:*:16848:0:99999:7:::</span><br><span class="line">dnsmasq:*:16848:0:99999:7:::</span><br><span class="line">avahi-autoipd:*:16848:0:99999:7:::</span><br><span class="line">kernoops:*:16848:0:99999:7:::</span><br><span class="line">rtkit:*:16848:0:99999:7:::</span><br><span class="line">saned:*:16848:0:99999:7:::</span><br><span class="line">whoopsie:*:16848:0:99999:7:::</span><br><span class="line">speech-dispatcher:!:16848:0:99999:7:::</span><br><span class="line">avahi:*:16848:0:99999:7:::</span><br><span class="line">lightdm:*:16848:0:99999:7:::</span><br><span class="line">colord:*:16848:0:99999:7:::</span><br><span class="line">hplip:*:16848:0:99999:7:::</span><br><span class="line">pulse:*:16848:0:99999:7:::</span><br><span class="line">mamh:$6$Gi6ZqWPy$nl9MvdIPaQLZnsBloMgapvrryXf8IzaB2ovIFG/V90qhNYw5xnhl2SyTLR9uHjaZUZt64COGiyd0FovPi02gK/:16981:0:99999:7:::</span><br><span class="line">sshd:*:16981:0:99999:7:::</span><br><span class="line">jenkins:*:17017:0:99999:7:::</span><br><span class="line">systemd-timesync:*:17028:0:99999:7:::</span><br><span class="line">systemd-network:*:17028:0:99999:7:::</span><br><span class="line">systemd-resolve:*:17028:0:99999:7:::</span><br><span class="line">systemd-bus-proxy:*:17028:0:99999:7:::</span><br><span class="line">uuidd:!:16848:0:99999:7:::</span><br><span class="line">_apt:*:17028:0:99999:7:::</span><br><span class="line">sddm:*:17029:0:99999:7:::</span><br><span class="line">ntop:*:17099:0:99999:7:::</span><br><span class="line">gerrit:!:17102:0:99999:7:::</span><br><span class="line">statd:*:17134:0:99999:7:::</span><br><span class="line">ftp:*:17169:0:99999:7:::</span><br><span class="line">postgres:*:17183:0:99999:7:::</span><br><span class="line">mysql:!:17338:0:99999:7:::</span><br><span class="line">Debian-exim:!:17344:0:99999:7:::</span><br><span class="line">tomcat8:*:17372:0:99999:7:::</span><br><span class="line">tomcat7:*:17372:0:99999:7:::</span><br><span class="line">postfix:*:17403:0:99999:7:::</span><br><span class="line">redis:*:17403:0:99999:7:::</span><br><span class="line">gitlab-www:!:17421::::::</span><br><span class="line">git:!:17421::::::</span><br><span class="line">gitlab-redis:!:17421::::::</span><br><span class="line">gitlab-psql:!:17421::::::</span><br><span class="line">gitlab-prometheus:!:17421::::::</span><br><span class="line">nexus:!:17520:0:99999:7:::</span><br><span class="line">jetty:*:17550:0:99999:7:::</span><br></pre></td></tr></table></figure>


<p>在&#x2F;etc&#x2F;shadow文件的每条记录中都有9个字段：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">与/etc/passwd文件中的登录名字段对应的登录名</span><br><span class="line">加密后的密码</span><br><span class="line">自上次修改密码后过去的天数密码（自1970年1月1日开始计算）</span><br><span class="line">多少天后才能更改密码</span><br><span class="line">多少天后必须更改密码</span><br><span class="line">密码过期前提前多少天提醒用户更改密码</span><br><span class="line">密码过期后多少天禁用用户账户</span><br><span class="line">用户账户被禁用的日期（用自1970年1月1日到当天的天数表示）</span><br><span class="line">预留字段给将来使用</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="添加新用户-useradd命令"><a href="#添加新用户-useradd命令" class="headerlink" title="添加新用户,useradd命令"></a>添加新用户,useradd命令</h2><p>useradd命令使用系统的默认值以及命令行参数来设置用户账户。系统默认值被设置在&#x2F;etc&#x2F;default&#x2F;useradd文件中.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ useradd -D                                                                                                                    </span><br><span class="line">GROUP=100             新用户会被添加到GID为100的公共组</span><br><span class="line">HOME=/home            新用户的HOME目录将会位于/home/loginname</span><br><span class="line">INACTIVE=-1           新用户账户密码在过期后不会被禁用；</span><br><span class="line">EXPIRE=               新用户账户未被设置过期日期；</span><br><span class="line">SHELL=/bin/sh         新用户账户将bash shell作为默认sh；</span><br><span class="line">SKEL=/etc/skel        系统会将/etc/skel目录下的内容复制到用户的HOME目录下</span><br><span class="line">CREATE_MAIL_SPOOL=no  系统为该用户账户在mail目录下创建一个用于接收邮件的文件</span><br><span class="line">$                      </span><br></pre></td></tr></table></figure>

<p>倒数第二个值很有意思。useradd命令允许管理员创建一份默认的HOME目录配置，然后把<br>它作为创建新用户HOME目录的模板。这样就能自动在每个新用户的HOME目录里放置默认的系<br>统文件。在Ubuntu Linux系统上，&#x2F;etc&#x2F;skel目录有下列文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ll /etc/skel -alh                                                                                                            </span><br><span class="line">total 40K</span><br><span class="line">drwxr-xr-x   2 root root 4.0K 5月  23  2017 ./</span><br><span class="line">drwxr-xr-x 191 root root  12K 4月  20 10:47 ../</span><br><span class="line">-rw-r--r--   1 root root 3.7K 6月  24  2016 .bashrc</span><br><span class="line">-rw-r--r--   1 root root  220 4月   9  2014 .bash_logout</span><br><span class="line">-rw-r--r--   1 root root  655 6月  24  2016 .profile</span><br><span class="line">-rw-r--r--   1 root root 8.8K 10月  4  2013 examples.desktop</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-c comment 给新用户添加备注</span><br><span class="line">-d home_dir 为主目录指定一个名字（如果不想用登录名作为主目录名的话）</span><br><span class="line">-e expire_date 用YYYY-MM-DD格式指定一个账户过期的日期</span><br><span class="line">-f inactive_days 指定这个账户密码过期后多少天这个账户被禁用；0表示密码一过期就立即禁用，1表示</span><br><span class="line">禁用这个功能</span><br><span class="line">-g initial_group 指定用户登录组的GID或组名</span><br><span class="line">-G group ... 指定用户除登录组之外所属的一个或多个附加组</span><br><span class="line">-k 必须和-m一起使用，将/etc/skel目录的内容复制到用户的HOME目录</span><br><span class="line">-m 创建用户的HOME目录</span><br><span class="line">-M 不创建用户的HOME目录（当默认设置里要求创建时才使用这个选项）</span><br><span class="line">-n 创建一个与用户登录名同名的新组</span><br><span class="line"></span><br><span class="line">-r 创建系统账户</span><br><span class="line">-p passwd 为用户账户指定默认密码</span><br><span class="line">-s shell 指定默认的登录shell</span><br><span class="line">-u uid 为账户指定唯一的UID</span><br></pre></td></tr></table></figure>

<p>修改一下系统的默认值,可以在-D选项后跟上一个指定的值来修改系统默认的新用户设置.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-b default_home 更改默认的创建用户HOME目录的位置</span><br><span class="line">-e expiration_date 更改默认的新账户的过期日期</span><br><span class="line">-f inactive 更改默认的新用户从密码过期到账户被禁用的天数</span><br><span class="line">-g group 更改默认的组名称或GID</span><br><span class="line">-s shell 更改默认的登录shell</span><br></pre></td></tr></table></figure>

<h2 id="删除用户-userdel命令"><a href="#删除用户-userdel命令" class="headerlink" title="删除用户 userdel命令"></a>删除用户 userdel命令</h2><p>userdel命令会只删除&#x2F;etc&#x2F;passwd文件中的用户信息，而不会删除系统中属于该账户的任何文件。.</p>
<p>-r参数，userdel会删除用户的HOME目录以及邮件目录.</p>
<h2 id="修改用户-usermod命令"><a href="#修改用户-usermod命令" class="headerlink" title="修改用户 usermod命令"></a>修改用户 usermod命令</h2><p>usermod命令是用户账户修改工具中最强大的一个。它能用来修改&#x2F;etc&#x2F;passwd文件中的大部分字段.<br>-c修改备注字段，<br>-e修改过期日期，<br>-g修改默认的登录组<br>-l修改用户账户的登录名。<br>-L锁定账户，使用户无法登录。<br>-p修改账户的密码。<br>-U解除锁定，使用户能够登录。  </p>
<h2 id="修改密码-passwd和chpasswd-命令"><a href="#修改密码-passwd和chpasswd-命令" class="headerlink" title="修改密码 passwd和chpasswd 命令"></a>修改密码 passwd和chpasswd 命令</h2><p>passwd和chpasswd<br>如果只用passwd命令，它会改你自己的密码。系统上的任何用户都能改自己的密码，但只有root用户才有权限改别人的密码。<br>-e选项能强制用户下次登录时修改密码。你可以先给用户设置一个简单的密码，之后再强制在下次登录时改成他们能记住的更复杂的密码。<br>如果需要为系统中的大量用户修改密码，chpasswd命令可以事半功倍。chpasswd命令能从标准输入自动读取登录名和密码对（由冒号分割）列表，给密码加密，然后为用户账户设置.</p>
<h2 id="修改用户-chsh、chfn和chage"><a href="#修改用户-chsh、chfn和chage" class="headerlink" title="修改用户 chsh、chfn和chage"></a>修改用户 chsh、chfn和chage</h2><p>chsh命令用来快速修改默认的用户登录shell。使用时必须用shell的全路径名作为参数，不能只用shell名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># chsh -s /bin/csh test</span><br><span class="line">Changing shell for test.</span><br><span class="line">Shell changed.</span><br><span class="line">#</span><br></pre></td></tr></table></figure>
<p>chfn命令提供了在&#x2F;etc&#x2F;passwd文件的备注字段中存储信息的标准方法。chfn命令会将用于<br>Unix的finger命令的信息存进备注字段，而不是简单地存入一些随机文本（比如名字或昵称之<br>类的），或是将备注字段留空。finger命令可以非常方便地查看Linux系统上的用户信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ finger mamh</span><br><span class="line">Login: mamh           			Name: </span><br><span class="line">Directory: /home/mamh               	Shell: /usr/bin/zsh</span><br><span class="line">On since Mon Apr 23 07:43 (CST) on tty7 from :0</span><br><span class="line">     4 days 1 hour idle</span><br><span class="line">On since Mon Apr 23 07:47 (CST) on pts/5 from 10.0.63.42</span><br><span class="line">    2 seconds idle</span><br><span class="line">On since Fri Apr 27 08:03 (CST) on pts/20 from :0</span><br><span class="line">   48 minutes 38 seconds idle</span><br><span class="line">On since Mon Apr 23 09:54 (CST) on pts/22 from linux-pc</span><br><span class="line">   3 days 23 hours idle</span><br><span class="line">On since Mon Apr 23 10:00 (CST) on pts/23 from linux-pc</span><br><span class="line">   17 hours 23 minutes idle</span><br><span class="line">Last login Thu Apr 26 20:36 (CST) on pts/26 from 10.0.13.159</span><br><span class="line">No mail.</span><br><span class="line">No Plan.</span><br><span class="line">$ finger root</span><br><span class="line">Login: root           			Name: root</span><br><span class="line">Directory: /root                    	Shell: /bin/bash</span><br><span class="line">Never logged in.</span><br><span class="line">No mail.</span><br><span class="line">No Plan.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>出于安全性考虑，很多Linux系统管理员会在系统上禁用finger命令，不少Linux发行版甚至都没有默认安装该命令。我的ubuntu上就没有。</p>
<p>chfn命令时没有参数，它会向你询问要将哪些适合的内容加进备注字段。</p>
<p>chage命令用来帮助管理用户账户的有效期。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-d 设置上次修改密码到现在的天数</span><br><span class="line">-E 设置密码过期的日期</span><br><span class="line">-I 设置密码过期到锁定账户的天数</span><br><span class="line">-m 设置修改密码之间最少要多少天</span><br><span class="line">-W 设置密码过期前多久开始出现提醒信息</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>chage命令的日期值可以用下面两种方式中的任意一种：<br> YYYY-MM-DD格式的日期<br> 代表从1970年1月1日起到该日期天数的数值</p>
<p>chage命令中有个好用的功能是设置账户的过期日期。有了它，你就能创建在特定日期自动<br>过期的临时用户，再也不需要记住删除用户了！过期的账户跟锁定的账户很相似：账户仍然存在，<br>但用户无法用它登录。</p>
<h2 id="x2F-etc-x2F-group-文件"><a href="#x2F-etc-x2F-group-文件" class="headerlink" title="&#x2F;etc&#x2F;group 文件"></a>&#x2F;etc&#x2F;group 文件</h2><p>每个组都有唯一的GID——跟UID类似，在系统上这是个唯一的数值。除了GID，每个组还有唯一的组名<br>Ubuntu就会为每个用户创建一个单独的与用户账户同名的组。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> /etc/group   </span><br><span class="line">root:x:0:</span><br><span class="line">daemon:x:1:</span><br><span class="line">bin:x:2:</span><br><span class="line">sys:x:3:</span><br><span class="line">adm:x:4:syslog,mamh</span><br><span class="line"><span class="built_in">tty</span>:x:5:mamh</span><br><span class="line">disk:x:6:</span><br><span class="line">lp:x:7:</span><br><span class="line">mail:x:8:</span><br><span class="line">news:x:9:</span><br><span class="line">uucp:x:10:</span><br><span class="line">man:x:12:</span><br><span class="line">proxy:x:13:</span><br><span class="line">kmem:x:15:</span><br><span class="line">dialout:x:20:mamh</span><br><span class="line">fax:x:21:</span><br><span class="line">voice:x:22:</span><br><span class="line">cdrom:x:24:mamh</span><br><span class="line">floppy:x:25:</span><br><span class="line">tape:x:26:</span><br><span class="line">sudo:x:27:mamh</span><br><span class="line">audio:x:29:pulse</span><br><span class="line">dip:x:30:mamh</span><br><span class="line">www-data:x:33:</span><br><span class="line">backup:x:34:</span><br><span class="line">operator:x:37:</span><br><span class="line">list:x:38:</span><br><span class="line">irc:x:39:</span><br><span class="line">src:x:40:</span><br><span class="line">gnats:x:41:</span><br><span class="line">shadow:x:42:</span><br><span class="line">utmp:x:43:</span><br><span class="line">video:x:44:</span><br><span class="line">sasl:x:45:</span><br><span class="line">plugdev:x:46:mamh</span><br><span class="line">staff:x:50:</span><br><span class="line">games:x:60:</span><br><span class="line"><span class="built_in">users</span>:x:100:</span><br><span class="line">nogroup:x:65534:</span><br><span class="line">netdev:x:102:</span><br><span class="line">crontab:x:103:</span><br><span class="line">syslog:x:104:</span><br><span class="line">fuse:x:105:</span><br><span class="line">messagebus:x:106:</span><br><span class="line">ssl-cert:x:107:postgres</span><br><span class="line">lpadmin:x:108:mamh</span><br><span class="line">scanner:x:109:saned</span><br><span class="line">mlocate:x:110:</span><br><span class="line">ssh:x:111:</span><br><span class="line">utempter:x:112:</span><br><span class="line">avahi-autoipd:x:113:</span><br><span class="line">rtkit:x:114:</span><br><span class="line">saned:x:115:</span><br><span class="line">whoopsie:x:116:</span><br><span class="line">avahi:x:117:</span><br><span class="line">lightdm:x:118:</span><br><span class="line">nopasswdlogin:x:119:</span><br><span class="line">bluetooth:x:120:</span><br><span class="line">colord:x:121:</span><br><span class="line">pulse:x:122:</span><br><span class="line">pulse-access:x:123:</span><br><span class="line">mamh:x:1000:</span><br><span class="line">sambashare:x:124:mamh</span><br><span class="line">jenkins:x:125:</span><br><span class="line">systemd-journal:x:126:</span><br><span class="line">systemd-timesync:x:127:</span><br><span class="line">systemd-network:x:128:</span><br><span class="line">systemd-resolve:x:129:</span><br><span class="line">systemd-bus-proxy:x:130:</span><br><span class="line">uuidd:x:101:</span><br><span class="line">input:x:131:</span><br><span class="line">sddm:x:132:</span><br><span class="line">ntop:x:133:</span><br><span class="line">gerrit:x:1001:</span><br><span class="line">ftp:x:134:</span><br><span class="line">postgres:x:135:</span><br><span class="line">docker:x:136:</span><br><span class="line">mysql:x:137:</span><br><span class="line">Debian-exim:x:138:</span><br><span class="line">tomcat8:x:139:</span><br><span class="line">tomcat7:x:140:</span><br><span class="line">postfix:x:141:</span><br><span class="line">postdrop:x:142:</span><br><span class="line">redis:x:143:</span><br><span class="line">gitlab-www:x:999:</span><br><span class="line">git:x:998:</span><br><span class="line">gitlab-redis:x:997:</span><br><span class="line">gitlab-psql:x:996:</span><br><span class="line">gitlab-prometheus:x:995:</span><br><span class="line">nexus:x:1002:</span><br><span class="line">jetty:x:144:</span><br><span class="line">vboxusers:x:145:</span><br><span class="line">$                           </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&#x2F;etc&#x2F;group文件有4个字段：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">组名</span><br><span class="line">组密码         <span class="comment"># 组密码允许非组内成员通过它临时成为该组成员。这个功能并不很普遍，但确实存在。</span></span><br><span class="line">GID</span><br><span class="line">属于该组的用户列表</span><br></pre></td></tr></table></figure>
<p>千万不能通过直接修改&#x2F;etc&#x2F;group文件来添加用户到一个组，要用usermod命令</p>
<h2 id="创建新组-groupadd命令"><a href="#创建新组-groupadd命令" class="headerlink" title="创建新组 groupadd命令"></a>创建新组 groupadd命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ groupadd --<span class="built_in">help</span> </span><br><span class="line">Usage: groupadd [options] GROUP</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -f, --force                   <span class="built_in">exit</span> successfully <span class="keyword">if</span> the group already exists,</span><br><span class="line">                                and cancel -g <span class="keyword">if</span> the GID is already used</span><br><span class="line">  -g, --gid GID                 use GID <span class="keyword">for</span> the new group</span><br><span class="line">  -h, --<span class="built_in">help</span>                    display this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  -K, --key KEY=VALUE           override /etc/login.defs defaults</span><br><span class="line">  -o, --non-unique              allow to create <span class="built_in">groups</span> with duplicate</span><br><span class="line">                                (non-unique) GID</span><br><span class="line">  -p, --password PASSWORD       use this encrypted password <span class="keyword">for</span> the new group</span><br><span class="line">  -r, --system                  create a system account</span><br><span class="line">  -R, --root CHROOT_DIR         directory to <span class="built_in">chroot</span> into</span><br><span class="line">      --extrausers              Use the extra <span class="built_in">users</span> database</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在创建新组时，默认没有用户被分配到该组。groupadd命令没有提供将用户添加到组中的选项，但可以用usermod命令来弥补这一点</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /usr/sbin/usermod -G shared rich</span></span><br><span class="line"><span class="comment"># /usr/sbin/usermod -G shared test</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>为用户账户分配组时要格外小心。如果加了-g选项，指定的组名会替换掉该账户的默认组。-G选项则将该组添加到用户的属组的列表里，不会影响默认组。</p>
<h2 id="修改组-groupmod命令"><a href="#修改组-groupmod命令" class="headerlink" title="修改组 groupmod命令"></a>修改组 groupmod命令</h2><p>修改组名时，GID和组成员不会变，只有组名改变。由于所有的安全权限都是基于GID的，<br>你可以随意改变组名而不会影响文件的安全性。</p>
<h2 id="文件权限符"><a href="#文件权限符" class="headerlink" title="文件权限符"></a>文件权限符</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> –l</span><br><span class="line">total 68</span><br><span class="line">-rw-rw-r-- 1 rich rich 50 2010-09-13 07:49 file1.gz</span><br><span class="line">-rw-rw-r-- 1 rich rich 23 2010-09-13 07:50 file2</span><br><span class="line">-rw-rw-r-- 1 rich rich 48 2010-09-13 07:56 file3</span><br><span class="line">-rw-rw-r-- 1 rich rich 34 2010-09-13 08:59 file4</span><br><span class="line">-rwxrwxr-x 1 rich rich 4882 2010-09-18 13:58 myprog</span><br><span class="line">-rw-rw-r-- 1 rich rich 237 2010-09-18 13:58 myprog.c</span><br><span class="line">drwxrwxr-x 2 rich rich 4096 2010-09-03 15:12 test1</span><br><span class="line">drwxrwxr-x 2 rich rich 4096 2010-09-03 15:12 test2</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果的第一个字段就是描述文件和目录权限的编码。这个字段的第一个字符代表了对象的类型：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> -代表文件</span><br><span class="line"> d代表目录</span><br><span class="line"> l代表链接</span><br><span class="line"> c代表字符型设备</span><br><span class="line"> b代表块设备</span><br><span class="line"> n代表网络设备</span><br><span class="line"></span><br><span class="line">之后有3组三字符的编码。每一组定义了3种访问权限：</span><br><span class="line">r代表对象是可读的</span><br><span class="line">w代表对象是可写的</span><br><span class="line">x代表对象是可执行的</span><br></pre></td></tr></table></figure>


<h2 id="默认文件权限-umask"><a href="#默认文件权限-umask" class="headerlink" title="默认文件权限    umask"></a>默认文件权限    umask</h2><p>umask命令用来设置所创建文件和目录的默认权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">touch</span> newfile</span><br><span class="line">$ <span class="built_in">ls</span> -al newfile</span><br><span class="line">-rw-r--r-- 1 rich rich 0 Sep 20 19:16 newfile</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">umask</span></span><br><span class="line">0022</span><br><span class="line">$</span><br></pre></td></tr></table></figure>

<p>umask命令设置没那么简单明了，想弄明白其工作原理就更混乱了。第一位代表了一项特别的安全特性，叫作粘着位（sticky bit）</p>
<p>八进制模式的安全性设置先获取这3个rwx权限的值，然后将其转换成3位二进制值，用一个八进制值来表示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">--- 000 0 没有任何权限</span><br><span class="line">--x 001 1 只有执行权限</span><br><span class="line">-w- 010 2 只有写入权限</span><br><span class="line">-wx 011 3 有写入和执行权限</span><br><span class="line">r-- 100 4 只有读取权限</span><br><span class="line">r-x 101 5 有读取和执行权限</span><br><span class="line">rw- 110 6 有读取和写入权限</span><br><span class="line">rwx 111 7 有全部权限</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="改变权限-chmod命令"><a href="#改变权限-chmod命令" class="headerlink" title="改变权限 chmod命令"></a>改变权限 chmod命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> options mode file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">chmod</span> 760 newfile</span><br><span class="line">$ <span class="built_in">ls</span> -l newfile</span><br><span class="line">-rwxrw---- 1 rich rich 0 Sep 20 19:16 newfile</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">u代表用户</span><br><span class="line">g代表组</span><br><span class="line">o代表其他</span><br><span class="line">a代表上述所有</span><br></pre></td></tr></table></figure>

<p>后面跟着的符号表示你是想在现有权限基础上增加权限（+），还是在现有权限基础上移除权限（），或是将权限设置成后面的值（&#x3D;）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">X：如果对象是目录或者它已有执行权限，赋予执行权限。</span><br><span class="line">s：运行时重新设置UID或GID。</span><br><span class="line">t：保留文件或目录。</span><br><span class="line">u：将权限设置为跟属主一样。</span><br><span class="line">g：将权限设置为跟属组一样。</span><br><span class="line">o：将权限设置为跟其他用户一样。</span><br></pre></td></tr></table></figure>

<p>-R选项可以让权限的改变递归地作用到文件和子目录</p>
<h2 id="改变所属关系-chown命令"><a href="#改变所属关系-chown命令" class="headerlink" title="改变所属关系  chown命令"></a>改变所属关系  chown命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> options owner[.group] file</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>-R选项配合通配符可以递归地改变子目录和文件的所属关系。<br>-h选项可以改变该文件的所有符号链接文件的所属关系.   </p>
<h2 id="粘着位-SUID-SGID"><a href="#粘着位-SUID-SGID" class="headerlink" title="粘着位, SUID , SGID"></a>粘着位, SUID , SGID</h2><p>Linux还为每个文件和目录存储了3个额外的信息位。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">设置用户ID（SUID）：当文件被用户使用时，程序会以文件属主的权限运行。</span><br><span class="line">设置组ID（SGID）：对文件来说，程序会以文件属组的权限运行；对目录来说，目录中创建的新文件会以目录的默认属组作为默认属组。</span><br><span class="line">粘着位：进程结束后文件还驻留（粘着）在内存中。</span><br></pre></td></tr></table></figure>

<h1 id="第8-章-管理文件系统"><a href="#第8-章-管理文件系统" class="headerlink" title="第8 章 管理文件系统"></a>第8 章 管理文件系统</h1><p>本章内容  </p>
<ul>
<li>文件系统基础  </li>
<li>日志文件系统与写时复制文件系统  </li>
<li>文件系统管理  </li>
<li>逻辑卷布局  </li>
<li>使用Linux逻辑卷管理器</li>
</ul>
<h2 id="ext文件系统"><a href="#ext文件系统" class="headerlink" title="ext文件系统"></a>ext文件系统</h2><p>Linux操作系统中引入的最早的文件系统叫作扩展文件系统（extended filesystem，简记为ext）。<br>ext文件系统采用名为索引节点的系统来存放虚拟目录中所存储文件的信息。索引节点系统<br>在每个物理设备中创建一个单独的表（称为索引节点表）来存储这些文件的信息。<br>ext文件系统名称中的extended部分来自其跟踪的每个文件的额外数据，包括：</p>
<ul>
<li>文件名</li>
<li>文件大小</li>
<li>文件的属主</li>
<li>文件的属组</li>
<li>文件的访问权限</li>
<li>指向存有文件数据的每个硬盘块的指针</li>
</ul>
<h2 id="ext2文件系统"><a href="#ext2文件系统" class="headerlink" title="ext2文件系统"></a>ext2文件系统</h2><p>最早的ext文件系统有不少限制，比如文件大小不得超过2 GB。第二代扩展文件系统，叫作ext2.<br>ext2文件系统还将允许的最大文件大小增加到了2 TB（在ext2的后期版本中增加到了32 TB），以容纳数据库服务器中常见的大文件。</p>
<h2 id="ext3文件系统"><a href="#ext3文件系统" class="headerlink" title="ext3文件系统"></a>ext3文件系统</h2><p>它采用和ext2文件系统相同的索引节点表结构，但给每个存储设备增加了一个日志文件，<br>以将准备写入存储设备的数据先记入日志。<br>日志文件系统为Linux系统增加了一层安全性。它不再使用之前先将数据直接写入存储设备<br>再更新索引节点表的做法，而是先将文件的更改写入到临时文件（称作日志，journal）中。在数<br>据成功写到存储设备和索引节点表之后，再删除对应的日志条目。<br>如果系统在数据被写入存储设备之前崩溃或断电了，日志文件系统下次会读取日志文件并处<br>理上次留下的未写入的数据。</p>
<h2 id="ext4文件系统"><a href="#ext4文件系统" class="headerlink" title="ext4文件系统"></a>ext4文件系统</h2><p>扩展ext3文件系统功能的结果是ext4文件系统.</p>
<h2 id="Reiser文件系统"><a href="#Reiser文件系统" class="headerlink" title="Reiser文件系统"></a>Reiser文件系统</h2><h2 id="JFS文件系统"><a href="#JFS文件系统" class="headerlink" title="JFS文件系统"></a>JFS文件系统</h2><p>JFS（Journaled File System，日志化文件系统①）是IBM在1990年为其Unix衍生版AIX开发的.</p>
<h2 id="XFS文件系统"><a href="#XFS文件系统" class="headerlink" title="XFS文件系统"></a>XFS文件系统</h2><h2 id="ZFS文件系统"><a href="#ZFS文件系统" class="headerlink" title="ZFS文件系统"></a>ZFS文件系统</h2><h2 id="Btrf文件系统"><a href="#Btrf文件系统" class="headerlink" title="Btrf文件系统"></a>Btrf文件系统</h2><p>Btrfs文件系统是COW的新人，也被称为B树文件系统。。OpenSUSE Linux发行版最近将Btrfs作为其默认文件系统。</p>
<h2 id="创建分区fdisk命令"><a href="#创建分区fdisk命令" class="headerlink" title="创建分区fdisk命令"></a>创建分区fdisk命令</h2><p>有时候，创建新磁盘分区最麻烦的事情就是找出安装在Linux系统中的物理磁盘。Linux<br>采用了一种标准格式来为硬盘分配设备名称，但是你得熟悉这种格式。对于老式的IDE驱<br>动器，Linux使用的是&#x2F;dev&#x2F;hdx。其中x表示一个字母，具体是什么要根据驱动器的检测顺<br>序（第一个驱动器是a，第二个驱动器是b，以此类推）。对于较新的SATA驱动器和SCSI<br>驱动器，Linux使用&#x2F;dev&#x2F;sdx。其中的x具体是什么也要根据驱动器的检测顺序（和之前一<br>样，第一个驱动器是a，第二个驱动器是b，以此类推）。在格式化分区之前，最好再检查<br>一下是否正确指定了驱动器。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a 设置活动分区标志</span><br><span class="line">b 编辑BSD Unix系统用的磁盘标签</span><br><span class="line">c 设置DOS兼容标志</span><br><span class="line">d 删除分区</span><br><span class="line">l 显示可用的分区类型</span><br><span class="line">m 显示命令选项</span><br><span class="line">n 添加一个新分区  ，                              n命令在该存储设备上创建新的分区</span><br><span class="line">o 创建DOS分区表</span><br><span class="line">p 显示当前分区表 ，                               p命令将一个存储设备的详细信息显示出来</span><br><span class="line">q 退出，不保存更改</span><br><span class="line">s 为Sun Unix系统创建一个新磁盘标签</span><br><span class="line">t 修改分区的系统ID</span><br><span class="line">u 改变使用的存储单位</span><br><span class="line">v 验证分区表</span><br><span class="line">w 将分区表写入磁盘                                w命令将更改保存到存储设备上</span><br><span class="line">x 高级功能</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>有些发行版和较旧的发行版在生成新分区之后并不会自动提醒Linux系统。如果是这样的<br>话，你要么使用partprob或hdparm命令（参考相应的手册页），要么重启系统，让系统<br>读取更新过的分区表。</p>
<h2 id="创建分区parted命令"><a href="#创建分区parted命令" class="headerlink" title="创建分区parted命令"></a>创建分区parted命令</h2><p>分区表分为2种，一种限制较多的MBR分区表，一种是较新限制较少的GPT分区。GPT分区支持的空间可以超过2TB。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># parted /dev/sdb</span></span><br><span class="line"></span><br><span class="line">进入到(parted) 交互界面下了</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">(parted) mklabel gpt</span><br><span class="line"></span><br><span class="line">(parted) mkpart primary 0GB 17TB  </span><br><span class="line"></span><br><span class="line">(parted) q. （退出）</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">创建文件系统，ext4格式的文件系统</span><br><span class="line"></span><br><span class="line"><span class="comment"># mkfs.ext4 /dev/sdb1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">挂载到 /work 下面</span><br><span class="line"></span><br><span class="line"><span class="comment"># mount /dev/sdb1 /work</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">释放保留空间这里设置为100mb</span><br><span class="line"><span class="comment">#   tune2fs -m 0.1 /dev/sdb1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="创建文件系统"><a href="#创建文件系统" class="headerlink" title="创建文件系统"></a>创建文件系统</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mkefs 创建一个ext文件系统</span><br><span class="line">mke2fs 创建一个ext2文件系统</span><br><span class="line">mkfs.ext3 创建一个ext3文件系统</span><br><span class="line">mkfs.ext4 创建一个ext4文件系统</span><br><span class="line">mkreiserfs 创建一个ReiserFS文件系统</span><br><span class="line">jfs_mkfs 创建一个JFS文件系统</span><br><span class="line">mkfs.xfs 创建一个XFS文件系统</span><br><span class="line">mkfs.zfs 创建一个ZFS文件系统</span><br><span class="line">mkfs.btrfs 创建一个Btrfs文件系统</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs.ext4 /dev/sdb1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将新文件系统挂载到虚拟目录中需要额外空间的任何位置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> /mnt</span><br><span class="line">$</span><br><span class="line">$ sudo <span class="built_in">mkdir</span> /mnt/my_partition</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">ls</span> -al /mnt/my_partition/</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">ls</span> -dF /mnt/my_partition</span><br><span class="line">/mnt/my_partition/</span><br><span class="line">$</span><br><span class="line">$ sudo mount -t ext4 /dev/sdb1 /mnt/my_partition</span><br><span class="line">$</span><br><span class="line">$ <span class="built_in">ls</span> -al /mnt/my_partition/</span><br><span class="line">total 24</span><br><span class="line">drwxr-xr-x. 3 root root 4096 Jun 11 09:53 .</span><br><span class="line">drwxr-xr-x. 3 root root 4096 Jun 11 09:58 ..</span><br><span class="line">drwx------. 2 root root 16384 Jun 11 09:53 lost+found</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这种挂载文件系统的方法只能临时挂载文件系统。当重启Linux系统时，文件系统并不会<br>自动挂载。要强制Linux在启动时自动挂载新的文件系统，可以将其添加到&#x2F;etc&#x2F;fstab文件。</p>
<h2 id="文件系统的检查与修复"><a href="#文件系统的检查与修复" class="headerlink" title="文件系统的检查与修复"></a>文件系统的检查与修复</h2><p>fsck命令能够检查和修复大部分类型的Linux文件系统，包括本章早些时候讨论过的ext、<br>ext2、ext3、ext4、ReiserFS、JFS和XFS。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-a 如果检测到错误，自动修复文件系统</span><br><span class="line">-A 检查/etc/fstab文件中列出的所有文件系统</span><br><span class="line">-C 给支持进度条功能的文件系统显示一个进度条（只有ext2和ext3）</span><br><span class="line">-N 不进行检查，只显示哪些检查会执行</span><br><span class="line">-r 出现错误时提示</span><br><span class="line">-R 使用-A选项时跳过根文件系统</span><br><span class="line">-s 检查多个文件系统时，依次进行检查</span><br><span class="line">-t 指定要检查的文件系统类型</span><br><span class="line">-T 启动时不显示头部信息</span><br><span class="line">-V 在检查时产生详细输出</span><br><span class="line">-y 检测到错误时自动修复文件系统</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>只能在未挂载的文件系统上运行fsck命令。对大多数文件系统来说，你只需卸载文件系<br>统来进行检查，检查完成之后重新挂载就好了。但因为根文件系统含有所有核心的Linux<br>命令和日志文件，所以你无法在处于运行状态的系统上卸载它。<br>这正是亲手体验Linux LiveCD的好时机！只需用LiveCD启动系统即可，然后在根文件系<br>统上运行fsck命令。</p>
<h2 id="逻辑卷管理"><a href="#逻辑卷管理" class="headerlink" title="逻辑卷管理"></a>逻辑卷管理</h2><p>在逻辑卷管理的世界里，硬盘称作物理卷（physical volume，PV）。<br>每个物理卷都会映射到硬盘上特定的物理分区。多个物理卷集中在一起可以形成一个卷组（volume group，VG）。<br>整个结构中的最后一层是逻辑卷（logical volume，LV）。</p>
<h1 id="第9-章-安装软件程序"><a href="#第9-章-安装软件程序" class="headerlink" title="第9 章 安装软件程序"></a>第9 章 安装软件程序</h1><p>本章内容  </p>
<ul>
<li>安装软件  </li>
<li>使用Debian包  </li>
<li>使用Red Hat包</li>
</ul>
<p>PMS工具及相关命令在不同的Linux发行版上有很大的不同。Linux中广泛使用的两种主要的PMS基础工具是dpkg和rpm</p>
<p>基于Debian的发行版（如Ubuntu和Linux Mint）使用的是dpkg命令</p>
<p>基于Red Hat的发行版（如Fedora、openSUSE及Mandriva）使用的是rpm命令</p>
<p>dpkg命令是基于Debian系PMS工具的核心。包含在这个PMS中的其他工具有：</p>
<ul>
<li>apt-get</li>
<li>apt-cache</li>
<li>aptitude</li>
</ul>
<h2 id="aptitude"><a href="#aptitude" class="headerlink" title="aptitude"></a>aptitude</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aptitude show package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看某个特定软件包相关的所有文件的列表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dpkg -L package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同样可以进行反向操作，查找某个特定文件属于哪个软件包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">dpkg --search absolute_file_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ aptitude search zsh                                                                                                  </span><br><span class="line">p   fizsh                                                                                   - Friendly Interactive ZSHell                                                                      </span><br><span class="line">i   zsh                                                                                     - shell with lots of features                                                                      </span><br><span class="line">p   zsh:i386                                                                                - shell with lots of features                                                                      </span><br><span class="line">p   zsh-antigen                                                                             - manage your zsh plugins                                                                          </span><br><span class="line">i A zsh-common                                                                              - architecture independent files for Zsh                                                           </span><br><span class="line">p   zsh-dbg                                                                                 - shell with lots of features (debugging symbols)                                                  </span><br><span class="line">p   zsh-dbg:i386                                                                            - shell with lots of features (debugging symbols)                                                  </span><br><span class="line">p   zsh-dev                                                                                 - shell with lots of features (development files)                                                  </span><br><span class="line">p   zsh-dev:i386                                                                            - shell with lots of features (development files)                                                  </span><br><span class="line">p   zsh-doc                                                                                 - zsh documentation - info/HTML format                                                             </span><br><span class="line">p   zsh-lovers                                                                              - tips, tricks and examples for the zsh                                                            </span><br><span class="line">p   zsh-static                                                                              - shell with lots of features (static link)                                                        </span><br><span class="line">p   zsh-static:i386                                                                         - shell with lots of features (static link)                                                        </span><br><span class="line">p   zsh-syntax-highlighting                                                                 - Fish shell like syntax highlighting for zsh                                                      </span><br><span class="line">p   zshdb                                                                                   - debugger for Z-Shell scripts                                                                     </span><br><span class="line">$             </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在每个包名字之前都有一个p或i。如果看到一个i，说明这个包现在已经安装到了你的系统上了。如果看到一个p或v，说明这个包可用，但还没安装。</p>
<p>在系统上用aptitude从软件仓库中安装软件包非常简单。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aptitude install package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>更新软件，这个命令会更新所有已安装的软件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aptitude safe-upgrade</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>它们同safe-upgrade的区别在于，它们不会检查包与包之间的依赖关系。整个包依赖关系问题非常麻烦。<br>如果不是很确定各种包的依赖关系，那还是坚持用safe-upgrade选项吧。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aptitude full-upgrade</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aptitude dist-upgrade</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>只删除软件包而不删除数据和配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo aptitude remove package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>删除软件包和相关的数据和配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo aptitude purge wine</span><br></pre></td></tr></table></figure>
<p>要看软件包是否已删除，可以再用aptitude的search选项。如果在软件包名称的前面看到<br>一个c，意味着软件已删除，但配置文件尚未从系统中清除；如果前面是个p的话，说明配置文件<br>也已删除。</p>
<h2 id="aptitude-仓库"><a href="#aptitude-仓库" class="headerlink" title="aptitude 仓库"></a>aptitude 仓库</h2><p>aptitude默认的软件仓库位置是在安装Linux发行版时设置的。具体位置存储在文件&#x2F;etc&#x2F;apt&#x2F;sources. list中。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb (or deb-src) address distribution_name package_type_list</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>deb或deb-src的值表明了软件包的类型,deb值说明这是一个已编译程序源，而deb-src值则说明这是一个源代码的源。<br>address条目是软件仓库的Web地址。distribution_name条目是这个特定软件仓库的发行版版本的名称。<br>package_type_list条目可能并不止一个词，它还表明仓库里面有什么类型的包。<br>你可以看到诸如main、restricted、universe和partner这样的值。</p>
<p>和基于Debian的发行版类似，基于Red Hat的系统也有几种不同的可用前端工具。常见的有以下3种。</p>
<ul>
<li>yum：在Red Hat和Fedora中使用。</li>
<li>urpm：在Mandriva中使用。</li>
<li>zypper：在openSUSE中使用。</li>
</ul>
<h2 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h2><p>要找出系统上已安装的包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum list installed</span><br><span class="line"></span><br><span class="line">yum list installed &gt; installed_software</span><br><span class="line"></span><br><span class="line">rpm -qa &gt; installed_software</span><br><span class="line"></span><br><span class="line">zypper search -I &gt; installed_software</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>安装软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>更新软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line"></span><br><span class="line">yum update package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>只删除软件包而保留配置文件和数据文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum remove package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>要删除软件和它所有的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum erase package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>有时在安装多个软件包时，某个包的软件依赖关系可能会被另一个包的安装覆盖掉。这叫作损坏的包依赖关系（broken dependency）。<br>如果系统出现了这个问题，先试试下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum clean all</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>然后试着用yum命令的update选项。有时，只要清理了放错位置的文件就可以了。<br>如果这还解决不了问题，试试下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum deplist package_name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果这样仍未解决问题，还有最后一招：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum update --skip-broken</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>–skip-broken选项允许你忽略依赖关系损坏的那个包，继续去更新其他软件包。这可能<br>救不了损坏的包，但至少可以更新系统上的其他包。</p>
<h2 id="yum-软件仓库"><a href="#yum-软件仓库" class="headerlink" title="yum 软件仓库"></a>yum 软件仓库</h2><p>要想知道你现在正从哪些仓库中获取软件，输入如下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>yum的仓库定义文件位于&#x2F;etc&#x2F;yum.repos.d。</p>
<h2 id="从源码安装"><a href="#从源码安装" class="headerlink" title="从源码安装"></a>从源码安装</h2><p>下载tar.gz的类型的源码包，然后解压，可以通过查看README文件来了解怎么编译安装。</p>
<p>一般步骤是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="第10-章-使用编辑器"><a href="#第10-章-使用编辑器" class="headerlink" title="第10 章 使用编辑器"></a>第10 章 使用编辑器</h1><p>本章内容  </p>
<ul>
<li>vim编辑器  </li>
<li>nano编辑器  </li>
<li>emacs编辑器  </li>
<li>KWrite编辑器  </li>
<li>Kate编辑器  </li>
<li>GNOME编辑器</li>
</ul>
<h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><p>普通模式,插入模式,命令行模式</p>
<p>vim中有用来移动光标的命令</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">h：左移一个字符。</span><br><span class="line">j：下移一行（文本中的下一行）。</span><br><span class="line">k：上移一行（文本中的上一行）。</span><br><span class="line">l：右移一个字符。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PageDown（或Ctrl+F）：下翻一屏。</span><br><span class="line">PageUp（或Ctrl+B）：上翻一屏。</span><br><span class="line">G：移到缓冲区的最后一行。</span><br><span class="line">num G：移动到缓冲区中的第num行。</span><br><span class="line">gg：移到缓冲区的第一行。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">q：如果未修改缓冲区数据，退出。</span><br><span class="line">q!：取消所有对缓冲区数据的修改并退出。</span><br><span class="line">w filename：将文件保存到另一个文件中。</span><br><span class="line">wq：将缓冲区数据保存到文件中并退出。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x 删除当前光标所在位置的字符</span><br><span class="line">dd 删除当前光标所在行</span><br><span class="line">dw 删除当前光标所在位置的单词</span><br><span class="line">d$ 删除当前光标所在位置至行尾的内容</span><br><span class="line">J 删除当前光标所在行行尾的换行符（拼接行）</span><br><span class="line">u 撤销前一编辑命令</span><br><span class="line">a 在当前光标后追加数据</span><br><span class="line">A 在当前光标所在行行尾追加数据</span><br><span class="line">r char 用char替换当前光标所在位置的单个字符</span><br><span class="line">R text 用text覆盖当前光标所在位置的数据，直到按下ESC键</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:s/old/new/g：一行命令替换所有old。</span><br><span class="line">:n,ms/old/new/g：替换行号n和m之间所有old。</span><br><span class="line">:%s/old/new/g：替换整个文件中的所有old。</span><br><span class="line">:%s/old/new/gc：替换整个文件中的所有old，但在每次出现时提示。</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="nano"><a href="#nano" class="headerlink" title="nano"></a>nano</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">CTRL+C 显示光标在文本编辑缓冲区中的位置</span><br><span class="line">CTRL+G 显示nano的主帮助窗口</span><br><span class="line">CTRL+J 调整当前文本段落</span><br><span class="line">CTRL+K 剪切文本行，并将其保存在剪切缓冲区</span><br><span class="line">CTRL+O 将当前文本编辑缓冲区的内容写入文件</span><br><span class="line">CTRL+R 将文件读入当前文本编辑缓冲区</span><br><span class="line">CTRL+T 启动可用的拼写检查器</span><br><span class="line">CTRL+U 将剪切缓冲区中的内容放入当前行</span><br><span class="line">CTRL+V 翻动到文本编辑缓冲区中的下一页内容</span><br><span class="line">CTRL+W 在文本编辑缓冲区中搜索单词或短语</span><br><span class="line">CTRL+X 关闭当前文本编辑缓冲区，退出nano，返回shell</span><br><span class="line">CTRL+Y 翻动到文本编辑缓冲区中的上一页内容</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="emacs"><a href="#emacs" class="headerlink" title="emacs"></a>emacs</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">C-p：上移一行（文本中的前一行</span><br><span class="line">C-b：左移一字符。</span><br><span class="line">C-f：右移一字符。</span><br><span class="line">C-n：下移一行（文本中的下一行）</span><br><span class="line"></span><br><span class="line">还有一些命令能够让光标在文本中进行较长距离的跳跃。</span><br><span class="line"> M-f：右移到下个单词。</span><br><span class="line"> M-b：左移到上个单词。</span><br><span class="line"> C-a：移至行首。</span><br><span class="line"> C-e：移至行尾。</span><br><span class="line"> M-a：移至当前句首。</span><br><span class="line"> M-e：移至当前句尾。</span><br><span class="line"> M-v：上翻一屏。</span><br><span class="line"> C-v：下翻一屏。</span><br><span class="line"> M-&lt;：移至文本的首行。</span><br><span class="line"> M-&gt;：移至文本的尾行。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">还有几个命令可以将编辑器缓冲区保存至文件并退出emacs。</span><br><span class="line"> C-x C-s：保存当前缓冲区到文件。</span><br><span class="line"> C-z：退出emacs并保持在这个会话中继续运行，以便你切回。</span><br><span class="line"> C-x C-c：退出emacs并停止该程序。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">M-Backspace：剪切光标当前所在位置之前的单词。</span><br><span class="line">M-d：剪切光标当前所在位置之后的单词。</span><br><span class="line">C-k：剪切光标当前所在位置至行尾的文本。</span><br><span class="line">M-k：剪切光标当前所在位置至句尾的文本。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="kwrite"><a href="#kwrite" class="headerlink" title="kwrite"></a>kwrite</h2><h2 id="kate"><a href="#kate" class="headerlink" title="kate"></a>kate</h2><h2 id="gedit"><a href="#gedit" class="headerlink" title="gedit"></a>gedit</h2><h2 id="第2部分-Part-2-shell-脚本编程基础"><a href="#第2部分-Part-2-shell-脚本编程基础" class="headerlink" title="第2部分 Part 2  shell 脚本编程基础"></a>第2部分 Part 2  shell 脚本编程基础</h2><h1 id="第11-章-构建基本脚本"><a href="#第11-章-构建基本脚本" class="headerlink" title="第11 章 构建基本脚本"></a>第11 章 构建基本脚本</h1><h1 id="第12-章-使用结构化命令"><a href="#第12-章-使用结构化命令" class="headerlink" title="第12 章 使用结构化命令"></a>第12 章 使用结构化命令</h1><h1 id="第13-章-更多的结构化命令"><a href="#第13-章-更多的结构化命令" class="headerlink" title="第13 章 更多的结构化命令"></a>第13 章 更多的结构化命令</h1><h1 id="第14-章-处理用户输入"><a href="#第14-章-处理用户输入" class="headerlink" title="第14 章 处理用户输入"></a>第14 章 处理用户输入</h1><h1 id="第15-章-呈现数据"><a href="#第15-章-呈现数据" class="headerlink" title="第15 章 呈现数据"></a>第15 章 呈现数据</h1><h1 id="第16-章-控制脚本"><a href="#第16-章-控制脚本" class="headerlink" title="第16 章 控制脚本"></a>第16 章 控制脚本</h1><h2 id="第3部分-Part-3-高级shell-脚本编程"><a href="#第3部分-Part-3-高级shell-脚本编程" class="headerlink" title="第3部分 Part 3    高级shell 脚本编程"></a>第3部分 Part 3    高级shell 脚本编程</h2><h1 id="第17-章-创建函数"><a href="#第17-章-创建函数" class="headerlink" title="第17 章 创建函数"></a>第17 章 创建函数</h1><h1 id="第18-章-图形化桌面环境中的脚本编程"><a href="#第18-章-图形化桌面环境中的脚本编程" class="headerlink" title="第18 章 图形化桌面环境中的脚本编程"></a>第18 章 图形化桌面环境中的脚本编程</h1><h1 id="第19-章-初识sed-和gawk"><a href="#第19-章-初识sed-和gawk" class="headerlink" title="第19 章 初识sed 和gawk"></a>第19 章 初识sed 和gawk</h1><h1 id="第20-章-正则表达式"><a href="#第20-章-正则表达式" class="headerlink" title="第20 章 正则表达式"></a>第20 章 正则表达式</h1><h1 id="第21-章-sed-进阶"><a href="#第21-章-sed-进阶" class="headerlink" title="第21 章 sed 进阶"></a>第21 章 sed 进阶</h1><h1 id="第22-章-gawk-进阶"><a href="#第22-章-gawk-进阶" class="headerlink" title="第22 章 gawk 进阶"></a>第22 章 gawk 进阶</h1><h1 id="第23-章-使用其他shell"><a href="#第23-章-使用其他shell" class="headerlink" title="第23 章 使用其他shell"></a>第23 章 使用其他shell</h1><h2 id="第4部分-Part-4-创建实用的脚本"><a href="#第4部分-Part-4-创建实用的脚本" class="headerlink" title="第4部分 Part 4 创建实用的脚本"></a>第4部分 Part 4 创建实用的脚本</h2><h1 id="第24-章-编写简单的脚本实用工具"><a href="#第24-章-编写简单的脚本实用工具" class="headerlink" title="第24 章 编写简单的脚本实用工具"></a>第24 章 编写简单的脚本实用工具</h1><h1 id="第25-章-创建与数据库、Web-及电子邮件相关的脚本"><a href="#第25-章-创建与数据库、Web-及电子邮件相关的脚本" class="headerlink" title="第25 章 创建与数据库、Web 及电子邮件相关的脚本"></a>第25 章 创建与数据库、Web 及电子邮件相关的脚本</h1><h1 id="第26-章-一些小有意思的脚本"><a href="#第26-章-一些小有意思的脚本" class="headerlink" title="第26 章 一些小有意思的脚本"></a>第26 章 一些小有意思的脚本</h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://magesfc.github.io">mage</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://magesfc.github.io/mage/a59aea6909843649b66f30db9a816ec413a28205/">https://magesfc.github.io/mage/a59aea6909843649b66f30db9a816ec413a28205/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://magesfc.github.io" target="_blank">马哥私房菜</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/shell/">shell</a></div><div class="post_share"><div class="social-share" data-image="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/null" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/null" alt="支付寶"/></a><div class="post-qr-code-desc">支付寶</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/mage/2af42b0589d7a698da699f89aa9e0bbfb1825a3c/"><img class="prev-cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JPA学习总结</div></div></a></div><div class="next-post pull-right"><a href="/mage/5e7ea3e2ff06f4fca8a33633a2cb685e1ead8c50/"><img class="next-cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringBoot学习总结</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/mage/38ae2954216cbb01f17e65a071e8e4ed0db94823/" title="Linux学习之shell实现并发执行命令"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="title">Linux学习之shell实现并发执行命令</div></div></a></div><div><a href="/mage/bead5c222ebd755a0ea0b8165ff0663545d6c700/" title="Linux学习之10个有用的链式操作符及其实例"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="title">Linux学习之10个有用的链式操作符及其实例</div></div></a></div><div><a href="/mage/16b8c6357057536aa45c505f7c99cb9d22c87038/" title="Linux学习之awk学习之Linux-awk-command系列"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="title">Linux学习之awk学习之Linux-awk-command系列</div></div></a></div><div><a href="/mage/8facee0ca4bc4450ba21eea69a97fe1891c415dc/" title="Linux学习之bash学习之bash_strict_mode"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-13</div><div class="title">Linux学习之bash学习之bash_strict_mode</div></div></a></div><div><a href="/mage/29b1dee9b6336ea01be4716d95ecfbad663018d6/" title="Linux学习之bash学习之几个特殊变量"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="title">Linux学习之bash学习之几个特殊变量</div></div></a></div><div><a href="/mage/0158e8186f0827d0b00df276735e46e876749b88/" title="Linux学习之bash学习之在bash中&#x3D;和&#x3D;~的区别"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="title">Linux学习之bash学习之在bash中&#x3D;和&#x3D;~的区别</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">mage</div><div class="author-info__description"> 这里是 马哥 的个人博客 </div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">171</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">190</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">35</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/mamh2021"><i class="fab fa-github"></i><span>GitHub</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/mamh2021" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8%E3%80%8B%E7%AC%AC%E4%B8%89%E7%89%88-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">《Linux命令行与shell脚本编程大全》第三版 学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC1%E9%83%A8%E5%88%86-Part-1-Linux-%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-number">1.1.</span> <span class="toc-text">第1部分 Part 1 Linux 命令行</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC1-%E7%AB%A0-%E5%88%9D%E8%AF%86Linux-shell"><span class="toc-number">2.</span> <span class="toc-text">第1 章 初识Linux shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFLinux"><span class="toc-number">2.1.</span> <span class="toc-text">什么是Linux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E5%8F%91%E8%A1%8C%E7%89%88"><span class="toc-number">2.2.</span> <span class="toc-text">Linux 发行版</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC2-%E7%AB%A0-%E8%B5%B0%E8%BF%9Bshell"><span class="toc-number">3.</span> <span class="toc-text">第2 章 走进shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%BB%88%E7%AB%AF"><span class="toc-number">3.1.</span> <span class="toc-text">控制台终端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%BB%88%E7%AB%AF"><span class="toc-number">3.2.</span> <span class="toc-text">图形化终端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87Linux-%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%BB%88%E7%AB%AF%E8%AE%BF%E9%97%AECLI"><span class="toc-number">3.3.</span> <span class="toc-text">通过Linux 控制台终端访问CLI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%BB%88%E7%AB%AF%E4%BB%BF%E7%9C%9F%E8%AE%BF%E9%97%AECLI"><span class="toc-number">3.4.</span> <span class="toc-text">通过图形化终端仿真访问CLI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8GNOME-Terminal-%E4%BB%BF%E7%9C%9F%E5%99%A8"><span class="toc-number">3.5.</span> <span class="toc-text">使用GNOME Terminal 仿真器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Konsole-Terminal-%E4%BB%BF%E7%9C%9F%E5%99%A8"><span class="toc-number">3.6.</span> <span class="toc-text">使用Konsole Terminal 仿真器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8xterm-%E7%BB%88%E7%AB%AF%E4%BB%BF%E7%9C%9F%E5%99%A8"><span class="toc-number">3.7.</span> <span class="toc-text">使用xterm 终端仿真器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC3-%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E7%9A%84bash-shell-%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">第3 章 基本的bash shell 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.1.</span> <span class="toc-text">Linux 文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95"><span class="toc-number">4.2.</span> <span class="toc-text">遍历目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%88%97%E8%A1%A8%E5%8A%9F%E8%83%BD"><span class="toc-number">4.3.</span> <span class="toc-text">基本列表功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E9%95%BF%E5%88%97%E8%A1%A8"><span class="toc-number">4.4.</span> <span class="toc-text">显示长列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E8%BE%93%E5%87%BA%E5%88%97%E8%A1%A8"><span class="toc-number">4.5.</span> <span class="toc-text">过滤输出列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-number">4.6.</span> <span class="toc-text">创建文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">4.7.</span> <span class="toc-text">复制文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%B6%E8%A1%A8%E9%94%AE%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8"><span class="toc-number">4.8.</span> <span class="toc-text">制表键自动补全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6"><span class="toc-number">4.9.</span> <span class="toc-text">链接文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6"><span class="toc-number">4.10.</span> <span class="toc-text">重命名文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">4.11.</span> <span class="toc-text">删除文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-number">4.12.</span> <span class="toc-text">创建目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95"><span class="toc-number">4.13.</span> <span class="toc-text">删除目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.14.</span> <span class="toc-text">查看文件类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B4%E4%B8%AA%E6%96%87%E4%BB%B6"><span class="toc-number">4.15.</span> <span class="toc-text">查看整个文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E9%83%A8%E5%88%86%E6%96%87%E4%BB%B6"><span class="toc-number">4.16.</span> <span class="toc-text">查看部分文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC4-%E7%AB%A0-%E6%9B%B4%E5%A4%9A%E7%9A%84bash-shell-%E5%91%BD%E4%BB%A4"><span class="toc-number">5.</span> <span class="toc-text">第4 章 更多的bash shell 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A2%E6%9F%A5%E8%BF%9B%E7%A8%8B"><span class="toc-number">5.1.</span> <span class="toc-text">探查进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E7%9B%91%E6%B5%8B%E8%BF%9B%E7%A8%8B"><span class="toc-number">5.2.</span> <span class="toc-text">实时监测进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9D%9F%E8%BF%9B%E7%A8%8B"><span class="toc-number">5.3.</span> <span class="toc-text">结束进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E5%AD%98%E5%82%A8%E5%AA%92%E4%BD%93"><span class="toc-number">5.4.</span> <span class="toc-text">挂载存储媒体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8df-%E5%91%BD%E4%BB%A4"><span class="toc-number">5.5.</span> <span class="toc-text">使用df 命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8du-%E5%91%BD%E4%BB%A4"><span class="toc-number">5.6.</span> <span class="toc-text">使用du 命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%95%B0%E6%8D%AE"><span class="toc-number">5.7.</span> <span class="toc-text">排序数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">5.8.</span> <span class="toc-text">搜索数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E6%95%B0%E6%8D%AE"><span class="toc-number">5.9.</span> <span class="toc-text">压缩数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E6%A1%A3%E6%95%B0%E6%8D%AE"><span class="toc-number">5.10.</span> <span class="toc-text">归档数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC5-%E7%AB%A0-%E7%90%86%E8%A7%A3shell"><span class="toc-number">6.</span> <span class="toc-text">第5 章 理解shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell-%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.1.</span> <span class="toc-text">shell 的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%88%97%E8%A1%A8"><span class="toc-number">6.2.</span> <span class="toc-text">进程列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4-x2F-%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">6.3.</span> <span class="toc-text">内建命令&#x2F;外部命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC6-%E7%AB%A0-%E4%BD%BF%E7%94%A8Linux-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.</span> <span class="toc-text">第6 章 使用Linux 环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.1.</span> <span class="toc-text">什么是环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.</span> <span class="toc-text">设置用户定义变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.1.</span> <span class="toc-text">设置局部变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exprot-%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.2.</span> <span class="toc-text">exprot 设置全局环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unset-%E5%88%A0%E9%99%A4%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.2.3.</span> <span class="toc-text">unset 删除环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%9A%84shell-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.3.</span> <span class="toc-text">默认的shell 环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEPATH-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.4.</span> <span class="toc-text">设置PATH 环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">7.5.</span> <span class="toc-text">定位系统环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8F%98%E9%87%8F"><span class="toc-number">7.6.</span> <span class="toc-text">数组变量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC7-%E7%AB%A0-%E7%90%86%E8%A7%A3Linux-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-number">8.</span> <span class="toc-text">第7 章 理解Linux 文件权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#x2F-etc-x2F-passwd-%E6%96%87%E4%BB%B6"><span class="toc-number">8.1.</span> <span class="toc-text">&#x2F;etc&#x2F;passwd 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#x2F-etc-x2F-shadow-%E6%96%87%E4%BB%B6"><span class="toc-number">8.2.</span> <span class="toc-text">&#x2F;etc&#x2F;shadow 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%94%A8%E6%88%B7-useradd%E5%91%BD%E4%BB%A4"><span class="toc-number">8.3.</span> <span class="toc-text">添加新用户,useradd命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-userdel%E5%91%BD%E4%BB%A4"><span class="toc-number">8.4.</span> <span class="toc-text">删除用户 userdel命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7-usermod%E5%91%BD%E4%BB%A4"><span class="toc-number">8.5.</span> <span class="toc-text">修改用户 usermod命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81-passwd%E5%92%8Cchpasswd-%E5%91%BD%E4%BB%A4"><span class="toc-number">8.6.</span> <span class="toc-text">修改密码 passwd和chpasswd 命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7-chsh%E3%80%81chfn%E5%92%8Cchage"><span class="toc-number">8.7.</span> <span class="toc-text">修改用户 chsh、chfn和chage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#x2F-etc-x2F-group-%E6%96%87%E4%BB%B6"><span class="toc-number">8.8.</span> <span class="toc-text">&#x2F;etc&#x2F;group 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E7%BB%84-groupadd%E5%91%BD%E4%BB%A4"><span class="toc-number">8.9.</span> <span class="toc-text">创建新组 groupadd命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%BB%84-groupmod%E5%91%BD%E4%BB%A4"><span class="toc-number">8.10.</span> <span class="toc-text">修改组 groupmod命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%AC%A6"><span class="toc-number">8.11.</span> <span class="toc-text">文件权限符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90-umask"><span class="toc-number">8.12.</span> <span class="toc-text">默认文件权限    umask</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E6%9D%83%E9%99%90-chmod%E5%91%BD%E4%BB%A4"><span class="toc-number">8.13.</span> <span class="toc-text">改变权限 chmod命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E6%89%80%E5%B1%9E%E5%85%B3%E7%B3%BB-chown%E5%91%BD%E4%BB%A4"><span class="toc-number">8.14.</span> <span class="toc-text">改变所属关系  chown命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B2%98%E7%9D%80%E4%BD%8D-SUID-SGID"><span class="toc-number">8.15.</span> <span class="toc-text">粘着位, SUID , SGID</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC8-%E7%AB%A0-%E7%AE%A1%E7%90%86%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.</span> <span class="toc-text">第8 章 管理文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ext%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.1.</span> <span class="toc-text">ext文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ext2%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.2.</span> <span class="toc-text">ext2文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ext3%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.3.</span> <span class="toc-text">ext3文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ext4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.4.</span> <span class="toc-text">ext4文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reiser%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.5.</span> <span class="toc-text">Reiser文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JFS%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.6.</span> <span class="toc-text">JFS文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XFS%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.7.</span> <span class="toc-text">XFS文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZFS%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.8.</span> <span class="toc-text">ZFS文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Btrf%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.9.</span> <span class="toc-text">Btrf文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BAfdisk%E5%91%BD%E4%BB%A4"><span class="toc-number">9.10.</span> <span class="toc-text">创建分区fdisk命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BAparted%E5%91%BD%E4%BB%A4"><span class="toc-number">9.11.</span> <span class="toc-text">创建分区parted命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">9.12.</span> <span class="toc-text">创建文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A3%80%E6%9F%A5%E4%B8%8E%E4%BF%AE%E5%A4%8D"><span class="toc-number">9.13.</span> <span class="toc-text">文件系统的检查与修复</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86"><span class="toc-number">9.14.</span> <span class="toc-text">逻辑卷管理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC9-%E7%AB%A0-%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E7%A8%8B%E5%BA%8F"><span class="toc-number">10.</span> <span class="toc-text">第9 章 安装软件程序</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#aptitude"><span class="toc-number">10.1.</span> <span class="toc-text">aptitude</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#aptitude-%E4%BB%93%E5%BA%93"><span class="toc-number">10.2.</span> <span class="toc-text">aptitude 仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yum"><span class="toc-number">10.3.</span> <span class="toc-text">yum</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yum-%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93"><span class="toc-number">10.4.</span> <span class="toc-text">yum 软件仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85"><span class="toc-number">10.5.</span> <span class="toc-text">从源码安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC10-%E7%AB%A0-%E4%BD%BF%E7%94%A8%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">11.</span> <span class="toc-text">第10 章 使用编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vim"><span class="toc-number">11.1.</span> <span class="toc-text">vim</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nano"><span class="toc-number">11.2.</span> <span class="toc-text">nano</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#emacs"><span class="toc-number">11.3.</span> <span class="toc-text">emacs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kwrite"><span class="toc-number">11.4.</span> <span class="toc-text">kwrite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kate"><span class="toc-number">11.5.</span> <span class="toc-text">kate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gedit"><span class="toc-number">11.6.</span> <span class="toc-text">gedit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC2%E9%83%A8%E5%88%86-Part-2-shell-%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80"><span class="toc-number">11.7.</span> <span class="toc-text">第2部分 Part 2  shell 脚本编程基础</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC11-%E7%AB%A0-%E6%9E%84%E5%BB%BA%E5%9F%BA%E6%9C%AC%E8%84%9A%E6%9C%AC"><span class="toc-number">12.</span> <span class="toc-text">第11 章 构建基本脚本</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC12-%E7%AB%A0-%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4"><span class="toc-number">13.</span> <span class="toc-text">第12 章 使用结构化命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC13-%E7%AB%A0-%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4"><span class="toc-number">14.</span> <span class="toc-text">第13 章 更多的结构化命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC14-%E7%AB%A0-%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5"><span class="toc-number">15.</span> <span class="toc-text">第14 章 处理用户输入</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC15-%E7%AB%A0-%E5%91%88%E7%8E%B0%E6%95%B0%E6%8D%AE"><span class="toc-number">16.</span> <span class="toc-text">第15 章 呈现数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC16-%E7%AB%A0-%E6%8E%A7%E5%88%B6%E8%84%9A%E6%9C%AC"><span class="toc-number">17.</span> <span class="toc-text">第16 章 控制脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC3%E9%83%A8%E5%88%86-Part-3-%E9%AB%98%E7%BA%A7shell-%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B"><span class="toc-number">17.1.</span> <span class="toc-text">第3部分 Part 3    高级shell 脚本编程</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC17-%E7%AB%A0-%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0"><span class="toc-number">18.</span> <span class="toc-text">第17 章 创建函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC18-%E7%AB%A0-%E5%9B%BE%E5%BD%A2%E5%8C%96%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E4%B8%AD%E7%9A%84%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B"><span class="toc-number">19.</span> <span class="toc-text">第18 章 图形化桌面环境中的脚本编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC19-%E7%AB%A0-%E5%88%9D%E8%AF%86sed-%E5%92%8Cgawk"><span class="toc-number">20.</span> <span class="toc-text">第19 章 初识sed 和gawk</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC20-%E7%AB%A0-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">21.</span> <span class="toc-text">第20 章 正则表达式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC21-%E7%AB%A0-sed-%E8%BF%9B%E9%98%B6"><span class="toc-number">22.</span> <span class="toc-text">第21 章 sed 进阶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC22-%E7%AB%A0-gawk-%E8%BF%9B%E9%98%B6"><span class="toc-number">23.</span> <span class="toc-text">第22 章 gawk 进阶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC23-%E7%AB%A0-%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96shell"><span class="toc-number">24.</span> <span class="toc-text">第23 章 使用其他shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC4%E9%83%A8%E5%88%86-Part-4-%E5%88%9B%E5%BB%BA%E5%AE%9E%E7%94%A8%E7%9A%84%E8%84%9A%E6%9C%AC"><span class="toc-number">24.1.</span> <span class="toc-text">第4部分 Part 4 创建实用的脚本</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC24-%E7%AB%A0-%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95%E7%9A%84%E8%84%9A%E6%9C%AC%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="toc-number">25.</span> <span class="toc-text">第24 章 编写简单的脚本实用工具</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC25-%E7%AB%A0-%E5%88%9B%E5%BB%BA%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81Web-%E5%8F%8A%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%9B%B8%E5%85%B3%E7%9A%84%E8%84%9A%E6%9C%AC"><span class="toc-number">26.</span> <span class="toc-text">第25 章 创建与数据库、Web 及电子邮件相关的脚本</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC26-%E7%AB%A0-%E4%B8%80%E4%BA%9B%E5%B0%8F%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E8%84%9A%E6%9C%AC"><span class="toc-number">27.</span> <span class="toc-text">第26 章 一些小有意思的脚本</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/mage/a8b9a8894f2d128c64404106a905e53fa92e280a/" title="Nexus学习之调整HTML视图下面排序"><img src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nexus学习之调整HTML视图下面排序"/></a><div class="content"><a class="title" href="/mage/a8b9a8894f2d128c64404106a905e53fa92e280a/" title="Nexus学习之调整HTML视图下面排序">Nexus学习之调整HTML视图下面排序</a><time datetime="2023-03-21T14:55:52.000Z" title="更新于 2023-03-21 22:55:52">2023-03-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/268c90a3265622684047ac29c1d95c62fa1b873f/" title="Nexus学习之调整browse视图下面排序"><img src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nexus学习之调整browse视图下面排序"/></a><div class="content"><a class="title" href="/mage/268c90a3265622684047ac29c1d95c62fa1b873f/" title="Nexus学习之调整browse视图下面排序">Nexus学习之调整browse视图下面排序</a><time datetime="2023-03-21T12:03:46.000Z" title="更新于 2023-03-21 20:03:46">2023-03-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/7ae747abf6f89677bc034d9c099ff334267b2664/" title="gerrit学习之gerrit配置js插件"><img src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="gerrit学习之gerrit配置js插件"/></a><div class="content"><a class="title" href="/mage/7ae747abf6f89677bc034d9c099ff334267b2664/" title="gerrit学习之gerrit配置js插件">gerrit学习之gerrit配置js插件</a><time datetime="2023-03-18T11:23:47.000Z" title="更新于 2023-03-18 19:23:47">2023-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/298144bf31bdad623369d39b38ebddb64dde1abd/" title="jenkins学习之Jenkins开发调试于jenkins插件开发调试"><img src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="jenkins学习之Jenkins开发调试于jenkins插件开发调试"/></a><div class="content"><a class="title" href="/mage/298144bf31bdad623369d39b38ebddb64dde1abd/" title="jenkins学习之Jenkins开发调试于jenkins插件开发调试">jenkins学习之Jenkins开发调试于jenkins插件开发调试</a><time datetime="2023-03-16T05:47:11.000Z" title="更新于 2023-03-16 13:47:11">2023-03-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/mage/99fd30947b3d8a14f909e4875dc196943b037448/" title="jenkins插件学习之extended-choice-parameter-plugin"><img src= "/img/loading.gif" data-lazy-src="https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="jenkins插件学习之extended-choice-parameter-plugin"/></a><div class="content"><a class="title" href="/mage/99fd30947b3d8a14f909e4875dc196943b037448/" title="jenkins插件学习之extended-choice-parameter-plugin">jenkins插件学习之extended-choice-parameter-plugin</a><time datetime="2023-03-11T13:56:49.000Z" title="更新于 2023-03-11 21:56:49">2023-03-11</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://office-1256119282.file.myqcloud.com/2022/official-web/cdn/20220301/pc_bg_05.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By mage</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>